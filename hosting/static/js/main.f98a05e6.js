/*! For license information please see main.f98a05e6.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,Et,St=!1,Tt=[],Ct=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return In}var Sn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ni),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Si(Ci,e)):Ei(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Wi=null,Hi=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Ki++]=Hi,qi[Ki++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ai:Ci.current;return a=Pi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Oi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Pi(t,s=Oi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Ru,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Ru(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,$u=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Is,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Ns=0,As=null,Ps=null,Os=0,Rs=0,Ds=Ii(0),Ls=0,Ms=null,js=0,Fs=0,Us=0,Vs=null,zs=null,Bs=0,qs=1/0,Ks=null,Ws=!1,Hs=null,Gs=null,Qs=!1,Ys=null,$s=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Os?Os&-Os:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(Fs|=n),4===Ls&&sc(e,Os)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=vc();for(As===e&&Os===t||(Ks=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,Ns=i,null!==Ps?t=0:(As=null,Os=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,Ks),t);break}xc(e,zs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,Ks),r);break}xc(e,zs,Ks);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,Ks),ic(e,Xe()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Xe()+500,Ui&&Bi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&_c();var t=Ns;Ns|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Ns=t))&&Bi()}}function hc(){Rs=Ds.current,Ei(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Ps=e=Dc(e.current,null),Os=Rs=t,Ls=0,Ms=null,Us=Fs=js=0,zs=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&js)&&0===(268435455&Fs)||sc(As,Os)}function yc(e,t){var n=Ns;Ns|=2;var r=vc();for(As===e&&Os===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Ns=n,Ss.current=r,null!==Ps)throw Error(a(261));return As=null,Os=0,Ls}function gc(){for(;null!==Ps;)bc(Ps)}function kc(){for(;null!==Ps&&!Ye();)bc(Ps)}function bc(e){var t=Is(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Ps=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Rs)))return void(Ps=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ps=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),Ns=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,$s=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Ys){var e=bt($s),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,$s=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Ls||3===Ls&&(130023424&Os)===Os&&500>Xe()-Bs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Ns)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},147:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(791)),c=n(857),l=n(19),f=["ArrowRight","ArrowUp","k","PageUp"],h=["ArrowLeft","ArrowDown","j","PageDown"],d=function(e){function t(t){var n=e.call(this,t)||this;if(n.trackRef=s.createRef(),n.thumbRefs=[],n.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(n.props.values.length).fill(0).map((function(e,t){return t})),isChanged:!1,markOffsets:[]},n.getOffsets=function(){var e=n.props,t=e.direction,r=e.values,i=e.min,a=e.max,o=n.trackRef.current,u=o.getBoundingClientRect(),s=(0,c.getPaddingAndBorder)(o);return n.getThumbs().map((function(e,n){var o={x:0,y:0},f=e.getBoundingClientRect(),h=(0,c.getMargin)(e);switch(t){case l.Direction.Right:return o.x=-1*(h.left+s.left),o.y=-1*((f.height-u.height)/2+s.top),o.x+=u.width*(0,c.relativeValue)(r[n],i,a)-f.width/2,o;case l.Direction.Left:return o.x=-1*(h.right+s.right),o.y=-1*((f.height-u.height)/2+s.top),o.x+=u.width-u.width*(0,c.relativeValue)(r[n],i,a)-f.width/2,o;case l.Direction.Up:return o.x=-1*((f.width-u.width)/2+h.left+s.left),o.y=-s.left,o.y+=u.height-u.height*(0,c.relativeValue)(r[n],i,a)-f.height/2,o;case l.Direction.Down:return o.x=-1*((f.width-u.width)/2+h.left+s.left),o.y=-s.left,o.y+=u.height*(0,c.relativeValue)(r[n],i,a)-f.height/2,o;default:return(0,c.assertUnreachable)(t)}}))},n.getThumbs=function(){return n.trackRef&&n.trackRef.current?Array.from(n.trackRef.current.children).filter((function(e){return e.hasAttribute("aria-valuenow")})):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},n.getTargetIndex=function(e){return n.getThumbs().findIndex((function(t){return t===e.target||t.contains(e.target)}))},n.addTouchEvents=function(e){document.addEventListener("touchmove",n.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",n.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",n.schdOnEnd,{passive:!1})},n.addMouseEvents=function(e){document.addEventListener("mousemove",n.schdOnMouseMove),document.addEventListener("mouseup",n.schdOnEnd)},n.onMouseDownTrack=function(e){var t;if(0===e.button)if(e.persist(),e.preventDefault(),n.addMouseEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.clientX,e.clientY]},(function(){return n.onMove(e.clientX,e.clientY)}))}else{var r=(0,c.getClosestThumbIndex)(n.thumbRefs.map((function(e){return e.current})),e.clientX,e.clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.clientX,e.clientY)}))}},n.onResize=function(){(0,c.translateThumbs)(n.getThumbs(),n.getOffsets(),n.props.rtl),n.calculateMarkOffsets()},n.onTouchStartTrack=function(e){var t;if(e.persist(),n.addTouchEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.touches[0].clientX,e.touches[0].clientY]},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}else{var r=(0,c.getClosestThumbIndex)(n.thumbRefs.map((function(e){return e.current})),e.touches[0].clientX,e.touches[0].clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}},n.onMouseOrTouchStart=function(e){if(!n.props.disabled){var t=(0,c.isTouchEvent)(e);if(t||0===e.button){var r=n.getTargetIndex(e);-1!==r&&(t?n.addTouchEvents(e):n.addMouseEvents(e),n.setState({draggedThumbIndex:r,thumbZIndexes:n.state.thumbZIndexes.map((function(e,t){return t===r?Math.max.apply(Math,n.state.thumbZIndexes):e<=n.state.thumbZIndexes[r]?e:e-1}))}))}}},n.onMouseMove=function(e){e.preventDefault(),n.onMove(e.clientX,e.clientY)},n.onTouchMove=function(e){e.preventDefault(),n.onMove(e.touches[0].clientX,e.touches[0].clientY)},n.onKeyDown=function(e){var t=n.props,r=t.values,i=t.onChange,a=t.step,o=t.rtl,u=t.direction,s=n.state.isChanged,d=n.getTargetIndex(e.nativeEvent),p=o||u===l.Direction.Left||u===l.Direction.Down?-1:1;-1!==d&&(f.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:d,isChanged:!0}),i((0,c.replaceAt)(r,d,n.normalizeValue(r[d]+p*("PageUp"===e.key?10*a:a),d)))):h.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:d,isChanged:!0}),i((0,c.replaceAt)(r,d,n.normalizeValue(r[d]-p*("PageDown"===e.key?10*a:a),d)))):"Tab"===e.key?n.setState({draggedThumbIndex:-1},(function(){s&&n.fireOnFinalChange()})):s&&n.fireOnFinalChange())},n.onKeyUp=function(e){var t=n.state.isChanged;n.setState({draggedThumbIndex:-1},(function(){t&&n.fireOnFinalChange()}))},n.onMove=function(e,t){var r=n.state,i=r.draggedThumbIndex,a=r.draggedTrackPos,o=n.props,u=o.direction,s=o.min,f=o.max,h=o.onChange,d=o.values,p=o.step,v=o.rtl;if(-1===i&&-1===a[0]&&-1===a[1])return null;var m=n.trackRef.current;if(!m)return null;var y=m.getBoundingClientRect(),g=(0,c.isVertical)(u)?y.height:y.width;if(-1!==a[0]&&-1!==a[1]){var k=e-a[0],b=t-a[1],w=0;switch(u){case l.Direction.Right:case l.Direction.Left:w=k/g*(f-s);break;case l.Direction.Down:case l.Direction.Up:w=b/g*(f-s);break;default:(0,c.assertUnreachable)(u)}if(v&&(w*=-1),Math.abs(w)>=p/2){for(var x=0;x<n.thumbRefs.length;x++){if(d[x]===f&&1===Math.sign(w)||d[x]===s&&-1===Math.sign(w))return;var _=d[x]+w;_>f?w=f-d[x]:_<s&&(w=s-d[x])}var I=d.slice(0);for(x=0;x<n.thumbRefs.length;x++)I=(0,c.replaceAt)(I,x,n.normalizeValue(d[x]+w,x));n.setState({draggedTrackPos:[e,t]}),h(I)}}else{var E=0;switch(u){case l.Direction.Right:E=(e-y.left)/g*(f-s)+s;break;case l.Direction.Left:E=(g-(e-y.left))/g*(f-s)+s;break;case l.Direction.Down:E=(t-y.top)/g*(f-s)+s;break;case l.Direction.Up:E=(g-(t-y.top))/g*(f-s)+s;break;default:(0,c.assertUnreachable)(u)}v&&(E=f+s-E),Math.abs(d[i]-E)>=p/2&&h((0,c.replaceAt)(d,i,n.normalizeValue(E,i)))}},n.normalizeValue=function(e,t){var r=n.props,i=r.min,a=r.max,o=r.step,u=r.allowOverlap,s=r.values;return(0,c.normalizeValue)(e,t,i,a,o,u,s)},n.onEnd=function(e){if(e.preventDefault(),document.removeEventListener("mousemove",n.schdOnMouseMove),document.removeEventListener("touchmove",n.schdOnTouchMove),document.removeEventListener("mouseup",n.schdOnEnd),document.removeEventListener("touchend",n.schdOnEnd),document.removeEventListener("touchcancel",n.schdOnEnd),-1===n.state.draggedThumbIndex&&-1===n.state.draggedTrackPos[0]&&-1===n.state.draggedTrackPos[1])return null;n.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},(function(){n.fireOnFinalChange()}))},n.fireOnFinalChange=function(){n.setState({isChanged:!1});var e=n.props,t=e.onFinalChange,r=e.values;t&&t(r)},n.updateMarkRefs=function(e){if(!e.renderMark)return n.numOfMarks=void 0,void(n.markRefs=void 0);n.numOfMarks=(e.max-e.min)/n.props.step,n.markRefs=[];for(var t=0;t<n.numOfMarks+1;t++)n.markRefs[t]=s.createRef()},n.calculateMarkOffsets=function(){if(n.props.renderMark&&n.trackRef&&n.numOfMarks&&n.markRefs&&null!==n.trackRef.current){for(var e=window.getComputedStyle(n.trackRef.current),t=parseInt(e.width,10),r=parseInt(e.height,10),i=parseInt(e.paddingLeft,10),a=parseInt(e.paddingTop,10),o=[],u=0;u<n.numOfMarks+1;u++){var s=9999,c=9999;if(n.markRefs[u].current){var f=n.markRefs[u].current.getBoundingClientRect();s=f.height,c=f.width}n.props.direction===l.Direction.Left||n.props.direction===l.Direction.Right?o.push([Math.round(t/n.numOfMarks*u+i-c/2),-Math.round((s-r)/2)]):o.push([Math.round(r/n.numOfMarks*u+a-s/2),-Math.round((c-t)/2)])}n.setState({markOffsets:o})}},0===t.step)throw new Error('"step" property should be a positive number');return n.schdOnMouseMove=(0,c.schd)(n.onMouseMove),n.schdOnTouchMove=(0,c.schd)(n.onTouchMove),n.schdOnEnd=(0,c.schd)(n.onEnd),n.thumbRefs=t.values.map((function(){return s.createRef()})),n.updateMarkRefs(t),n}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.values,r=t.min,i=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",e.onResize)},unobserve:function(){return window.removeEventListener("resize",e.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,c.checkInitialOverlap)(this.props.values),this.props.values.forEach((function(t){return(0,c.checkBoundaries)(t,e.props.min,e.props.max)})),this.resizeObserver.observe(this.trackRef.current),(0,c.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),n.forEach((function(e){(0,c.isStepDivisible)(r,e,i)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.max,i=n.min,a=n.step,o=n.values,u=n.rtl;e.max===r&&e.min===i&&e.step===a||this.updateMarkRefs(this.props),(0,c.translateThumbs)(this.getThumbs(),this.getOffsets(),u),e.max===r&&e.min===i&&e.step===a&&t.markOffsets.length===this.state.markOffsets.length||(this.calculateMarkOffsets(),o.forEach((function(e){(0,c.isStepDivisible)(i,e,a)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})))},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderTrack,r=t.renderThumb,i=t.renderMark,a=void 0===i?function(){return null}:i,o=t.values,s=t.min,f=t.max,h=t.allowOverlap,d=t.disabled,p=this.state,v=p.draggedThumbIndex,m=p.thumbZIndexes,y=p.markOffsets;return n({props:{style:{transform:"scale(1)",cursor:v>-1?"grabbing":this.props.draggableTrack?(0,c.isVertical)(this.props.direction)?"ns-resize":"ew-resize":1!==o.length||d?"inherit":"pointer"},onMouseDown:d?c.voidFn:this.onMouseDownTrack,onTouchStart:d?c.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:d,children:u(u([],y.map((function(t,n,r){return a({props:{style:e.props.direction===l.Direction.Left||e.props.direction===l.Direction.Right?{position:"absolute",left:"".concat(t[0],"px"),marginTop:"".concat(t[1],"px")}:{position:"absolute",top:"".concat(t[0],"px"),marginLeft:"".concat(t[1],"px")},key:"mark".concat(n),ref:e.markRefs[n]},index:n})})),!0),o.map((function(t,n){var i=e.state.draggedThumbIndex===n;return r({index:n,value:t,isDragged:i,props:{style:{position:"absolute",zIndex:m[n],cursor:d?"inherit":i?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:n,tabIndex:d?void 0:0,"aria-valuemax":h?f:o[n+1]||f,"aria-valuemin":h?s:o[n-1]||s,"aria-valuenow":t,draggable:!1,ref:e.thumbRefs[n],role:"slider",onKeyDown:d?c.voidFn:e.onKeyDown,onKeyUp:d?c.voidFn:e.onKeyUp}})})),!0)})},t.defaultProps={step:1,direction:l.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(s.Component);t.default=d},202:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkValuesAgainstBoundaries=t.relativeValue=t.useThumbOverlap=t.Direction=t.getTrackBackground=t.Range=void 0;var i=r(n(147));t.Range=i.default;var a=n(857);Object.defineProperty(t,"getTrackBackground",{enumerable:!0,get:function(){return a.getTrackBackground}}),Object.defineProperty(t,"useThumbOverlap",{enumerable:!0,get:function(){return a.useThumbOverlap}}),Object.defineProperty(t,"relativeValue",{enumerable:!0,get:function(){return a.relativeValue}}),Object.defineProperty(t,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return a.checkValuesAgainstBoundaries}});var o=n(19);Object.defineProperty(t,"Direction",{enumerable:!0,get:function(){return o.Direction}})},19:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(e){e.Right="to right",e.Left="to left",e.Down="to bottom",e.Up="to top"}(t.Direction||(t.Direction={}))},857:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useThumbOverlap=t.assertUnreachable=t.voidFn=t.getTrackBackground=t.replaceAt=t.schd=t.translate=t.getClosestThumbIndex=t.translateThumbs=t.getPaddingAndBorder=t.getMargin=t.checkInitialOverlap=t.checkValuesAgainstBoundaries=t.checkBoundaries=t.isVertical=t.relativeValue=t.normalizeValue=t.isStepDivisible=t.isTouchEvent=t.getStepDecimals=void 0;var i=n(791),a=n(19);function o(e){return e===a.Direction.Up||e===a.Direction.Down}function u(e,t,n){e.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}t.getStepDecimals=function(e){var t=e.toString().split(".")[1];return t?t.length:0},t.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},t.isStepDivisible=function(e,t,n){var r=Number(((t-e)/n).toFixed(8));return parseInt(r.toString(),10)===r},t.normalizeValue=function(e,n,r,i,a,o,u){var s=1e11;if(e=Math.round(e*s)/s,!o){var c=u[n-1],l=u[n+1];if(c&&c>e)return c;if(l&&l<e)return l}if(e>i)return i;if(e<r)return r;var f=Math.floor(e*s-r*s)%Math.floor(a*s),h=Math.floor(e*s-Math.abs(f)),d=0===f?e:h/s,p=Math.abs(f/s)<a/2?d:d+a,v=(0,t.getStepDecimals)(a);return parseFloat(p.toFixed(v))},t.relativeValue=function(e,t,n){return(e-t)/(n-t)},t.isVertical=o,t.checkBoundaries=function(e,t,n){if(t>=n)throw new RangeError("min (".concat(t,") is equal/bigger than max (").concat(n,")"));if(e<t)throw new RangeError("value (".concat(e,") is smaller than min (").concat(t,")"));if(e>n)throw new RangeError("value (".concat(e,") is bigger than max (").concat(n,")"))},t.checkValuesAgainstBoundaries=function(e,t,n){return e<t?t:e>n?n:e},t.checkInitialOverlap=function(e){if(!(e.length<2)&&!e.slice(1).every((function(t,n){return e[n]<=t})))throw new RangeError("values={[".concat(e,"]} needs to be sorted when allowOverlap={false}"))},t.getMargin=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["margin-top"],10),bottom:parseInt(t["margin-bottom"],10),left:parseInt(t["margin-left"],10),right:parseInt(t["margin-right"],10)}},t.getPaddingAndBorder=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["padding-top"],10)+parseInt(t["border-top-width"],10),bottom:parseInt(t["padding-bottom"],10)+parseInt(t["border-bottom-width"],10),left:parseInt(t["padding-left"],10)+parseInt(t["border-left-width"],10),right:parseInt(t["padding-right"],10)+parseInt(t["border-right-width"],10)}},t.translateThumbs=function(e,t,n){var r=n?-1:1;e.forEach((function(e,n){return u(e,r*t[n].x,t[n].y)}))},t.getClosestThumbIndex=function(e,t,n,r){for(var i=0,a=c(e[0],t,n,r),o=1;o<e.length;o++){var u=c(e[o],t,n,r);u<a&&(a=u,i=o)}return i},t.translate=u;t.schd=function(e){var t=[],n=null;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))}},t.replaceAt=function(e,t,n){var r=e.slice(0);return r[t]=n,r},t.getTrackBackground=function(e){var t=e.values,n=e.colors,r=e.min,i=e.max,o=e.direction,u=void 0===o?a.Direction.Right:o,s=e.rtl,c=void 0!==s&&s;c&&u===a.Direction.Right?u=a.Direction.Left:c&&a.Direction.Left&&(u=a.Direction.Right);var l=t.slice(0).sort((function(e,t){return e-t})).map((function(e){return(e-r)/(i-r)*100})).reduce((function(e,t,r){return"".concat(e,", ").concat(n[r]," ").concat(t,"%, ").concat(n[r+1]," ").concat(t,"%")}),"");return"linear-gradient(".concat(u,", ").concat(n[0]," 0%").concat(l,", ").concat(n[n.length-1]," 100%)")},t.voidFn=function(){},t.assertUnreachable=function(e){throw new Error("Didn't expect to get here")};var s=function(e,t,n,i,a){return void 0===a&&(a=function(e){return e}),Math.ceil(r([e],Array.from(e.children),!0).reduce((function(e,r){var o=Math.ceil(r.getBoundingClientRect().width);if(r.innerText&&r.innerText.includes(n)&&0===r.childElementCount){var u=r.cloneNode(!0);u.innerHTML=a(t.toFixed(i)),u.style.visibility="hidden",document.body.appendChild(u),o=Math.ceil(u.getBoundingClientRect().width),document.body.removeChild(u)}return o>e?o:e}),e.getBoundingClientRect().width))};function c(e,t,n,r){var i=e.getBoundingClientRect(),a=i.left,u=i.top,s=i.width,c=i.height;return o(r)?Math.abs(n-(u+c/2)):Math.abs(t-(a+s/2))}t.useThumbOverlap=function(e,n,a,o,u,c){void 0===o&&(o=.1),void 0===u&&(u=" - "),void 0===c&&(c=function(e){return e});var l=(0,t.getStepDecimals)(o),f=(0,i.useState)({}),h=f[0],d=f[1],p=(0,i.useState)(c(n[a].toFixed(l))),v=p[0],m=p[1];return(0,i.useEffect)((function(){if(e){var t=e.getThumbs();if(t.length<1)return;var i={},o=e.getOffsets(),f=function(e,t,n,i,a,o,u){void 0===u&&(u=function(e){return e});var c=[];return function e(l){var f=s(n[l],i[l],a,o,u),h=t[l].x;t.forEach((function(t,d){var p=t.x,v=s(n[d],i[d],a,o,u);l!==d&&(h>=p&&h<=p+v||h+f>=p&&h+f<=p+v)&&(c.includes(d)||(c.push(l),c.push(d),c=r(r([],c,!0),[l,d],!1),e(d)))}))}(e),Array.from(new Set(c.sort()))}(a,o,t,n,u,l,c),h=c(n[a].toFixed(l));if(f.length){var p=f.reduce((function(e,t,n,i){return e.length?r(r([],e,!0),[o[i[n]].x],!1):[o[i[n]].x]}),[]);if(Math.min.apply(Math,p)===o[a].x){var v=[];f.forEach((function(e){v.push(n[e].toFixed(l))})),h=Array.from(new Set(v.sort((function(e,t){return parseFloat(e)-parseFloat(t)})))).map(c).join(u);var y=Math.min.apply(Math,p),g=Math.max.apply(Math,p),k=t[f[p.indexOf(g)]].getBoundingClientRect().width;i.left="".concat(Math.abs(y-(g+k))/2,"px"),i.transform="translate(-50%, 0)"}else i.visibility="hidden"}m(h),d(i)}}),[e,n]),[v,h]}},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,E=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(I=!1,E=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){y(A,0)};function R(e){E=e,I||(I=!0,_())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},752:function(e){!function(){"use strict";var t="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e,n){return new Promise(function(i,a){var o=function(){this.off("change",o),i()}.bind(this);this.on("change",o);var u=(e=e||t.documentElement)[r.requestFullscreen](n);u instanceof Promise&&u.then(o).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i);var a=t[r.exitFullscreen]();a instanceof Promise&&a.then(i).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".14bbae22.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="listenup:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunklistenup=self.webpackChunklistenup||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return na},SDK_VERSION:function(){return po},_DEFAULT_ENTRY_NAME:function(){return eo},_addComponent:function(){return io},_addOrOverwriteComponent:function(){return ao},_apps:function(){return no},_clearComponents:function(){return co},_components:function(){return ro},_getProvider:function(){return uo},_registerComponent:function(){return oo},_removeServiceInstance:function(){return so},deleteApp:function(){return go},getApp:function(){return mo},getApps:function(){return yo},initializeApp:function(){return vo},onLog:function(){return wo},registerVersion:function(){return bo},setLogLevel:function(){return xo}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||u(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t=g();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function w(e){if(Array.isArray(e))return e}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){return w(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||x()}function I(e,t,n){return I=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},E(e)}function S(e){return w(e)||u(e)||s(e)||x()}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,A="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(A,v),h=e,function(){u.removeEventListener(A,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(y.location,e,n);r&&r(i,e);var a=R(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(y.location,e,n);r&&r(i,e);var a=R(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],X(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ne([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),U(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=S(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=V(i.join("/")),s=[];return s.push.apply(s,c(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,c(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,B=3,q=2,K=1,W=10,H=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=H),t&&(r+=q),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(z.test(t)?B:""===t?K:W)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=_(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(P(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ie(a),hash:ae(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(E(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ce=(new Set(se),["get"].concat(se));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var le="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fe=r.useState,he=r.useEffect,de=r.useLayoutEffect,pe=r.useDebugValue;function ve(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!le(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var ke=r.createContext(null);var be=r.createContext(null);var we=r.createContext({outlet:null,matches:[]});var xe=r.createContext(null);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ie(){return null!=r.useContext(be)}function Ee(){return Ie()||P(!1),r.useContext(be).location}function Se(){Ie()||P(!1);var e=r.useContext(ke),t=e.basename,n=e.navigator,i=r.useContext(we).matches,a=Ee().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=te(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:ne([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function Te(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(we).matches,a=Ee().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ce(){var e=function(){var e,t=r.useContext(xe),n=De(Ae.UseRouteError),i=Le(Ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ne,Ae,Pe=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return p(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(we.Provider,{value:this.props.routeContext},r.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Oe(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(me);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(we.Provider,{value:t},i)}function Re(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||P(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;n&&(c=o.route.ErrorBoundary?r.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:r.createElement(Ce,null));var l=t.concat(i.slice(0,u+1)),f=function(){var t=e;return s?t=c:o.route.Component?t=r.createElement(o.route.Component,null):o.route.element&&(t=o.route.element),r.createElement(Oe,{match:o,routeContext:{outlet:e,matches:l},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?r.createElement(Pe,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function De(e){var t=r.useContext(ye);return t||P(!1),t}function Le(e){var t=function(e){var t=r.useContext(we);return t||P(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ne||(Ne={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ae||(Ae={}));var Me;function je(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;Ie()||P(!1);var o=r.useContext(ye),u=Se();return r.useEffect((function(){o&&"idle"!==o.navigation.state||u(t,{replace:n,state:i,relative:a})})),null}function Fe(e){P(!1)}function Ue(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;Ie()&&P(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=M(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,I=v.key,E=void 0===I?"default":I,S=r.useMemo((function(){var e=J(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:E},navigationType:c}}),[d,y,k,w,_,E,c]);return null==S?null:r.createElement(ke.Provider,{value:p},r.createElement(be.Provider,{children:o,value:S}))}function Ve(e){var n=e.children,i=e.location,a=r.useContext(me);return function(e,n){Ie()||P(!1);var i,a=r.useContext(ke).navigator,o=r.useContext(ye),u=r.useContext(we).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Ee());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||P(!1),i=d}else i=f;var p=i.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Re(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?r.createElement(be.Provider,{value:{location:_e({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Be(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var ze=new Promise((function(){}));r.Component;function Be(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(c(t),[i]);if(e.type!==r.Fragment){e.type!==Fe&&P(!1),e.props.index&&e.props.children&&P(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),n.push(o)}else n.push.apply(n,Be(e.props.children,a))}})),n}var qe=n.p+"static/media/logo.d6b4f5c17d06dfd2c2dd011c4de39401.svg",Ke=n(184),We=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zm3.903 11.532a.695.695 0 01-.947.267 8.299 8.299 0 00-3.237-1.02 8.318 8.318 0 00-3.384.351.696.696 0 01-.423-1.326 9.668 9.668 0 013.948-.409 9.703 9.703 0 013.777 1.19.697.697 0 01.266.947zm.958-2.429a.695.695 0 01-.938.295 10.87 10.87 0 00-3.944-1.177 10.828 10.828 0 00-4.127.367.695.695 0 11-.386-1.336 12.264 12.264 0 014.653-.415c1.566.159 3.062.606 4.447 1.327.34.178.473.598.295.939zm.346-2.022a.69.69 0 01-.31-.073 13.454 13.454 0 00-4.659-1.345 13.423 13.423 0 00-4.843.383.695.695 0 11-.359-1.344 14.85 14.85 0 015.343-.423c1.802.183 3.532.682 5.139 1.484a.695.695 0 01-.311 1.318z",fill:"currentColor"})})},He=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 512 512",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M 256.274 60.84 L 84.324 166.237 L 84.324 443.063 L 193.27 443.063 L 193.27 293.73 L 320.228 293.73 L 320.228 443.063 L 428.222 443.063 L 428.222 165.476 L 256.274 60.84 Z M 256.274 35.95 L 448.452 149.145 L 448.452 464.395 L 300 464.395 L 300 315.062 L 213.499 315.062 L 213.499 464.395 L 64.095 464.395 L 64.095 150.161 L 256.274 35.95 Z",fill:"currentColor"})})},Ge=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 512 512",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z",fill:"currentColor",fillRule:"evenodd"})})},Qe=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 512 512",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M291.301 81.778l166.349 373.587-19.301 8.635-166.349-373.587zM64 463.746v-384h21.334v384h-21.334zM192 463.746v-384h21.334v384h-21.334z",fill:"currentColor"})})},Ye=function(e){var t=e.size;return(0,Ke.jsxs)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,Ke.jsx)("path",{d:"M14 7H9V2H7v5H2v2h5v5h2V9h5z",fill:"currentColor"}),(0,Ke.jsx)("path",{fill:"none",d:"M0 0h16v16H0z"})]})},$e=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{fill:"currentColor",d:"M13.764 2.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.311-.112 4.054 4.054 0 00-5.487.253A4.05 4.05 0 00.974 5.61c0 1.089.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195A4.052 4.052 0 0014.96 5.61a4.057 4.057 0 00-1.196-2.883zm-.722 5.098L8.58 13.048c-.307.36-.921.36-1.228 0L2.864 7.797a3.072 3.072 0 01-.905-2.187c0-.826.321-1.603.905-2.187a3.091 3.091 0 012.191-.913 3.05 3.05 0 011.957.709c.041.036.408.351.954.351.531 0 .906-.31.94-.34a3.075 3.075 0 014.161.192 3.1 3.1 0 01-.025 4.403z"})})},Xe=function(e){var t=e.size;return(0,Ke.jsxs)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,Ke.jsx)("path",{fill:"none",d:"M0 0h16v16H0z"}),(0,Ke.jsx)("path",{fill:"currentColor",d:"M13.797 2.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.311-.112 4.054 4.054 0 00-5.487.253c-.77.77-1.194 1.794-1.194 2.883s.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195a4.052 4.052 0 001.195-2.883 4.057 4.057 0 00-1.196-2.883z"})]})},Je=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 24 24",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{fill:"currentColor",d:"M11.5 0C5.149 0 0 5.148 0 11.5 0 17.851 5.149 23 11.5 23S23 17.851 23 11.5C23 5.148 17.851 0 11.5 0zm0 22C5.71 22 1 17.29 1 11.5S5.71 1 11.5 1 22 5.71 22 11.5 17.29 22 11.5 22zm.499-6.842V5h-1v10.149l-3.418-3.975-.758.652 4.678 5.44 4.694-5.439-.757-.653-3.439 3.984z"})})},Ze=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{fill:"currentColor",d:"M3 6l5 5.794L13 6z"})})},et=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{fill:"currentColor",d:"M15 7V1H9v1h4.29L7.11 8.18l.71.71L14 2.71V7h1zM1 15h12V9h-1v5H2V4h5V3H1v12z"})})},tt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 24 24",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("polyline",{stroke:"currentColor",points:"16 4 7 12 16 20",fill:"none"})})},nt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 24 24",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("polyline",{stroke:"currentColor",points:"8 4 17 12 8 20",fill:"none"})})},rt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 24 24",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("polygon",{points:"21.57 12 5.98 3 5.98 21 21.57 12",fill:"currentColor"})})},it=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 24 24",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("polygon",{points:"15.54,21.151 5.095,12.229 15.54,3.309 16.19,4.069 6.635,12.229 16.19,20.39 ",fill:"currentColor"})})},at=function(e){var t=e.size;return(0,Ke.jsxs)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,Ke.jsx)("path",{fill:"none",d:"M0 0h16v16H0z"}),(0,Ke.jsx)("path",{d:"M3 2h3v12H3zm7 0h3v12h-3z",fill:"currentColor"})]})},ot=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M13 2.5L5 7.119V3H3v10h2V8.881l8 4.619z",fill:"currentColor"})})},ut=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M11 3v4.119L3 2.5v11l8-4.619V13h2V3z",fill:"currentColor"})})},st=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M4.5 6.8l.7-.8C4.1 4.7 2.5 4 .9 4v1c1.3 0 2.6.6 3.5 1.6l.1.2zm7.5 4.7c-1.2 0-2.3-.5-3.2-1.3l-.6.8c1 1 2.4 1.5 3.8 1.5V14l3.5-2-3.5-2v1.5zm0-6V7l3.5-2L12 3v1.5c-1.6 0-3.2.7-4.2 2l-3.4 3.9c-.9 1-2.2 1.6-3.5 1.6v1c1.6 0 3.2-.7 4.2-2l3.4-3.9c.9-1 2.2-1.6 3.5-1.6z",fill:"currentColor"})})},ct=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M5.5 5H10v1.5l3.5-2-3.5-2V4H5.5C3 4 1 6 1 8.5c0 .6.1 1.2.4 1.8l.9-.5C2.1 9.4 2 9 2 8.5 2 6.6 3.6 5 5.5 5zm9.1 1.7l-.9.5c.2.4.3.8.3 1.3 0 1.9-1.6 3.5-3.5 3.5H6v-1.5l-3.5 2 3.5 2V13h4.5C13 13 15 11 15 8.5c0-.6-.1-1.2-.4-1.8z",fill:"currentColor"})})},lt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M2 2v5l4.33-2.5L2 2zm0 12h14v-1H2v1zm0-4h14V9H2v1zm7-5v1h7V5H9z",fill:"currentColor"})})},ft=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M0 3v8c0 .55.45 1 1 1h5v-1H1V3h5V2H1c-.55 0-1 .45-1 1zm3 11.5c0 .275.225.5.5.5H6v-1H3.5c-.275 0-.5.225-.5.5zM15 2H9c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 12H9V3h6v11zm-3-8a.75.75 0 100-1.5.75.75 0 000 1.5zm0 6a2 2 0 100-4 2 2 0 000 4zm0-3c.551 0 1 .449 1 1s-.449 1-1 1-1-.449-1-1 .449-1 1-1z",fill:"currentColor"})})},ht=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M6.064 10.229l-2.418 2.418L2 11v4h4l-1.647-1.646 2.418-2.418-.707-.707zM11 2l1.647 1.647-2.418 2.418.707.707 2.418-2.418L15 6V2h-4z",fill:"currentColor"})})},dt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 24 24",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M22.125 2.582l-.707-.707-4.273 4.273L15 4.001v5h5l-2.146-2.146 4.271-4.273zM6.147 17.146l-4.273 4.272.707.707 4.273-4.272L9 19.999v-5H4l2.147 2.147z",fill:"currentColor"})})},pt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsxs)("g",{fill:"currentColor",fillRule:"evenodd",children:[(0,Ke.jsx)("path",{d:"M1 3v9h14V3H1zm0-1h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,Ke.jsx)("path",{d:"M10 8h4v3h-4z"})]})})},vt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M0 5v6h2.804L8 14V2L2.804 5H0zm7-1.268v8.536L3.072 10H1V6h2.072L7 3.732zm8.623 2.121l-.707-.707-2.147 2.147-2.146-2.147-.707.707L12.062 8l-2.146 2.146.707.707 2.146-2.147 2.147 2.147.707-.707L13.477 8l2.146-2.147z",fill:"currentColor"})})},mt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M10.04 5.984l.658-.77q.548.548.858 1.278.31.73.31 1.54 0 .54-.144 1.055-.143.516-.4.957-.259.44-.624.805l-.658-.77q.825-.865.825-2.047 0-1.183-.825-2.048zM0 11.032v-6h2.802l5.198-3v12l-5.198-3H0zm7 1.27v-8.54l-3.929 2.27H1v4h2.071L7 12.302z",fill:"currentColor"})})},yt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M0 11.032v-6h2.802l5.198-3v12l-5.198-3H0zm7 1.27v-8.54l-3.929 2.27H1v4h2.071L7 12.302zm4.464-2.314q.401-.925.401-1.956 0-1.032-.4-1.957-.402-.924-1.124-1.623L11 3.69q.873.834 1.369 1.957.496 1.123.496 2.385 0 1.262-.496 2.385-.496 1.123-1.369 1.956l-.659-.762q.722-.698 1.123-1.623z",fill:"currentColor"})})},gt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M12.945 1.379l-.652.763c1.577 1.462 2.57 3.544 2.57 5.858s-.994 4.396-2.57 5.858l.651.763a8.966 8.966 0 00.001-13.242zm-2.272 2.66l-.651.763a4.484 4.484 0 01-.001 6.397l.651.763c1.04-1 1.691-2.404 1.691-3.961s-.65-2.962-1.69-3.962zM0 5v6h2.804L8 14V2L2.804 5H0zm7-1.268v8.536L3.072 10H1V6h2.072L7 3.732z",fill:"currentColor"})})},kt=function(e){var t=e.size;return(0,Ke.jsx)("svg",{viewBox:"0 0 16 16",width:t,height:t,xmlns:"http://www.w3.org/2000/svg",children:(0,Ke.jsx)("path",{d:"M8.5 1A4.505 4.505 0 004 5.5c0 .731.191 1.411.502 2.022L1.99 13.163a1.307 1.307 0 00.541 1.666l.605.349a1.307 1.307 0 001.649-.283L9.009 9.95C11.248 9.692 13 7.807 13 5.5 13 3.019 10.981 1 8.5 1zM4.023 14.245a.307.307 0 01-.388.066l-.605-.349a.309.309 0 01-.128-.393l2.26-5.078A4.476 4.476 0 007.715 9.92l-3.692 4.325zM8.5 9C6.57 9 5 7.43 5 5.5S6.57 2 8.5 2 12 3.57 12 5.5 10.429 9 8.5 9z",fill:"currentColor"})})},bt=function(e){var t=e.name,n=e.size,r=void 0===n?24:n,i={home:He,search:Ge,collection:Qe,plus:Ye,heart:$e,heartFilled:Xe,download:Je,prev:tt,next:nt,downDir:Ze,external:et,play:rt,pause:at,playerPrev:ot,playerNext:ut,repeat:ct,shuffle:st,queue:lt,fullScreen:ht,fullScreenOff:dt,pictureInPicture:pt,device:ft,volumeMuted:vt,volumeLow:mt,volumeNormal:yt,volumeFull:gt,lyrics:kt,arrowLeft:it,logo:We}[t];return(0,Ke.jsx)(i,{size:r})};function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}function xt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var _t=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],It=["aria-current","caseSensitive","className","end","style","to","children"];function Et(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),j((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var u=o.current,s=_(r.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return r.useLayoutEffect((function(){return u.listen(l)}),[u]),r.createElement(Ue,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:u})}var St="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=xt(e,_t),d=r.useContext(ke).basename,p=!1;if("string"===typeof l&&Tt.test(l)&&(n=l,St)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=J(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,t){var n=(void 0===t?{}:t).relative;Ie()||P(!1);var i=r.useContext(ke),a=i.basename,o=i.navigator,u=Te(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=Se(),l=Ee(),f=Te(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",wt({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Nt=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=xt(e,It),v=Te(h,{relative:p.relative}),m=Ee(),y=r.useContext(ye),g=r.useContext(ke).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var x,_=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),I=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),E=_?i:void 0;x="function"===typeof s?s({isActive:_,isPending:I}):[s,_?"active":null,I?"pending":null].filter(Boolean).join(" ");var S="function"===typeof f?f({isActive:_,isPending:I}):f;return r.createElement(Ct,wt({},p,{"aria-current":E,className:x,ref:t,style:S,to:h}),"function"===typeof d?d({isActive:_,isPending:I}):d)}));var At,Pt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(At||(At={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pt||(Pt={}));var Ot=function(){return(0,Ke.jsx)("nav",{className:"px-2",children:(0,Ke.jsxs)("ul",{className:"flex flex-col",children:[(0,Ke.jsx)("li",{children:(0,Ke.jsxs)(Nt,{activeClassName:"bg-active text-white",to:"/",className:"h-10 flex gap-x-4 items-center text-sm font-semibold text-link rounded hover:text-white px-4",children:[(0,Ke.jsx)("span",{children:(0,Ke.jsx)(bt,{name:"home"})}),"Home"]})}),(0,Ke.jsx)("li",{children:(0,Ke.jsxs)(Nt,{activeClassName:"bg-active text-white",to:"/search",className:"h-10 flex gap-x-4 items-center text-sm font-semibold text-link rounded hover:text-white px-4",children:[(0,Ke.jsx)("span",{children:(0,Ke.jsx)(bt,{name:"search"})}),"Search"]})}),(0,Ke.jsx)("li",{children:(0,Ke.jsxs)(Nt,{activeClassName:"bg-active text-white",to:"/collection",className:"h-10 flex gap-x-4 items-center text-sm font-semibold text-link rounded hover:text-white px-4",children:[(0,Ke.jsx)("span",{children:(0,Ke.jsx)(bt,{name:"collection"})}),"Your Library"]})})]})})};var Rt=function(){return(0,Ke.jsx)("nav",{className:"mx-6 mt-2 py-2 flex-auto border-t border-white border-opacity-20 overflow-auto",children:(0,Ke.jsx)("ul",{children:new Array(40).map((function(e){return(0,Ke.jsx)("li",{children:(0,Ke.jsx)("a",{href:"#",className:"text-s text-link hover:text-white flex h-8 items-center",children:"1. Dilwale"})},e)}))})})};var Dt=function(){return(0,Ke.jsxs)("a",{href:"#",className:"h-10 flex flex-shrink-0 text-sm font-semibold text-link hover:text-white gap-x-4 items-center px-6",children:[(0,Ke.jsx)(bt,{name:"download",size:20}),"Install App"]})},Lt=n(248),Mt=n(327),jt=n(164);var Ft=function(e){e()},Ut=function(){return Ft},Vt=(0,r.createContext)(null);function zt(){return(0,r.useContext)(Vt)}var Bt=function(){throw new Error("uSES not initialized!")},qt=Bt,Kt=function(e,t){return e===t};function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=e===Vt?zt:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt;var i=t(),a=i.store,o=i.subscription,u=i.getServerState,s=qt(o.addNestedSub,a.getState,u||a.getState,e,n);return(0,r.useDebugValue)(s),s}}var Ht=Wt();n(110),n(900);var Gt={notify:function(){},get:function(){return[]}};function Qt(e,t){var n,r=Gt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ut(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Gt)},getListeners:function(){return r}};return o}var Yt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var $t=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=Qt(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),u=(0,r.useMemo)((function(){return t.getState()}),[t]);Yt((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=n||Vt;return r.createElement(s.Provider,{value:o},i)};function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=e===Vt?zt:function(){return(0,r.useContext)(e)};return function(){return t().store}}var Jt=Xt();function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=e===Vt?Jt:Xt(e);return function(){return t().dispatch}}var en,tn=Zt();function nn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function rn(e){return!!e&&!!e[Gn]}function an(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Qn}(e)||Array.isArray(e)||!!e[Hn]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Hn])||hn(e)||dn(e))}function on(e,t,n){void 0===n&&(n=!1),0===un(e)?(n?Object.keys:Yn)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function un(e){var t=e[Gn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:hn(e)?2:dn(e)?3:0}function sn(e,t){return 2===un(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cn(e,t){return 2===un(e)?e.get(t):e[t]}function ln(e,t,n){var r=un(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function fn(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function hn(e){return Bn&&e instanceof Map}function dn(e){return qn&&e instanceof Set}function pn(e){return e.o||e.t}function vn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$n(e);delete t[Gn];for(var n=Yn(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function mn(e,t){return void 0===t&&(t=!1),gn(e)||rn(e)||!an(e)||(un(e)>1&&(e.set=e.add=e.clear=e.delete=yn),Object.freeze(e),t&&on(e,(function(e,t){return mn(t,!0)}),!0)),e}function yn(){nn(2)}function gn(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function kn(e){var t=Xn[e];return t||nn(18,e),t}function bn(e,t){Xn[e]||(Xn[e]=t)}function wn(){return Vn}function xn(e,t){t&&(kn("Patches"),e.u=[],e.s=[],e.v=t)}function _n(e){In(e),e.p.forEach(Sn),e.p=null}function In(e){e===Vn&&(Vn=e.l)}function En(e){return Vn={p:[],l:Vn,h:e,m:!0,_:0}}function Sn(e){var t=e[Gn];0===t.i||1===t.i?t.j():t.g=!0}function Tn(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||kn("ES5").S(t,e,r),r?(n[Gn].P&&(_n(t),nn(4)),an(e)&&(e=Cn(t,e),t.l||An(t,e)),t.u&&kn("Patches").M(n[Gn].t,e,t.u,t.s)):e=Cn(t,n,[]),_n(t),t.u&&t.v(t.u,t.s),e!==Wn?e:void 0}function Cn(e,t,n){if(gn(t))return t;var r=t[Gn];if(!r)return on(t,(function(i,a){return Nn(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return An(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=vn(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),on(a,(function(t,a){return Nn(e,r,i,t,a,n,o)})),An(e,i,!1),n&&e.u&&kn("Patches").N(r,n,e.u,e.s)}return r.o}function Nn(e,t,n,r,i,a,o){if(rn(i)){var u=Cn(e,i,a&&t&&3!==t.i&&!sn(t.R,r)?a.concat(r):void 0);if(ln(n,r,u),!rn(u))return;e.m=!1}else o&&n.add(i);if(an(i)&&!gn(i)){if(!e.h.D&&e._<1)return;Cn(e,i),t&&t.A.l||An(e,i)}}function An(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&mn(t,n)}function Pn(e,t){var n=e[Gn];return(n?pn(n):e)[t]}function On(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Rn(e){e.P||(e.P=!0,e.l&&Rn(e.l))}function Dn(e){e.o||(e.o=vn(e.t))}function Ln(e,t,n){var r=hn(t)?kn("MapSet").F(t,n):dn(t)?kn("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:wn(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Jn;n&&(i=[r],a=Zn);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):kn("ES5").J(t,n);return(n?n.A:wn()).p.push(r),r}function Mn(e){return rn(e)||nn(22,e),function e(t){if(!an(t))return t;var n,r=t[Gn],i=un(t);if(r){if(!r.P&&(r.i<4||!kn("ES5").K(r)))return r.t;r.I=!0,n=jn(t,i),r.I=!1}else n=jn(t,i);return on(n,(function(t,i){r&&cn(r.t,t)===i||ln(n,t,e(i))})),3===i?new Set(n):n}(e)}function jn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return vn(e)}function Fn(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Gn];return Jn.get(t,e)},set:function(t){var n=this[Gn];Jn.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Gn];if(!i.P)switch(i.i){case 5:r(i)&&Rn(i);break;case 4:n(i)&&Rn(i)}}}function n(e){for(var t=e.t,n=e.k,r=Yn(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Gn){var o=t[a];if(void 0===o&&!sn(t,a))return!0;var u=n[a],s=u&&u[Gn];if(s?s.t!==o:!fn(u,o))return!0}}var c=!!t[Gn];return r.length!==Yn(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};bn("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=$n(n);delete a[Gn];for(var o=Yn(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:wn(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Gn,{value:a,writable:!0}),i},S:function(e,n,i){i?rn(n)&&n[Gn].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Gn];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)on(a,(function(t){t!==Gn&&(void 0!==i[t]||sn(i,t)?o[t]||e(a[t]):(o[t]=!0,Rn(n)))})),on(i,(function(e){void 0!==a[e]||sn(a,e)||(o[e]=!1,Rn(n))}));else if(5===u){if(r(n)&&(Rn(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){qt=e}(Mt.useSyncExternalStoreWithSelector),function(e){e}(Lt.useSyncExternalStore),en=jt.unstable_batchedUpdates,Ft=en;var Un,Vn,zn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Bn="undefined"!=typeof Map,qn="undefined"!=typeof Set,Kn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Wn=zn?Symbol.for("immer-nothing"):((Un={})["immer-nothing"]=!0,Un),Hn=zn?Symbol.for("immer-draftable"):"__$immer_draftable",Gn=zn?Symbol.for("immer-state"):"__$immer_state",Qn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Yn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$n=Object.getOwnPropertyDescriptors||function(e){var t={};return Yn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Xn={},Jn={get:function(e,t){if(t===Gn)return e;var n=pn(e);if(!sn(n,t))return function(e,t,n){var r,i=On(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!an(r)?r:r===Pn(e.t,t)?(Dn(e),e.o[t]=Ln(e.A.h,r,e)):r},has:function(e,t){return t in pn(e)},ownKeys:function(e){return Reflect.ownKeys(pn(e))},set:function(e,t,n){var r=On(pn(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Pn(pn(e),t),a=null==i?void 0:i[Gn];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(fn(n,i)&&(void 0!==n||sn(e.t,t)))return!0;Dn(e),Rn(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Pn(e.t,t)||t in e.t?(e.R[t]=!1,Dn(e),Rn(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=pn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){nn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){nn(12)}},Zn={};on(Jn,(function(e,t){Zn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Zn.deleteProperty=function(e,t){return Zn.set.call(this,e,t,void 0)},Zn.set=function(e,t,n){return Jn.set.call(this,e[0],t,n,e[0])};var er=function(){function e(e){var t=this;this.O=Kn,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&nn(6),void 0!==r&&"function"!=typeof r&&nn(7),an(e)){var u=En(t),s=Ln(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?_n(u):In(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return xn(u,r),Tn(e,u)}),(function(e){throw _n(u),e})):(xn(u,r),Tn(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Wn&&(o=void 0),t.D&&mn(o,!0),r){var l=[],f=[];kn("Patches").M(e,o,l,f),r(l,f)}return o}nn(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){an(e)||nn(8),rn(e)&&(e=Mn(e));var t=En(this),n=Ln(this,e,void 0);return n[Gn].C=!0,In(t),n},t.finishDraft=function(e,t){var n=(e&&e[Gn]).A;return xn(n,t),Tn(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Kn&&nn(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=kn("Patches").$;return rn(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),tr=new er,nr=tr.produce,rr=(tr.produceWithPatches.bind(tr),tr.setAutoFreeze.bind(tr),tr.setUseProxies.bind(tr),tr.applyPatches.bind(tr),tr.createDraft.bind(tr),tr.finishDraft.bind(tr),nr);function ir(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var sr="function"===typeof Symbol&&Symbol.observable||"@@observable",cr=function(){return Math.random().toString(36).substring(7).split("").join(".")},lr={INIT:"@@redux/INIT"+cr(),REPLACE:"@@redux/REPLACE"+cr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+cr()}};function fr(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function hr(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ur(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ur(1));return n(hr)(e,t)}if("function"!==typeof e)throw new Error(ur(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(ur(3));return a}function f(e){if("function"!==typeof e)throw new Error(ur(4));if(s)throw new Error(ur(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(ur(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!fr(e))throw new Error(ur(7));if("undefined"===typeof e.type)throw new Error(ur(8));if(s)throw new Error(ur(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:lr.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ur(10));i=e,h({type:lr.REPLACE})}})[sr]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ur(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[sr]=function(){return this},e},r}function dr(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:lr.INIT}))throw new Error(ur(12));if("undefined"===typeof n(void 0,{type:lr.PROBE_UNKNOWN_ACTION()}))throw new Error(ur(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(ur(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function pr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ur(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=pr.apply(void 0,a)(n.dispatch),or(or({},n),{},{dispatch:r})}}}function mr(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var yr=mr();yr.withExtraArgument=mr;var gr=yr,kr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),br=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},wr=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xr=Object.defineProperty,_r=Object.defineProperties,Ir=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,Sr=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,Cr=function(e,t,n){return t in e?xr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Nr=function(e,t){for(var n in t||(t={}))Sr.call(t,n)&&Cr(e,n,t[n]);if(Er)for(var r=0,i=Er(t);r<i.length;r++){n=i[r];Tr.call(t,n)&&Cr(e,n,t[n])}return e},Ar=function(e,t){return _r(e,Ir(t))},Pr=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},Or="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?pr:pr.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Rr(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Dr=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return kr(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,wr([void 0],e[0].concat(this)))):new(t.bind.apply(t,wr([void 0],e.concat(this))))},t}(Array),Lr=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return kr(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,wr([void 0],e[0].concat(this)))):new(t.bind.apply(t,wr([void 0],e.concat(this))))},t}(Array);function Mr(e){return an(e)?rr(e,(function(){})):e}function jr(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Dr);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(gr.withExtraArgument(n.extraArgument)):r.push(gr));0;return r}(e)}}function Fr(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Nr(Nr({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ur(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Vr(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Mr(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?Ur(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=Nr(Nr({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Ur(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Mr(e())};else{var c=Mr(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=wr([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(rn(e))return void 0===(r=n(e,t))?e:r;if(an(e))return rr(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?Fr(c,r):Fr(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var zr=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Br=["name","message","stack","code"],qr=function(e,t){this.payload=e,this.meta=t},Kr=function(e,t){this.payload=e,this.meta=t},Wr=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Br;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Fr(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Ar(Nr({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Fr(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Ar(Nr({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Fr(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Wr)(e||"Rejected"),meta:Ar(Nr({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):zr(),h=new o;function d(e){l=e,h.abort()}var p=function(){return Pr(this,null,(function(){var o,p,v,m,y,g;return br(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=k.sent(),k.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new qr(e,t)},fulfillWithValue:function(e,t){return new Kr(e,t)}})).then((function(t){if(t instanceof qr)throw t;return t instanceof Kr?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof qr?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(Hr)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Hr(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Gr="listenerMiddleware";Fr(Gr+"/add"),Fr(Gr+"/removeAll"),Fr(Gr+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Qr,Yr=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Yr(10);Fn();var $r=Vr({name:"player",initialState:{current:!1,controls:!1,playing:!1,sidebar:!1,playerState:null},reducers:{setCurrent:function(e,t){e.current=t.payload},setControls:function(e,t){e.controls=t.payload},setPlaying:function(e,t){e.playing=t.payload},setSidebar:function(e,t){e.sidebar=t.payload},setplayerState:function(e,t){e.playerState=t.payload}}}),Xr=$r.actions,Jr=Xr.setControls,Zr=Xr.setCurrent,ei=Xr.setPlaying,ti=Xr.setSidebar,ni=Xr.setplayerState,ri=$r.reducer;var ii=function(){var e=tn(),t=Ht((function(e){return e.player.current}));return(0,Ke.jsxs)("div",{className:"pt-[100%] relative bg-black group",children:[(0,Ke.jsx)("img",{src:t.image,className:"w-full h-full object-cover absolute top-0 left-0",alt:""}),(0,Ke.jsx)("button",{onClick:function(){return e(ti(!1))},className:"w-6 h-6 bg-black opacity-0 group-hover:opacity-60 hover:!opacity-100 hover:scale-[1.06] -rotate-90 rounded-full absolute top-1 right-1 flex items-center justify-center",children:(0,Ke.jsx)(bt,{size:16,name:"arrowLeft"})})]})};var ai=function(){var e=Ht((function(e){return e.player.sidebar}));return(0,Ke.jsxs)("aside",{className:"w-60 pt-6 flex flex-shrink-0 flex-col bg-black",children:[(0,Ke.jsx)("a",{href:"#",className:"mb-7 px-6",children:(0,Ke.jsx)("img",{src:qe,alt:"",className:"h-10"})}),(0,Ke.jsx)(Ot,{}),(0,Ke.jsx)("nav",{className:"mt-6",children:(0,Ke.jsxs)("ul",{children:[(0,Ke.jsx)("li",{children:(0,Ke.jsxs)("a",{href:"#",className:"py-2 px-6 flex items-center group text-sm text-link font-semibold hover:text-white",children:[(0,Ke.jsx)("span",{className:"w-6 h-6 flex items-center justify-center mr-4 bg-white bg-opacity-60 group-hover:bg-opacity-100 rounded-sm text-black",children:(0,Ke.jsx)(bt,{name:"plus",size:12})}),"Add Playlists"]})}),(0,Ke.jsx)("li",{children:(0,Ke.jsxs)("a",{href:"#",className:"py-2 px-6 flex items-center group text-sm text-link font-semibold hover:text-white",children:[(0,Ke.jsx)("span",{className:"w-6 h-6 flex items-center justify-center mr-4 bg-gradient-to-br from-purple-700 text-white rounded-sm to-blue-300 opacity-70 group-hover:opacity-100",children:(0,Ke.jsx)(bt,{name:"heartFilled",size:12})}),"Favourites"]})})]})}),(0,Ke.jsx)(Rt,{}),(0,Ke.jsx)(Dt,{}),e&&(0,Ke.jsx)(ii,{})]})},oi=function(e,t){return"boolean"===typeof t?t:!e},ui=function(e){return(0,r.useReducer)(oi,e)},si=n(752),ci=n.n(si),li=function(){};function fi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var hi="undefined"!==typeof window,di=hi?r.useLayoutEffect:r.useEffect,pi=function(e,t,n){void 0===n&&(n={});var i=n.video,a=n.onClose,o=void 0===a?li:a,u=(0,r.useState)(t),s=u[0],c=u[1];return di((function(){if(t&&e.current){var n=function e(){(null===i||void 0===i?void 0:i.current)&&fi(i.current,"webkitendfullscreen",e),o()},r=function(){if(ci().isEnabled){var e=ci().isFullscreen;c(e),e||o()}};if(ci().isEnabled){try{ci().request(e.current),c(!0)}catch(u){o(u),c(!1)}ci().on("change",r)}else i&&i.current&&i.current.webkitEnterFullscreen?(i.current.webkitEnterFullscreen(),function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(i.current,"webkitendfullscreen",n),c(!0)):(o(),c(!1));return function(){if(c(!1),ci().isEnabled)try{ci().off("change",r),ci().exit()}catch(a){}else i&&i.current&&i.current.webkitExitFullscreen&&(fi(i.current,"webkitendfullscreen",n),i.current.webkitExitFullscreen())}}}),[t,i,e]),s};var vi=function(){return vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vi.apply(this,arguments)};function mi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var yi=function(e){void 0===e&&(e={});var t=(0,r.useState)(e),n=t[0],i=t[1];return[n,(0,r.useCallback)((function(e){i((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[])]};function gi(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}var ki,bi=(ki="video",function(e){var t,n;n=r.isValidElement(e)?(t=e).props:e;var i=yi({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1,playing:!1}),a=i[0],o=i[1],u=(0,r.useRef)(null),s=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},c=function(){return o({paused:!1})},l=function(){return o({playing:!0})},f=function(){return o({playing:!1})},h=function(){return o({paused:!0,playing:!1})},d=function(){var e=u.current;e&&o({muted:e.muted,volume:e.volume})},p=function(){var e=u.current;if(e){var t=e.duration,n=e.buffered;o({duration:t,buffered:gi(n)})}},v=function(){var e=u.current;e&&o({time:e.currentTime})},m=function(){var e=u.current;e&&o({buffered:gi(e.buffered)})};t=t?r.cloneElement(t,vi(vi({controls:!1},n),{ref:u,onPlay:s(n.onPlay,c),onPlaying:s(n.onPlaying,l),onWaiting:s(n.onWaiting,f),onPause:s(n.onPause,h),onVolumeChange:s(n.onVolumeChange,d),onDurationChange:s(n.onDurationChange,p),onTimeUpdate:s(n.onTimeUpdate,v),onProgress:s(n.onProgress,m)})):r.createElement(ki,vi(vi({controls:!1},n),{ref:u,onPlay:s(n.onPlay,c),onPlaying:s(n.onPlaying,l),onWaiting:s(n.onWaiting,f),onPause:s(n.onPause,h),onVolumeChange:s(n.onVolumeChange,d),onDurationChange:s(n.onDurationChange,p),onTimeUpdate:s(n.onTimeUpdate,v),onProgress:s(n.onProgress,m)}));var y=!1,g={play:function(){var e=u.current;if(e&&!y){var t=e.play();if("object"===typeof t){y=!0;var n=function(){y=!1};t.then(n,n)}return t}},pause:function(){var e=u.current;if(e&&!y)return e.pause()},seek:function(e){var t=u.current;t&&void 0!==a.duration&&(e=Math.min(a.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=u.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,o({volume:e}))},mute:function(){var e=u.current;e&&(e.muted=!0)},unmute:function(){var e=u.current;e&&(e.muted=!1)}};return(0,r.useEffect)((function(){var e=u.current;e&&(o({volume:e.volume,muted:e.muted,paused:e.paused}),n.autoPlay&&e.paused&&g.play())}),[n.src]),[t,a,g,u]}),wi=bi;function xi(e){return new Date(1e3*e).toISOString().substr(14,5)}var _i=n(202);var Ii=function(e){var t=e.value,n=e.step,r=e.min,i=e.max,a=e.onChange;return(0,Ke.jsx)(_i.Range,{values:[t],step:n,min:r,max:i,onChange:function(e){return a(e[0])},renderTrack:function(e){var n=e.props,a=e.children;return(0,Ke.jsx)("div",{onMouseDown:n.onMouseDown,onTouchStart:n.onTouchStart,className:"w-full h-7 flex group",style:n.style,children:(0,Ke.jsx)("div",{ref:n.ref,className:"h-1 w-full rounded-md self-center",style:{background:(0,_i.getTrackBackground)({values:[t],colors:["#1db954","#535353"],min:r,max:i})},children:a})})},renderThumb:function(e){var t=e.props,n=e.isDragged;return(0,Ke.jsx)("div",or(or({},t),{},{className:"h-3 w-3 rounded-full bg-white ".concat(n?"":"opacity-0"," group-hover:opacity-100"),style:or(or({},t.style),{},{boxShadow:"0 2px 4px 0 rgb(0 0 0 / 50%)"})}))}})};var Ei=function(){var e=(0,r.useRef)(),t=_(ui(!1),2),n=t[0],i=t[1],a=pi(e,n,{onClose:function(){return i(!1)}}),o=tn(),u=Ht((function(e){return e.player})),s=u.current,c=u.sidebar,l=s.isVideo?s.video:s.src,f=_(wi({src:l}),4),h=f[0],d=f[1],p=f[2];f[3],(0,r.useEffect)((function(){p&&(null===p||void 0===p||p.play())}),[s]),(0,r.useEffect)((function(){o(ei(d.playing))}),[d.playing]),(0,r.useEffect)((function(){o(Jr(p))}),[]);var v=(0,r.useMemo)((function(){return 0===d.volume||d.muted?"volumeMuted":d.volume>0&&d.volume<.33?"volumeLow":d.volume>=.33&&d.volume<.66?"volumeNormal":"volumeFull"}),[d.volume,d.muted]);return(0,Ke.jsxs)("div",{className:"flex px-4 justify-between items-center h-full",children:[(0,Ke.jsx)("div",{className:"min-w-[11.25rem] w-[30%]",children:s&&(0,Ke.jsxs)("div",{className:"flex items-center",children:[(0,Ke.jsxs)("div",{className:"flex items-center mr-3",children:[!c&&(0,Ke.jsxs)("div",{className:"w-14 h-14 mr-3 relative group flex-shrink-0",children:[(0,Ke.jsx)("img",{src:s.image,alt:""}),(0,Ke.jsx)("button",{onClick:function(){return o(ti(!0))},className:"w-6 h-6 bg-black opacity-0 group-hover:opacity-60 hover:!opacity-100 hover:scale-[1.06] rotate-90 rounded-full absolute top-1 right-1 flex items-center justify-center",children:(0,Ke.jsx)(bt,{size:16,name:"arrowLeft"})})]}),(0,Ke.jsxs)("div",{children:[(0,Ke.jsx)("h6",{className:"text-sm line-clamp-1",children:s.title}),(0,Ke.jsx)("p",{className:"text-[0.688rem] text-white text-opacity-70",children:s.artist})]})]}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"heart"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"pictureInPicture"})})]})}),(0,Ke.jsxs)("div",{className:"max-w-[45.125rem] w-[40%] pt-2 flex flex-col px-4 items-center",children:[(0,Ke.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"shuffle"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"playerPrev"})}),(0,Ke.jsx)("button",{onClick:p[null!==d&&void 0!==d&&d.playing?"pause":"play"],className:"w-8 h-8 bg-white flex items-center justify-center text-black rounded-full hover:scale-[1.06]",children:(0,Ke.jsx)(bt,{size:16,name:null!==d&&void 0!==d&&d.playing?"pause":"play"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"playerNext"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"repeat"})})]}),(0,Ke.jsxs)("div",{className:"w-full flex items-center mt-1.5 gap-x-2 setscreen",children:[!(null!==s&&void 0!==s&&s.isVideo)&&h,(0,Ke.jsx)("div",{className:"text-[0.688rem] text-white text-opacity-70",children:xi(null===d||void 0===d?void 0:d.time)}),(0,Ke.jsx)(Ii,{step:.1,min:0,max:(null===d||void 0===d?void 0:d.duration)||1,value:null===d||void 0===d?void 0:d.time,onChange:function(e){return p.seek(e)}}),(0,Ke.jsx)("div",{className:"text-[0.688rem] text-white text-opacity-70",children:xi(null===d||void 0===d?void 0:d.duration)})]})]}),(0,Ke.jsxs)("div",{className:"min-w-[11.25rem] w-[30%] flex items-center justify-end",children:[(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"lyrics"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"queue"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"device"})}),(0,Ke.jsx)("button",{onClick:p[d.muted?"unmute":"mute"],className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:v})}),(0,Ke.jsx)("div",{className:"w-[5.813rem] max-w-full",children:(0,Ke.jsx)(Ii,{step:.01,min:0,max:1,value:d.muted?0:null===d||void 0===d?void 0:d.volume,onChange:function(e){p.unmute(),p.volume(e)}})}),(0,Ke.jsx)("button",{onClick:function(){o(ni(d)),i()},className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:"fullScreen"})})]}),(0,Ke.jsx)("div",{ref:e,children:(0,Ke.jsxs)("div",{className:a?"h-full relative":"hidden",onClick:p[null!==d&&void 0!==d&&d.playing?"pause":"play"],children:[null!==s&&void 0!==s&&s.isVideo?(0,Ke.jsx)("div",{className:"h-screen w-screen setfullscreen",children:h}):(0,Ke.jsx)("div",{className:"absolute inset-0 object-cover bg-center bg-cover blur-md opacity-30",style:{backgroundImage:"url(".concat(s.image,")")}}),(0,Ke.jsxs)("div",{className:"absolute opacity-70 top-8 left-8 gap-x-4 text-white flex items-center",children:[(0,Ke.jsx)(bt,{size:34,name:"logo"}),(0,Ke.jsxs)("div",{className:"text-xs",children:[(0,Ke.jsx)("p",{style:{fontSize:11},children:"PLAYING FROM PLAYLIST"}),(0,Ke.jsx)("h6",{className:"font-semibold mt-0.5",children:s.title})]})]}),(0,Ke.jsxs)("div",{className:"absolute left-8 bottom-36 flex items-center gap-x-5",children:[(0,Ke.jsx)("img",{src:s.image,alt:"",className:"w-24 h-24 object-cover"}),(0,Ke.jsxs)("div",{className:"self-end",children:[(0,Ke.jsx)("h3",{className:"text-3xl font-bold",children:s.title}),(0,Ke.jsx)("p",{className:"text-sm font-medium opacity-50",children:s.description})]})]}),(0,Ke.jsxs)("div",{onClick:function(e){e.stopPropagation()},className:"w-full absolute bottom-4 flex flex-col px-8 items-center",children:[(0,Ke.jsxs)("div",{className:"w-full flex items-center mb-1.5 gap-x-2",children:[(0,Ke.jsx)("div",{className:"text-[0.688rem] text-white text-opacity-70",children:xi(null===d||void 0===d?void 0:d.time)}),(0,Ke.jsx)(Ii,{step:.1,min:0,max:(null===d||void 0===d?void 0:d.duration)||1,value:null===d||void 0===d?void 0:d.time,onChange:function(e){return p.seek(e)}}),(0,Ke.jsx)("div",{className:"text-[0.688rem] text-white text-opacity-70",children:xi(null===d||void 0===d?void 0:d.duration)})]}),(0,Ke.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:24,name:"shuffle"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:24,name:"playerPrev"})}),(0,Ke.jsx)("button",{onClick:p[null!==d&&void 0!==d&&d.playing?"pause":"play"],className:"w-16 h-16 bg-white flex items-center justify-center text-black rounded-full hover:scale-[1.06]",children:(0,Ke.jsx)(bt,{size:24,name:null!==d&&void 0!==d&&d.playing?"pause":"play"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:24,name:"playerNext"})}),(0,Ke.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:24,name:"repeat"})})]}),(0,Ke.jsxs)("div",{className:"flex items-center absolute bottom-3 right-6 gap-x-3",children:[(0,Ke.jsx)("button",{onClick:p[d.muted?"unmute":"mute"],className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:16,name:v})}),(0,Ke.jsx)("div",{className:"w-[5.813rem] max-w-full",children:(0,Ke.jsx)(Ii,{step:.01,min:0,max:1,value:d.muted?0:null===d||void 0===d?void 0:d.volume,onChange:function(e){p.unmute(),p.volume(e)}})}),(0,Ke.jsx)("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center text-white text-opacity-70 hover:text-opacity-100",children:(0,Ke.jsx)(bt,{size:24,name:"fullScreenOff"})})]})]})]})})]})};var Si=function(){return(0,Ke.jsx)("div",{className:"h-24 bg-footer border-t border-white border-opacity-5",children:(0,Ke.jsx)(Ei,{})})},Ti={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ci=r.createContext&&r.createContext(Ti),Ni=function(){return Ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ni.apply(this,arguments)},Ai=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Pi(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Ni({key:t},e.attr),Pi(e.child))}))}function Oi(e){return function(t){return r.createElement(Ri,Ni({attr:Ni({},e.attr)},t),Pi(e.child))}}function Ri(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,u=Ai(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Ni({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:Ni(Ni({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==Ci?r.createElement(Ci.Consumer,null,(function(e){return t(e)})):t(Ti)}function Di(e){return Oi({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]})(e)}function Li(e){return Oi({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm167 633.6C638.4 735 583 757 516.9 757c-95.7 0-178.5-54.9-218.8-134.9C281.5 589 272 551.6 272 512s9.5-77 26.1-110.1c40.3-80.1 123.1-135 218.8-135 66 0 121.4 24.3 163.9 63.8L610.6 401c-25.4-24.3-57.7-36.6-93.6-36.6-63.8 0-117.8 43.1-137.1 101-4.9 14.7-7.7 30.4-7.7 46.6s2.8 31.9 7.7 46.6c19.3 57.9 73.3 101 137 101 33 0 61-8.7 82.9-23.4 26-17.4 43.2-43.3 48.9-74H516.9v-94.8h230.7c2.9 16.1 4.4 32.8 4.4 50.1 0 74.7-26.7 137.4-73 180.1z"}}]})(e)}function Mi(e){return Oi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(e)}function ji(e){return Oi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"}}]})(e)}var Fi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ui={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Vi;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Vi=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return p(n)}(E(Error)),zi=function(e){return function(e){var t=Fi(e);return Ui.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bi=function(e){try{return Ui.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=qi(e[n],t[n]));return e}var Ki=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Wi=function(){try{return Ki()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Bi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Hi=function(e){var t=function(e){var t,n;return null===(n=null===(t=Wi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Gi=function(){var e;return null===(e=Wi())||void 0===e?void 0:e.config},Qi=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Yi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zi(JSON.stringify({alg:"none",type:"JWT"})),zi(JSON.stringify(a)),""].join(".")}function $i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Xi(){var e,t=null===(e=Wi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ji(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Zi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ea(){var e=$i();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ta(){try{return"object"===typeof indexedDB}catch(e){return!1}}var na=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(k(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(k(a),ra.prototype.create),a}return p(n)}(E(Error)),ra=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ia,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new na(n,a,t)}}]),e}();var ia=/\{\$([^}]+)}/g;function aa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ua(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(sa(u)&&sa(s)){if(!ua(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function sa(e){return null!==e&&"object"===typeof e}function ca(e){for(var t=[],n=function(){var e=_(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function la(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=_(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function fa(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ha(e,t){var n=new da(e,t);return n.subscribe.bind(n)}var da=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=pa),void 0===r.error&&(r.error=pa),void 0===r.complete&&(r.complete=pa);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pa(){}function va(e){return e&&e._delegate?e._delegate:e}function ma(){ma=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==f(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ya(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ga(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ya(a,r,i,o,u,"next",e)}function u(e){ya(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ka=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ba="[DEFAULT]",wa=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Qi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch(s){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=_(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=_(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(MC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ba?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(MC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba;return this.component?this.component.multipleInstances?e:ba:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var xa,_a,Ia=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new wa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ea=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_a||(_a={}));var Sa={debug:_a.DEBUG,verbose:_a.VERBOSE,info:_a.INFO,warn:_a.WARN,error:_a.ERROR,silent:_a.SILENT},Ta=_a.INFO,Ca=(ir(xa={},_a.DEBUG,"log"),ir(xa,_a.VERBOSE,"log"),ir(xa,_a.INFO,"info"),ir(xa,_a.WARN,"warn"),ir(xa,_a.ERROR,"error"),xa),Na=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ca[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Aa=function(){function e(t){l(this,e),this.name=t,this._logLevel=Ta,this._logHandler=Na,this._userLogHandler=null,Ea.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in _a))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Sa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_a.DEBUG].concat(t)),this._logHandler.apply(this,[this,_a.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_a.VERBOSE].concat(t)),this._logHandler.apply(this,[this,_a.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_a.INFO].concat(t)),this._logHandler.apply(this,[this,_a.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_a.WARN].concat(t)),this._logHandler.apply(this,[this,_a.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_a.ERROR].concat(t)),this._logHandler.apply(this,[this,_a.ERROR].concat(t))}}]),e}();var Pa,Oa,Ra=function(e,t){return t.some((function(t){return e instanceof t}))};var Da=new WeakMap,La=new WeakMap,Ma=new WeakMap,ja=new WeakMap,Fa=new WeakMap;var Ua={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return La.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ma.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Va(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Oa||(Oa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qa(this),n),Ba(Da.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ba(e.apply(qa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qa(this),t].concat(r));return Ma.set(a,t.sort?t.sort():[t]),Ba(a)}}function za(e){return"function"===typeof e?Va(e):(e instanceof IDBTransaction&&function(e){if(!La.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));La.set(e,t)}}(e),Ra(e,Pa||(Pa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ua):e)}function Ba(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ba(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Da.set(t,e)})).catch((function(){})),Fa.set(t,e),t}(e);if(ja.has(e))return ja.get(e);var t=za(e);return t!==e&&(ja.set(e,t),Fa.set(t,e)),t}var qa=function(e){return Fa.get(e)};var Ka,Wa,Ha=["get","getKey","getAll","getAllKeys","count"],Ga=["put","add","delete","clear"],Qa=new Map;function Ya(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Qa.get(t))return Qa.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ga.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ha.includes(n))){var a=function(){var e=ga(ma().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Qa.set(t,a),a}}}Ua=function(e){return or(or({},e),{},{get:function(t,n,r){return Ya(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ya(t,n)||e.has(t,n)}})}(Ua);var $a=function(){function e(t){l(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xa="@firebase/app",Ja="0.9.8",Za=new Aa("@firebase/app"),eo="[DEFAULT]",to=(ir(Ka={},Xa,"fire-core"),ir(Ka,"@firebase/app-compat","fire-core-compat"),ir(Ka,"@firebase/analytics","fire-analytics"),ir(Ka,"@firebase/analytics-compat","fire-analytics-compat"),ir(Ka,"@firebase/app-check","fire-app-check"),ir(Ka,"@firebase/app-check-compat","fire-app-check-compat"),ir(Ka,"@firebase/auth","fire-auth"),ir(Ka,"@firebase/auth-compat","fire-auth-compat"),ir(Ka,"@firebase/database","fire-rtdb"),ir(Ka,"@firebase/database-compat","fire-rtdb-compat"),ir(Ka,"@firebase/functions","fire-fn"),ir(Ka,"@firebase/functions-compat","fire-fn-compat"),ir(Ka,"@firebase/installations","fire-iid"),ir(Ka,"@firebase/installations-compat","fire-iid-compat"),ir(Ka,"@firebase/messaging","fire-fcm"),ir(Ka,"@firebase/messaging-compat","fire-fcm-compat"),ir(Ka,"@firebase/performance","fire-perf"),ir(Ka,"@firebase/performance-compat","fire-perf-compat"),ir(Ka,"@firebase/remote-config","fire-rc"),ir(Ka,"@firebase/remote-config-compat","fire-rc-compat"),ir(Ka,"@firebase/storage","fire-gcs"),ir(Ka,"@firebase/storage-compat","fire-gcs-compat"),ir(Ka,"@firebase/firestore","fire-fst"),ir(Ka,"@firebase/firestore-compat","fire-fst-compat"),ir(Ka,"fire-js","fire-js"),ir(Ka,"firebase","fire-js-all"),Ka),no=new Map,ro=new Map;function io(e,t){try{e.container.addComponent(t)}catch(n){Za.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ao(e,t){e.container.addOrOverwriteComponent(t)}function oo(e){var t=e.name;if(ro.has(t))return Za.debug("There were multiple attempts to register component ".concat(t,".")),!1;ro.set(t,e);var n,r=T(no.values());try{for(r.s();!(n=r.n()).done;){io(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function uo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function so(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eo;uo(e,t).clearInstance(n)}function co(){ro.clear()}var lo=(ir(Wa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ir(Wa,"bad-app-name","Illegal App name: '{$appName}"),ir(Wa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ir(Wa,"app-deleted","Firebase App named '{$appName}' already deleted"),ir(Wa,"no-options","Need to provide options, when not being deployed to hosting via source."),ir(Wa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ir(Wa,"invalid-log-argument","First argument to `onLog` must be null or a function."),ir(Wa,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ir(Wa,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ir(Wa,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ir(Wa,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wa),fo=new ra("app","Firebase",lo),ho=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ka("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}]),e}(),po="9.20.0";function vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:eo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw fo.create("bad-app-name",{appName:String(i)});if(n||(n=Gi()),!n)throw fo.create("no-options");var a=no.get(i);if(a){if(ua(n,a.options)&&ua(r,a.config))return a;throw fo.create("duplicate-app",{appName:i})}var o,u=new Ia(i),s=T(ro.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ho(n,r,u);return no.set(i,l),l}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo,t=no.get(e);if(!t&&e===eo)return vo();if(!t)throw fo.create("no-app",{appName:e});return t}function yo(){return Array.from(no.values())}function go(e){return ko.apply(this,arguments)}function ko(){return ko=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!no.has(n)){e.next=6;break}return no.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e,t,n){var r,i=null!==(r=to[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Za.warn(u.join(" "))}oo(new ka("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function wo(e,t){if(null!==e&&"function"!==typeof e)throw fo.create("invalid-log-argument");!function(e,t){var n,r=T(Ea);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Sa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:_a[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function xo(e){var t;t=e,Ea.forEach((function(e){e.setLogLevel(t)}))}var _o="firebase-heartbeat-database",Io=1,Eo="firebase-heartbeat-store",So=null;function To(){return So||(So=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ba(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ba(u.result),e.oldVersion,e.newVersion,Ba(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(_o,Io,{upgrade:function(e,t){if(0===t)e.createObjectStore(Eo)}}).catch((function(e){throw fo.create("idb-open",{originalErrorMessage:e.message})}))),So}function Co(e){return No.apply(this,arguments)}function No(){return No=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,To();case 3:return n=e.sent,e.abrupt("return",n.transaction(Eo).objectStore(Eo).get(Oo(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof na?Za.warn(e.t0.message):(r=fo.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Za.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),No.apply(this,arguments)}function Ao(e,t){return Po.apply(this,arguments)}function Po(){return Po=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,To();case 3:return r=e.sent,i=r.transaction(Eo,"readwrite"),a=i.objectStore(Eo),e.next=8,a.put(n,Oo(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof na?Za.warn(e.t0.message):(o=fo.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Za.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Po.apply(this,arguments)}function Oo(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ro=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Fo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=ga(ma().mark((function e(){var t,n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Do(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Do(),n=Lo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=zi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Do(){return(new Date).toISOString().substring(0,10)}function Lo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Uo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Uo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Mo,jo,Fo=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ta()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Co(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ao(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ao(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Uo(e){return zi(JSON.stringify({version:2,heartbeats:e})).length}Mo="",oo(new ka("platform-logger",(function(e){return new $a(e)}),"PRIVATE")),oo(new ka("heartbeat",(function(e){return new Ro(e)}),"PRIVATE")),bo(Xa,Ja,Mo),bo(Xa,Ja,"esm2017"),bo("fire-js","");var Vo=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,io(t,new ka("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),go(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){io(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ao(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),zo=(ir(jo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ir(jo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),jo),Bo=new ra("app-compat","Firebase",zo);var qo=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=vo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(aa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:bo,setLogLevel:xo,onLog:wo,apps:null,SDK_VERSION:po,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(oo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Bo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&qi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!aa(n,e=e||eo))throw Bo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Vo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qi(n,e)},createSubscribe:ha,ErrorFactory:ra,deepExtend:qi}),n}(),Ko=new Aa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ko.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Wo=self.firebase.SDK_VERSION;Wo&&Wo.indexOf("LITE")>=0&&Ko.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ho=qo;!function(e){bo("@firebase/app-compat","0.2.8",e)}();var Go;function Qo(){return Qo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Qo.apply(this,arguments)}Ho.registerVersion("firebase","9.20.0","app-compat");var Yo={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$o="EMAIL_SIGNIN",Xo="PASSWORD_RESET",Jo="RECOVER_EMAIL",Zo="REVERT_SECOND_FACTOR_ADDITION",eu="VERIFY_AND_CHANGE_EMAIL",tu="VERIFY_EMAIL";function nu(){return ir({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ru=function(){var e;return ir(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ir(e,"argument-error",""),ir(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ir(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ir(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ir(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ir(e,"cordova-not-ready","Cordova framework is not ready."),ir(e,"cors-unsupported","This browser is not supported."),ir(e,"credential-already-in-use","This credential is already associated with a different user account."),ir(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ir(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ir(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ir(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ir(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ir(e,"email-already-in-use","The email address is already in use by another account."),ir(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ir(e,"expired-action-code","The action code has expired."),ir(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ir(e,"internal-error","An internal AuthError has occurred."),ir(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ir(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ir(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ir(e,"invalid-auth-event","An internal AuthError has occurred."),ir(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ir(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ir(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ir(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ir(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ir(e,"invalid-email","The email address is badly formatted."),ir(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ir(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ir(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ir(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ir(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ir(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ir(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ir(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ir(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ir(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ir(e,"wrong-password","The password is invalid or the user does not have a password."),ir(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ir(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ir(e,"invalid-provider-id","The specified provider ID is invalid."),ir(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ir(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ir(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ir(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ir(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ir(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ir(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ir(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ir(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ir(e,"missing-continue-uri","A continue URL must be provided in the request."),ir(e,"missing-iframe-start","An internal AuthError has occurred."),ir(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ir(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ir(e,"missing-password","A non-empty password must be provided"),ir(e,"missing-multi-factor-info","No second factor identifier is provided."),ir(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ir(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ir(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ir(e,"app-deleted","This instance of FirebaseApp has been deleted."),ir(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ir(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ir(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ir(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ir(e,"no-auth-event","An internal AuthError has occurred."),ir(e,"no-such-provider","User was not linked to an account with the given provider."),ir(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ir(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ir(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ir(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ir(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ir(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ir(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ir(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ir(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ir(e,"rejected-credential","The request contains malformed or mismatching credentials."),ir(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ir(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ir(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ir(e,"timeout","The operation has timed out."),ir(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ir(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ir(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ir(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ir(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ir(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ir(e,"unverified-email","The operation requires a verified email."),ir(e,"user-cancelled","The user did not grant your application the permissions it requested."),ir(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ir(e,"user-disabled","The user account has been disabled by an administrator."),ir(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ir(e,"user-signed-out",""),ir(e,"weak-password","The password must be 6 characters long or more."),ir(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ir(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),ir(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),ir(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),ir(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),ir(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),ir(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),ir(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),ir(e,"invalid-req-type","Invalid request parameters."),ir(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},iu=nu,au=new ra("auth","Firebase",nu()),ou=new Aa("@firebase/auth");function uu(e){if(ou.logLevel<=_a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ou.warn.apply(ou,["Auth (".concat(po,"): ").concat(e)].concat(n))}}function su(e){if(ou.logLevel<=_a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ou.error.apply(ou,["Auth (".concat(po,"): ").concat(e)].concat(n))}}function cu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw du.apply(void 0,[e].concat(n))}function lu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return du.apply(void 0,[e].concat(n))}function fu(e,t,n){var r=Object.assign(Object.assign({},iu()),ir({},t,n));return new ra("auth","Firebase",r).create(t,{appName:e.name})}function hu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&cu(e,"argument-error"),fu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function du(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=c(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(c(o)))}return au.create.apply(au,[e].concat(n))}function pu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw du.apply(void 0,[t].concat(r))}}function vu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw su(t),new Error(t)}function mu(e,t){e||vu(t)}function yu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function gu(){return"http:"===ku()||"https:"===ku()}function ku(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var bu=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,mu(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($i())||Zi()}return p(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(gu()||Ji()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function wu(e,t){mu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var xu=function(){function e(){l(this,e)}return p(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void vu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void vu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void vu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),_u=(ir(Go={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ir(Go,"MISSING_CUSTOM_TOKEN","internal-error"),ir(Go,"INVALID_IDENTIFIER","invalid-email"),ir(Go,"MISSING_CONTINUE_URI","internal-error"),ir(Go,"INVALID_PASSWORD","wrong-password"),ir(Go,"MISSING_PASSWORD","missing-password"),ir(Go,"EMAIL_EXISTS","email-already-in-use"),ir(Go,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ir(Go,"INVALID_IDP_RESPONSE","invalid-credential"),ir(Go,"INVALID_PENDING_TOKEN","invalid-credential"),ir(Go,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ir(Go,"MISSING_REQ_TYPE","internal-error"),ir(Go,"EMAIL_NOT_FOUND","user-not-found"),ir(Go,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ir(Go,"EXPIRED_OOB_CODE","expired-action-code"),ir(Go,"INVALID_OOB_CODE","invalid-action-code"),ir(Go,"MISSING_OOB_CODE","internal-error"),ir(Go,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ir(Go,"INVALID_ID_TOKEN","invalid-user-token"),ir(Go,"TOKEN_EXPIRED","user-token-expired"),ir(Go,"USER_NOT_FOUND","user-token-expired"),ir(Go,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ir(Go,"INVALID_CODE","invalid-verification-code"),ir(Go,"INVALID_SESSION_INFO","invalid-verification-id"),ir(Go,"INVALID_TEMPORARY_PROOF","invalid-credential"),ir(Go,"MISSING_SESSION_INFO","missing-verification-id"),ir(Go,"SESSION_EXPIRED","code-expired"),ir(Go,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ir(Go,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ir(Go,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ir(Go,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ir(Go,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ir(Go,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ir(Go,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ir(Go,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ir(Go,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ir(Go,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ir(Go,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ir(Go,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),ir(Go,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),ir(Go,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),ir(Go,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),ir(Go,"MISSING_CLIENT_TYPE","missing-client-type"),ir(Go,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),ir(Go,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),ir(Go,"INVALID_REQ_TYPE","invalid-req-type"),Go),Iu=new bu(3e4,6e4);function Eu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Su(e,t,n,r){return Tu.apply(this,arguments)}function Tu(){return Tu=ga(ma().mark((function e(t,n,r,i){var a,o=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Cu(t,a,ga(ma().mark((function e(){var a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ca(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",xu.fetch()(Ou(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(e,t,n){return Nu.apply(this,arguments)}function Nu(){return Nu=ga(ma().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},_u),n),e.prev=2,a=new Ru(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Du(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=_(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Du(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Du(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Du(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw fu(t,d,h);case 34:cu(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof na)){e.next=41;break}throw e.t0;case 41:cu(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Nu.apply(this,arguments)}function Au(e,t,n,r){return Pu.apply(this,arguments)}function Pu(){return Pu=ga(ma().mark((function e(t,n,r,i){var a,o,u=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Su(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&cu(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ou(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?wu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ru=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(lu(n.auth,"network-request-failed"))}),Iu.get())}))}return p(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Du(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=lu(e,t,r);return i.customData._tokenResponse=n,i}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function ju(e,t){return Fu.apply(this,arguments)}function Fu(){return Fu=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function zu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Bu(){return Bu=ga(ma().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=va(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,pu((a=Ku(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:zu(qu(a.auth_time)),issuedAtTime:zu(qu(a.iat)),expirationTime:zu(qu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function qu(e){return 1e3*Number(e)}function Ku(e){var t=_(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return su("JWT malformed, contained fewer than 3 sections"),null;try{var a=Bi(r);return a?JSON.parse(a):(su("Failed to decode base64 JWT payload"),null)}catch(o){return su("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Wu(e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=ga(ma().mark((function e(t,n){var r=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof na&&Gu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Hu.apply(this,arguments)}function Gu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Qu=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return p(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yu=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return p(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function $u(e){return Xu.apply(this,arguments)}function Xu(){return Xu=ga(ma().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Wu(t,Uu(r,{idToken:i}));case 6:pu(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=mi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Zu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Yu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function Ju(){return(Ju=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=va(t),e.next=3,$u(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(t,{},ga(ma().mark((function e(){var r,i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ca({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ou(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",xu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}var ns=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return p(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){pu(e.idToken,"internal-error"),pu("undefined"!==typeof e.idToken,"internal-error"),pu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ku(e);return pu(t,"internal-error"),pu("undefined"!==typeof t.exp,"internal-error"),pu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ga(ma().mark((function e(t){var n,r=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],pu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return vu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(pu("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(pu("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(pu("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function rs(e,t){pu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var is=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=mi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?c(a.providerData):[],this.metadata=new Yu(a.createdAt||void 0,a.lastLoginAt||void 0)}return p(e,[{key:"getIdToken",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(pu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Bu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ju.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(pu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){pu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ga(ma().mark((function e(t){var n,r,i=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,$u(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Wu(this,Lu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;pu(k&&_,t,"internal-error");var I=ns.fromJSON(this.name,_);pu("string"===typeof k,t,"internal-error"),rs(f,t.name),rs(h,t.name),pu("boolean"===typeof b,t,"internal-error"),pu("boolean"===typeof w,t,"internal-error"),rs(d,t.name),rs(p,t.name),rs(v,t.name),rs(m,t.name),rs(y,t.name),rs(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=ga(ma().mark((function t(n,r){var i,a,o,u=arguments;return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ns).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,$u(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),as=new Map;function os(e){mu(e instanceof Function,"Expected a class definition");var t=as.get(e);return t?(mu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,as.set(e,t),t)}var us=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return p(e,[{key:"_isAvailable",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();us.type="NONE";var ss=us;function cs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ls=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=cs(this.userKey,a.apiKey,o),this.fullPersistenceKey=cs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return p(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?is._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ga(ma().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(os(ss),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||os(ss),u=cs(i,n.config.apiKey,n.name),s=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=is._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function fs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ys(t))return"Blackberry";if(gs(t))return"Webos";if(ds(t))return"Safari";if((t.includes("chrome/")||ps(t))&&!t.includes("edge/"))return"Chrome";if(ms(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/firefox\//i.test(e)}function ds(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/crios\//i.test(e)}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/iemobile/i.test(e)}function ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/android/i.test(e)}function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/blackberry/i.test(e)}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/webos/i.test(e)}function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return ks(e)||ms(e)||gs(e)||ys(e)||/windows phone/i.test(e)||vs(e)}function ws(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=fs($i());break;case"Worker":t="".concat(fs($i()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(po,"/").concat(r)}function xs(e){return _s.apply(this,arguments)}function _s(){return _s=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Is(e,t){return Es.apply(this,arguments)}function Es(){return Es=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"GET","/v2/recaptchaConfig",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ss(e){return void 0!==e&&void 0!==e.getResponse}function Ts(e){return void 0!==e&&void 0!==e.enterprise}var Cs=p((function e(t){if(l(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Ns(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=lu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function As(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ps=function(){function e(t){l(this,e),this.type="recaptcha-enterprise",this.auth=Ms(t)}return p(e,[{key:"verify",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Ts(i)?i.enterprise.ready((function(){try{i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(e){r(e)}))}catch(a){r(a)}})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ga(ma().mark((function e(n,r){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Is(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Cs(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Ts(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ns("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Os(e,t,n){return Rs.apply(this,arguments)}function Rs(){return Rs=ga(ma().mark((function e(t,n,r){var i,a,o,u,s=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Ps(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Rs.apply(this,arguments)}var Ds=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return p(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ga(ma().mark((function e(t){var n,r,i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=T(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(wn){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ls=function(){function e(t,n,r,i){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new Ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=au,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return p(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=os(t)),this._initializationPromise=this.queue(ga(ma().mark((function r(){var i,a;return ma().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ls.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ga(ma().mark((function e(t){var n,r,i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return pu(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$u(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?va(t):null)&&pu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ga(ma().mark((function e(t){var n,r=this,i=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&pu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ga(ma().mark((function n(){return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(os(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ga(ma().mark((function e(){var t,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Is(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Cs(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Ps(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ra("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return pu(n=t&&os(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ls.create(this,[os(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ga(ma().mark((function e(t){var n=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pu(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return pu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ws(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ir({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ga(ma().mark((function e(){var t,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&uu("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ms(e){return va(e)}var js=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=ha((function(e){return n.observer=e}))}return p(e,[{key:"next",get:function(){return pu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Fs(e,t,n){var r=Ms(e);pu(r._canInitEmulator,r,"emulator-config-failed"),pu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Us(t),o=function(e){var t=Us(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Vs(r.substr(a.length+1))}}var o=_(r.split(":"),2);return{host:o[0],port:Vs(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Us(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vs(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var zs=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return p(e,[{key:"toJSON",value:function(){return vu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return vu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return vu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return vu("not implemented")}}]),e}();function Bs(e,t){return qs.apply(this,arguments)}function qs(){return qs=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:resetPassword",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ks(e,t){return Ws.apply(this,arguments)}function Ws(){return Ws=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}function Hs(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:update",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Qs(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:signInWithPassword",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function $s(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:sendOobCode",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$s(t,n));case 1:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$s(t,n));case 1:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$s(t,n));case 1:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$s(t,n));case 1:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t){return uc.apply(this,arguments)}function uc(){return uc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:signInWithEmailLink",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:signInWithEmailLink",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}var lc=function(e){m(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return p(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ga(ma().mark((function e(t){var n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Os(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Qs(t,i));case 11:return e.abrupt("return",Qs(t,r).catch(function(){var e=ga(ma().mark((function e(n){var i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Os(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Qs(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",oc(t,{email:this._email,oobCode:this._password}));case 13:cu(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ks(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",sc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:cu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zs);function fc(e,t){return hc.apply(this,arguments)}function hc(){return hc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:signInWithIdp",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}var dc=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return p(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ca(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=mi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(zs);function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:sendVerificationCode",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(){return mc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:signInWithPhoneNumber",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(){return yc=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(t,"POST","/v1/accounts:signInWithPhoneNumber",Eu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Du(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}var gc=ir({},"USER_NOT_FOUND","user-not-found");function kc(){return kc=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Au(t,"POST","/v1/accounts:signInWithPhoneNumber",Eu(t,r),gc));case 2:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}var bc=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return kc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(zs);var wc=function(){function e(t){var n,r,i,a,o,u;l(this,e);var s=la(fa(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);pu(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return p(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=la(fa(e)).link,n=t?la(fa(t)).deep_link_id:null,r=la(fa(e)).deep_link_id;return(r?la(fa(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(MC){return null}}}]),e}();var xc=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return p(e,null,[{key:"credential",value:function(e,t){return lc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wc.parseLink(t);return pu(n,"argument-error"),lc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xc.PROVIDER_ID="password",xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var _c=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return p(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ic=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return p(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(_c),Ec=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return pu(e.idToken||e.accessToken,"argument-error"),dc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return pu("providerId"in t&&"signInMethod"in t,"argument-error"),dc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ic),Sc=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"facebook.com")}return p(n,null,[{key:"credential",value:function(e){return dc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(MC){return null}}}]),n}(Ic);Sc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Sc.PROVIDER_ID="facebook.com";var Tc=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return p(n,null,[{key:"credential",value:function(e,t){return dc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(MC){return null}}}]),n}(Ic);Tc.GOOGLE_SIGN_IN_METHOD="google.com",Tc.PROVIDER_ID="google.com";var Cc=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"github.com")}return p(n,null,[{key:"credential",value:function(e){return dc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(MC){return null}}}]),n}(Ic);Cc.GITHUB_SIGN_IN_METHOD="github.com",Cc.PROVIDER_ID="github.com";var Nc=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return p(n,[{key:"_getIdTokenResponse",value:function(e){return fc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zs),Ac=function(e){m(n,e);var t=b(n);function n(e){return l(this,n),pu(e.startsWith("saml."),"argument-error"),t.call(this,e)}return p(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Nc.fromJSON(e);return pu(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Nc._create(r,n)}catch(i){return null}}}]),n}(_c),Pc=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"twitter.com")}return p(n,null,[{key:"credential",value:function(e,t){return dc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(MC){return null}}}]),n}(Ic);function Oc(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:signUp",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}Pc.TWITTER_SIGN_IN_METHOD="twitter.com",Pc.PROVIDER_ID="twitter.com";var Dc=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return p(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ga(ma().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,is._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Lc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ga(ma().mark((function t(n,r,i){var a;return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Lc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Lc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Mc(){return Mc=ga(ma().mark((function e(t){var n,r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ms(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Dc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Oc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Dc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}var jc=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o,u;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(k(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return p(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(na);function Fc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw jc._fromErrorAndOperation(e,n,t,r);throw n}))}function Uc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Vc(e,t){return zc.apply(this,arguments)}function zc(){return zc=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=va(t),e.next=3,Kc(!0,r,n);case 3:return e.t0=ju,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Uc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Bc(e,t){return qc.apply(this,arguments)}function qc(){return qc=ga(ma().mark((function e(t,n){var r,i,a=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Wu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Dc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Kc(e,t,n){return Wc.apply(this,arguments)}function Wc(){return(Wc=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(n);case 2:i=Uc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",pu(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=ga(ma().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Wu(t,Fc(i,a,n,t),r);case 6:return pu((o=e.sent).idToken,i,"internal-error"),pu(u=Ku(o.idToken),i,"internal-error"),s=u.sub,pu(t.uid===s,i,"user-mismatch"),e.abrupt("return",Dc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&cu(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Gc.apply(this,arguments)}function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=ga(ma().mark((function e(t,n){var r,i,a,o,u=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Fc(t,i,n);case 4:return a=e.sent,e.next=7,Dc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function $c(e,t){return Xc.apply(this,arguments)}function Xc(){return Xc=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qc(Ms(t),n));case 1:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Jc(e,t){return Zc.apply(this,arguments)}function Zc(){return(Zc=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=va(t),e.next=3,Kc(!1,r,n.providerId);case 3:return e.abrupt("return",Bc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return(tl=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(va(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t){return rl.apply(this,arguments)}function rl(){return rl=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:signInWithCustomToken",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(){return il=ga(ma().mark((function e(t,n){var r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ms(t),e.next=3,nl(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Dc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}var al=function(){function e(t,n){l(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return p(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ol._fromServerResponse(e,t):"totpInfo"in t?ul._fromServerResponse(e,t):cu(e,"internal-error")}}]),e}(),ol=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(al),ul=function(e){m(n,e);var t=b(n);function n(e){return l(this,n),t.call(this,"totp",e)}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(al);function sl(e,t,n){var r;pu((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),pu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(pu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function cl(){return cl=ga(ma().mark((function e(t,n,r){var i,a,o,u;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ms(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Os(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&sl(a,u,r),e.next=9,ec(a,u);case 9:e.next=14;break;case 11:return r&&sl(a,o,r),e.next=14,ec(a,o).catch(function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Os(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&sl(a,n,r),e.next=8,ec(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(){return ll=ga(ma().mark((function e(t,n,r){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bs(va(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(){return fl=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hs(va(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function hl(e,t){return dl.apply(this,arguments)}function dl(){return dl=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=va(t),e.next=3,Bs(r,{oobCode:n});case 3:i=e.sent,pu(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return pu(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:pu(i.mfaInfo,r,"internal-error");case 13:pu(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=al._fromServerResponse(Ms(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}function pl(){return pl=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hl(va(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}function vl(e,t,n){return ml.apply(this,arguments)}function ml(){return ml=ga(ma().mark((function e(t,n,r){var i,a,o,u,s,c,l;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ms(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Os(a,o,"signUpPassword");case 5:s=e.sent,u=Oc(a,s),e.next=10;break;case 9:u=Oc(a,o).catch(function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Os(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Oc(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Dc._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(){return yl=ga(ma().mark((function e(t,n,r){var i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){pu(t.handleCodeInApp,a,"argument-error"),t&&sl(a,e,t)},a=Ms(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Os(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,nc(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,nc(a,o).catch(function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Os(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,nc(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(){return gl=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=va(t),pu((a=xc.credentialWithLink(n,r||yu()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",$c(i,a));case 4:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:createAuthUri",Eu(t,n)));case 1:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(){return wl=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu()?yu():"http://localhost",i={identifier:n,continueUri:r},e.next=4,kl(va(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(){return(xl=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=va(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&sl(r.auth,a,n),e.next=8,Js(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _l(){return(_l=ga(ma().mark((function e(t,n,r){var i,a,o,u;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=va(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&sl(i.auth,o,r),e.next=8,ic(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Il(e,t){return El.apply(this,arguments)}function El(){return El=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Su(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Sl(){return(Sl=ga(ma().mark((function e(t,n){var r,i,a,o,u,s,c;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=va(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Wu(a,Il(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e,t,n){return Cl.apply(this,arguments)}function Cl(){return Cl=ga(ma().mark((function e(t,n,r){var i,a,o,u;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Wu(t,Ks(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}var Nl=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Al=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i)).username=a,o}return p(n)}(Nl),Pl=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"facebook.com",r)}return p(n)}(Nl),Ol=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return p(n)}(Al),Rl=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"google.com",r)}return p(n)}(Nl),Dl=function(e){m(n,e);var t=b(n);function n(e,r,i){return l(this,n),t.call(this,e,"twitter.com",r,i)}return p(n)}(Al);function Ll(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ku(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Nl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Pl(a,i);case"github.com":return new Ol(a,i);case"google.com":return new Rl(a,i);case"twitter.com":return new Dl(a,i,e.screenName||null);case"custom":case"anonymous":return new Nl(a,null);default:return new Nl(a,r,i)}}(n)}var Ml=function(){function e(t,n,r){l(this,e),this.type=t,this.credential=n,this.auth=r}return p(e,[{key:"toJSON",value:function(){return{multiFactorSession:ir({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),jl=function(){function e(t,n,r){l(this,e),this.session=t,this.hints=n,this.signInResolver=r}return p(e,[{key:"resolveSignIn",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ms(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return al._fromServerResponse(r,e)}));pu(i.mfaPendingCredential,r,"internal-error");var o=Ml._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ga(ma().mark((function e(t){var a,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Dc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return pu(n.user,r,"internal-error"),e.abrupt("return",Dc._forOperation(n.user,n.operationType,u));case 17:cu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Fl(e,t){return Su(e,"POST","/v2/accounts/mfaEnrollment:start",Eu(e,t))}function Ul(e,t){return Su(e,"POST","/v2/accounts/mfaEnrollment:start",Eu(e,t))}function Vl(e,t){return Su(e,"POST","/v2/accounts/mfaEnrollment:finalize",Eu(e,t))}function zl(e,t){return Su(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Eu(e,t))}var Bl=function(){function e(t){var n=this;l(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return al._fromServerResponse(t.auth,e)})))}))}return p(e,[{key:"getSession",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ml,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ga(ma().mark((function e(t,n){var r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Wu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ga(ma().mark((function e(t){var n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Wu(this.user,zl(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ql=new WeakMap;var Kl="__sak",Wl=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return p(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Kl,"1"),this.storage.removeItem(Kl),Promise.resolve(!0)):Promise.resolve(!1)}catch(MC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Hl=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=$i();return ds(e)||ks(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=bs(),e._shouldAllowMigration=!0,e}return p(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ea()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ga(ma().mark((function e(t,r){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(y(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ga(ma().mark((function e(t){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(y(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(y(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Wl);Hl.type="LOCAL";var Gl=Hl,Ql=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return p(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Wl);Ql.type="SESSION";var Yl=Ql;function $l(e){return Promise.all(e.map(function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Xl=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return p(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ga(ma().mark((function e(t){var n,r,i,a,o,u,s,c;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,$l(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Jl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xl.receivers=[];var Zl=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return p(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ga(ma().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Jl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ef(){return window}function tf(e){ef().location.href=e}function nf(){return"undefined"!==typeof ef().WorkerGlobalScope&&"function"===typeof ef().importScripts}function rf(){return af.apply(this,arguments)}function af(){return(af=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function of(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var uf="firebaseLocalStorageDb",sf="firebaseLocalStorage",cf="fbase_key",lf=function(){function e(t){l(this,e),this.request=t}return p(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ff(e,t){return e.transaction([sf],t?"readwrite":"readonly").objectStore(sf)}function hf(){var e=indexedDB.deleteDatabase(uf);return new lf(e).toPromise()}function df(){var e=indexedDB.open(uf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(sf,{keyPath:cf})}catch(r){n(r)}})),e.addEventListener("success",ga(ma().mark((function n(){var r;return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(sf)){n.next=12;break}return r.close(),n.next=5,hf();case 5:return n.t0=t,n.next=8,df();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function pf(e,t,n){return vf.apply(this,arguments)}function vf(){return vf=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ff(t,!0).put((ir(i={},cf,n),ir(i,"value",r),i)),e.abrupt("return",new lf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function mf(e,t){return yf.apply(this,arguments)}function yf(){return yf=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ff(t,!1).get(n),e.next=3,new lf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}function gf(e,t){var n=ff(e,!0).delete(t);return new lf(n).toPromise()}var kf=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return p(e,[{key:"_openDb",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,df();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ga(ma().mark((function e(){var t=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Xl._getInstance(nf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ga(ma().mark((function e(n,r){var i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ga(ma().mark((function e(){var t,n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Zl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&of()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,df();case 5:return t=e.sent,e.next=8,pf(t,Kl,"1");case 8:return e.next=10,gf(t,Kl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ga(ma().mark((function e(t,n){var r=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return pf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return mf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ga(ma().mark((function e(t){var n=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return gf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ff(e,!1).getAll();return new lf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();kf.type="LOCAL";var bf=kf;function wf(e,t){return Su(e,"POST","/v2/accounts/mfaSignIn:start",Eu(e,t))}function xf(e,t){return Su(e,"POST","/v2/accounts/mfaSignIn:finalize",Eu(e,t))}var _f=1e12,If=function(){function e(t){l(this,e),this.auth=t,this.counter=_f,this._widgets=new Map}return p(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ef(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_f;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_f;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_f,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ef=function(){function e(t,n,r){var i=this;l(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;pu(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return p(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Sf=As("rcb"),Tf=new bu(3e4,6e4),Cf=function(){function e(){var t;l(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ef().grecaptcha)||void 0===t?void 0:t.render)}return p(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pu(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ss(ef().grecaptcha)?Promise.resolve(ef().grecaptcha):new Promise((function(r,i){var a=ef().setTimeout((function(){i(lu(e,"network-request-failed"))}),Tf.get());ef()[Sf]=function(){ef().clearTimeout(a),delete ef()[Sf];var o=ef().grecaptcha;if(o&&Ss(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(lu(e,"internal-error"))},Ns("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ca({onload:Sf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(lu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ef().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Nf=function(){function e(){l(this,e)}return p(e,[{key:"load",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new If(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Af="recaptcha",Pf={theme:"light",type:"image"},Of=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Pf),r=arguments.length>2?arguments[2]:void 0;l(this,e),this.parameters=n,this.type=Af,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ms(r),this.isInvisible="invisible"===this.parameters.size,pu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;pu(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nf:new Cf,this.validateStartingState()}return p(e,[{key:"verify",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){pu(!this.parameters.sitekey,this.auth,"argument-error"),pu(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ef()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){pu(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ga(ma().mark((function e(){var t,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu(gu()&&!nf(),this.auth,"internal-error"),e.next=3,Rf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,xs(this.auth);case 8:pu(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return pu(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Rf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Df=function(){function e(t,n){l(this,e),this.verificationId=t,this.onConfirmation=n}return p(e,[{key:"confirm",value:function(e){var t=bc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Lf(){return Lf=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ms(t),e.next=3,Uf(i,n,va(r));case 3:return a=e.sent,e.abrupt("return",new Df(a,(function(e){return $c(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Mf(e,t,n){return jf.apply(this,arguments)}function jf(){return(jf=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=va(t),e.next=3,Kc(!1,i,"phone");case 3:return e.next=5,Uf(i.auth,n,va(r));case 5:return a=e.sent,e.abrupt("return",new Df(a,(function(e){return Jc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(){return(Ff=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=va(t),e.next=3,Uf(i.auth,n,va(r));case 3:return a=e.sent,e.abrupt("return",new Df(a,(function(e){return el(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(e,t,n){return Vf.apply(this,arguments)}function Vf(){return Vf=ga(ma().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,pu("string"===typeof a,t,"argument-error"),pu(r.type===Af,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return pu("enroll"===u.type,t,"internal-error"),e.next=13,Fl(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return pu("signin"===u.type,t,"internal-error"),pu(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,wf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vf.apply(this,arguments)}function zf(){return(zf=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bc(va(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bf=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ms(t)}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return Uf(this.auth,e,va(t))}}],[{key:"credential",value:function(e,t){return bc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bc._fromTokenResponse(n,r):null}}]),e}();function qf(e,t){return t?os(t):(pu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bf.PROVIDER_ID="phone",Bf.PHONE_SIGN_IN_METHOD="phone";var Kf=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return fc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zs);function Wf(e){return Qc(e.auth,new Kf(e),e.bypassAuthState)}function Hf(e){var t=e.auth,n=e.user;return pu(n,t,"internal-error"),Hc(n,new Kf(e),e.bypassAuthState)}function Gf(e){return Qf.apply(this,arguments)}function Qf(){return Qf=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,pu(r=t.user,n,"internal-error"),e.abrupt("return",Bc(r,new Kf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}var Yf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return p(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ga(ma().mark((function t(n,r){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ga(ma().mark((function e(t){var n,r,i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wf;case"linkViaPopup":case"linkViaRedirect":return Gf;case"reauthViaPopup":case"reauthViaRedirect":return Hf;default:cu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){mu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){mu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),$f=new bu(2e3,1e4);function Xf(e,t,n){return Jf.apply(this,arguments)}function Jf(){return Jf=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ms(t),hu(t,n,_c),a=qf(i,r),o=new nh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(){return(Zf=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu((i=va(t)).auth,n,_c),a=qf(i.auth,r),o=new nh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eh(e,t,n){return th.apply(this,arguments)}function th(){return(th=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu((i=va(t)).auth,n,_c),a=qf(i.auth,r),o=new nh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nh=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o){var u;return l(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=k(u),u}return p(n,[{key:"executeNotNull",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return pu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ga(ma().mark((function e(){var t,n=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mu(1===this.filter.length,"Popup operations only handle one event"),t=Jl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(lu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(lu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(lu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,$f.get())}()}}]),n}(Yf);nh.currentPopupAction=null;var rh="pendingRedirect",ih=new Map,ah=function(e){m(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return p(n,[{key:"execute",value:function(){var e=ga(ma().mark((function e(){var t,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ih.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,oh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Qo(y(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ih.set(this.auth._key(),t);case 21:return this.bypassAuthState||ih.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ga(ma().mark((function e(t){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Qo(y(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Qo(y(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yf);function oh(e,t){return uh.apply(this,arguments)}function uh(){return uh=ga(ma().mark((function e(t,n){var r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hh(n),i=fh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(e,t){return ch.apply(this,arguments)}function ch(){return ch=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fh(t)._set(hh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(e,t){ih.set(e._key(),t)}function fh(e){return os(e._redirectPersistence)}function hh(e){return cs(rh,e.config.apiKey,e.name)}function dh(e,t,n){return function(e,t,n){return ph.apply(this,arguments)}(e,t,n)}function ph(){return ph=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ms(t),hu(t,n,_c),e.next=4,i._initializationPromise;case 4:return a=qf(i,r),e.next=7,sh(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t,n){return function(e,t,n){return mh.apply(this,arguments)}(e,t,n)}function mh(){return(mh=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu((i=va(t)).auth,n,_c),e.next=4,i.auth._initializationPromise;case 4:return a=qf(i.auth,r),e.next=7,sh(a,i.auth);case 7:return e.next=9,_h(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t,n){return function(e,t,n){return gh.apply(this,arguments)}(e,t,n)}function gh(){return(gh=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu((i=va(t)).auth,n,_c),e.next=4,i.auth._initializationPromise;case 4:return a=qf(i.auth,r),e.next=7,Kc(!1,i,n.providerId);case 7:return e.next=9,sh(a,i.auth);case 9:return e.next=11,_h(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kh(e,t){return bh.apply(this,arguments)}function bh(){return bh=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms(t)._initializationPromise;case 2:return e.abrupt("return",wh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=ga(ma().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ms(t),a=qf(i,n),o=new ah(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function _h(e){return Ih.apply(this,arguments)}function Ih(){return(Ih=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eh=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return p(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Th(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Th(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(lu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Sh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Sh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Th(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ch(e){return Nh.apply(this,arguments)}function Nh(){return Nh=ga(ma().mark((function e(t){var n,r=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Su(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}var Ah=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ph=/^https?/;function Oh(){return Oh=ga(ma().mark((function e(t){var n,r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ch(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Rh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:cu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Oh.apply(this,arguments)}function Rh(e){var t=yu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ph.test(r))return!1;if(Ah.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Dh=new bu(3e4,6e4);function Lh(){var e=ef().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Mh=null;function jh(e){return Mh=Mh||function(e){return new Promise((function(t,n){var r,i,a;function o(){Lh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Lh(),n(lu(e,"network-request-failed"))},timeout:Dh.get()})}if(null===(i=null===(r=ef().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ef().gapi)||void 0===a?void 0:a.load)){var u=As("iframefcb");return ef()[u]=function(){gapi.load?o():n(lu(e,"network-request-failed"))},Ns("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Mh=null,e}))}(e),Mh}var Fh=new bu(5e3,15e3),Uh="__/auth/iframe",Vh="emulator/auth/iframe",zh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qh(e){var t=e.config;pu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?wu(t,Vh):"https://".concat(e.config.authDomain,"/").concat(Uh),r={apiKey:t.apiKey,appName:e.name,v:po},i=Bh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ca(r).slice(1))}function Kh(e){return Wh.apply(this,arguments)}function Wh(){return Wh=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jh(t);case 2:return n=e.sent,pu(r=ef().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:qh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zh,dontclear:!0},(function(e){return new Promise(function(){var n=ga(ma().mark((function n(r,i){var a,o,u;return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ef().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=lu(t,"network-request-failed"),o=ef().setTimeout((function(){i(a)}),Fh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}var Hh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gh=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return p(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Qh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Hh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=$i().toLowerCase();n&&(u=ps(c)?"_blank":n),hs(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=_(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ks(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Gh(null);var f=window.open(t||"",u,l);pu(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Gh(f)}var Yh="__/auth/handler",$h="emulator/auth/handler",Xh=encodeURIComponent("fac");function Jh(e,t,n,r,i,a){return Zh.apply(this,arguments)}function Zh(){return Zh=ga(ma().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,h,d,p,v,m,y,g,k;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pu(t.config.authDomain,t,"auth-domain-config-required"),pu(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:po,eventId:a},n instanceof _c)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",oa(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=_(c[s],2),f=l[0],h=l[1],u[f]=h;for(n instanceof Ic&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=d.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,k=g?"#".concat(Xh,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(ed(t),"?").concat(ca(p).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e){var t=e.config;return t.emulator?wu(t,$h):"https://".concat(t.authDomain,"/").concat(Yh)}var td="webStorageSupport",nd=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yl,this._completeRedirectFn=wh,this._overrideRedirectResult=lh}return p(e,[{key:"_openPopup",value:function(){var e=ga(ma().mark((function e(t,n,r,i){var a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Jh(t,n,r,yu(),i);case 3:return o=e.sent,e.abrupt("return",Qh(t,o,Jl()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ga(ma().mark((function e(t,n,r,i){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Jh(t,n,r,yu(),i);case 4:return tf(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(mu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kh(t);case 2:return n=e.sent,r=new Eh(t),n.register("authEvent",(function(e){return pu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(td,{type:td},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[td];void 0!==i&&t(!!i),cu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Oh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return bs()||ds()||ks()}}]),e}(),rd=nd,id=function(){function e(t){l(this,e),this.factorId=t}return p(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vu("unexpected MultiFactorSessionType")}}}]),e}(),ad=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return p(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Su(e,"POST","/v2/accounts/mfaEnrollment:finalize",Eu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Su(e,"POST","/v2/accounts/mfaSignIn:finalize",Eu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(id),od=function(){function e(){l(this,e)}return p(e,null,[{key:"assertion",value:function(e){return ad._fromCredential(e)}}]),e}();od.FACTOR_ID="phone";var ud=function(){function e(){l(this,e)}return p(e,null,[{key:"assertionForEnrollment",value:function(e,t){return sd._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return sd._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Ul(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",cd._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ud.FACTOR_ID="totp";var sd=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return p(n,[{key:"_finalizeEnroll",value:function(){var e=ga(ma().mark((function e(t,n,r){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Vl(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",xf(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(id),cd=function(){function e(t,n,r,i,a,o,u){l(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return p(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(ld(e)||ld(t))&&(r=!0),r&&(ld(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ld(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function ld(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var fd="@firebase/auth",hd="0.23.0",dd=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return p(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){pu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var pd;!function(e){var t;null===(t=Wi())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function vd(){return window}pd="Browser",oo(new ka("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;pu(u&&!u.includes(":"),"invalid-api-key",{appName:r.name}),pu(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:pd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ws(pd)},l=new Ls(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(os);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),oo(new ka("auth-internal",(function(e){return function(e){return new dd(e)}(Ms(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),bo(fd,hd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(pd)),bo(fd,hd,"esm2017");var md=2e3;function yd(e,t,n){return gd.apply(this,arguments)}function gd(){return gd=ga(ma().mark((function e(t,n,r){var i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vd(),o=a.BuildInfo,mu(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Id(n.sessionId);case 4:return u=e.sent,s={},ks()?s.ibi=o.packageName:ms()?s.apn=o.packageName:cu(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Jh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(){return kd=ga(ma().mark((function e(t){var n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vd(),r=n.BuildInfo,i={},ks()?i.iosBundleId=r.packageName:ms()?i.androidPackageName=r.packageName:cu(t,"operation-not-supported-in-this-environment"),e.next=5,Ch(t,i);case 5:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(e){var t=vd().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function wd(e,t,n){return xd.apply(this,arguments)}function xd(){return xd=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vd(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(lu(t,"redirect-cancelled-by-user"))}),md))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ms()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),xd.apply(this,arguments)}function _d(e){var t,n,r,i,a,o,u,s,c,l,f=vd();pu("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pu("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pu("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pu("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pu("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Id(e){return Ed.apply(this,arguments)}function Ed(){return(Ed=ga(ma().mark((function e(t){var n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sd(e){if(mu(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Td=20,Cd=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return p(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Qo(y(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Eh);function Nd(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Dd(),postBody:null,tenantId:e.tenantId,error:lu(e,"no-auth-event")}}function Ad(e,t){return Ld()._set(Md(e),t)}function Pd(e){return Od.apply(this,arguments)}function Od(){return Od=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld()._get(Md(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ld()._remove(Md(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}function Rd(e,t){var n,r,i=function(e){var t=jd(e),n=t.link?decodeURIComponent(t.link):void 0,r=jd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=jd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?lu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Dd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Td;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Ld(){return os(Gl)}function Md(e){return cs("authEvent",e.config.apiKey,e.name)}function jd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=S(e.split("?"));t[0];return la(t.slice(1).join("?"))}var Fd=function(){function e(){l(this,e),this._redirectPersistence=Yl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wh,this._overrideRedirectResult=lh}return p(e,[{key:"_initialize",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Cd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){cu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ga(ma().mark((function e(t,n,r,i){var a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _d(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ih.clear(),e.next=10,this._originValidation(t);case 10:return o=Nd(t,r,i),e.next=13,Ad(t,o);case 13:return e.next=15,yd(t,o,n);case 15:return u=e.sent,e.next=18,bd(u);case 18:return s=e.sent,e.abrupt("return",wd(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return kd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vd(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ga(ma().mark((function n(){return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Pd(e);case 2:t.onEvent(Vd());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ga(ma().mark((function n(r){var i,a;return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Pd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Rd(i,r.url)),t.onEvent(a||Vd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");vd().handleOpenURL=function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ud=Fd;function Vd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:lu("no-auth-event")}}var zd=1e3;function Bd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return!("file:"!==Bd()&&"ionic:"!==Bd()&&"capacitor:"!==Bd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return ea()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();return/Edge\/\d+/.test(e)}(e)}function Wd(){try{var e=self.localStorage,t=Jl();if(e)return e.setItem(t,"1"),e.removeItem(t),!Kd()||ta()}catch(n){return Hd()&&ta()}return!1}function Hd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Gd(){return("http:"===Bd()||"https:"===Bd()||Ji()||qd())&&!(Zi()||Xi())&&Wd()&&!Hd()}function Qd(){return qd()&&"undefined"!==typeof document}function Yd(){return $d.apply(this,arguments)}function $d(){return($d=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),zd);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xd={LOCAL:"local",NONE:"none",SESSION:"session"},Jd=pu,Zd="persistence";function ep(e,t){Jd(Object.values(Xd).includes(t),e,"invalid-persistence-type"),Zi()?Jd(t!==Xd.SESSION,e,"unsupported-persistence-type"):Xi()?Jd(t===Xd.NONE,e,"unsupported-persistence-type"):Hd()?Jd(t===Xd.NONE||t===Xd.LOCAL&&ta(),e,"unsupported-persistence-type"):Jd(t===Xd.NONE||Wd(),e,"unsupported-persistence-type")}function tp(e){return np.apply(this,arguments)}function np(){return np=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=rp(),r=cs(Zd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ip=pu,ap=function(){function e(){l(this,e),this.browserResolver=os(rd),this.cordovaResolver=os(Ud),this.underlyingResolver=null,this._redirectPersistence=Yl,this._completeRedirectFn=wh,this._overrideRedirectResult=lh}return p(e,[{key:"_initialize",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ga(ma().mark((function e(t,n,r,i){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ga(ma().mark((function e(t,n,r,i){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Qd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ip(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function op(e){return e.unwrap()}function up(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new hp(e,function(e,t){var n,r=va(e),i=t;return pu(t.customData.operationType,r,"argument-error"),pu(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),jl._fromError(r,i)}(e,t));else if(r){var i=sp(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function sp(e){var t=(e instanceof na?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof na)&&"temporaryProof"in t&&"phoneNumber"in t)return Bf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Yo.PASSWORD)return null;switch(r){case Yo.GOOGLE:n=Tc;break;case Yo.FACEBOOK:n=Sc;break;case Yo.GITHUB:n=Cc;break;case Yo.TWITTER:n=Pc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Nc._create(r,u):dc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ec(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof na?n.credentialFromError(e):n.credentialFromResult(e)}function cp(e,t){return t.catch((function(t){throw t instanceof na&&up(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,sp(t)),additionalUserInfo:Ll(e),user:dp.getOrCreate(r)}}))}function lp(e,t){return fp.apply(this,arguments)}function fp(){return fp=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return cp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}var hp=function(){function e(t,n){l(this,e),this.resolver=n,this.auth=t.wrapped()}return p(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return cp(op(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),dp=function(){function e(t){l(this,e),this._delegate=t,this.multiFactor=function(e){var t=va(e);return ql.has(t)||ql.set(t,Bl._fromUser(t)),ql.get(t)}(t)}return p(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this.auth,Jc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lp(this.auth,Mf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this.auth,eh(this._delegate,t,ap)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tp(Ms(this.auth));case 2:return e.abrupt("return",yh(this._delegate,t,ap));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this.auth,el(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return lp(this.auth,function(e,t,n){return Ff.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return cp(this.auth,function(e,t,n){return Zf.apply(this,arguments)}(this._delegate,e,ap))}},{key:"reauthenticateWithRedirect",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tp(Ms(this.auth));case 2:return e.abrupt("return",vh(this._delegate,t,ap));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return xl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Tl(va(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Tl(va(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return zf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Sl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _l.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();dp.USER_MAP=new WeakMap;var pp=pu,vp=function(){function e(t,n){if(l(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;pp(r,"invalid-api-key",{appName:t.name}),pp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ap:void 0;this._delegate=n.initialize({options:{persistence:yp(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ru),this.linkUnderlyingAuth()}return p(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?dp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Fs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return fl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return hl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ll.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this._delegate,vl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return wl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=wc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(Gd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kh(this._delegate,ap);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",cp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ms(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=mp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=mp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return yl.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return cl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ep(this._delegate,t),e.t0=t,e.next=e.t0===Xd.SESSION?4:e.t0===Xd.LOCAL?6:e.t0===Xd.NONE?11:13;break;case 4:return n=Yl,e.abrupt("break",14);case 6:return e.next=8,os(bf)._isAvailable();case 8:return r=e.sent,n=r?bf:Gl,e.abrupt("break",14);case 11:return n=ss,e.abrupt("break",14);case 13:return e.abrupt("return",cu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return cp(this._delegate,function(e){return Mc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return cp(this._delegate,$c(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return cp(this._delegate,function(e,t){return il.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return cp(this._delegate,function(e,t,n){return $c(va(e),xc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return cp(this._delegate,function(e,t,n){return gl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return lp(this._delegate,function(e,t,n){return Lf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(Gd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",cp(this._delegate,Xf(this._delegate,t,ap)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(Gd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tp(this._delegate);case 3:return e.abrupt("return",dh(this._delegate,t,ap));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return pl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function mp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&dp.getOrCreate(e))},error:t,complete:n}}function yp(e,t){var n=function(e,t){var n=rp();if(!n)return[];var r=cs(Zd,e,t);switch(n.getItem(r)){case Xd.NONE:return[ss];case Xd.LOCAL:return[bf,Yl];case Xd.SESSION:return[Yl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(bf)||n.push(bf),"undefined"!==typeof window)for(var r=0,i=[Gl,Yl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ss)||n.push(ss),n}vp.Persistence=Xd;var gp=function(){function e(){l(this,e),this.providerId="phone",this._delegate=new Bf(op(Ho.auth()))}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Bf.credential(e,t)}}]),e}();gp.PHONE_SIGN_IN_METHOD=Bf.PHONE_SIGN_IN_METHOD,gp.PROVIDER_ID=Bf.PROVIDER_ID;var kp,bp=pu,wp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ho.app();l(this,e),bp(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Of(t,n,i.auth()),this.type=this._delegate.type}return p(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(kp=Ho).INTERNAL.registerComponent(new ka("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$o,PASSWORD_RESET:Xo,RECOVER_EMAIL:Jo,REVERT_SECOND_FACTOR_ADDITION:Zo,VERIFY_AND_CHANGE_EMAIL:eu,VERIFY_EMAIL:tu}},EmailAuthProvider:xc,FacebookAuthProvider:Sc,GithubAuthProvider:Cc,GoogleAuthProvider:Tc,OAuthProvider:Ec,SAMLAuthProvider:Ac,PhoneAuthProvider:gp,PhoneMultiFactorGenerator:od,RecaptchaVerifier:wp,TwitterAuthProvider:Pc,Auth:vp,AuthCredential:zs,Error:na}).setInstantiationMode("LAZY").setMultipleInstances(!1)),kp.registerVersion("@firebase/auth-compat","0.4.0");var xp,_p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ip={},Ep=Ep||{},Sp=_p||self;function Tp(){}function Cp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Np(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ap="closure_uid_"+(1e9*Math.random()>>>0),Pp=0;function Op(e,t,n){return e.call.apply(e.bind,arguments)}function Rp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dp(e,t,n){return(Dp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Op:Rp).apply(null,arguments)}function Lp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Mp(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function jp(){this.s=this.s,this.o=this.o}jp.prototype.s=!1,jp.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ap)&&e[Ap]||(e[Ap]=++Pp)}(this)},jp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Up(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vp(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Cp(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function zp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zp.prototype.h=function(){this.defaultPrevented=!0};var Bp=function(){if(!Sp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Sp.addEventListener("test",Tp,t),Sp.removeEventListener("test",Tp,t)}catch(fn){}return e}();function qp(e){return/^[\s\xa0]*$/.test(e)}var Kp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wp(e,t){return e<t?-1:e>t?1:0}function Hp(){var e=Sp.navigator;return e&&(e=e.userAgent)?e:""}function Gp(e){return-1!=Hp().indexOf(e)}function Qp(e){return Qp[" "](e),e}Qp[" "]=Tp;var Yp,$p=Gp("Opera"),Xp=Gp("Trident")||Gp("MSIE"),Jp=Gp("Edge"),Zp=Jp||Xp,ev=Gp("Gecko")&&!(-1!=Hp().toLowerCase().indexOf("webkit")&&!Gp("Edge"))&&!(Gp("Trident")||Gp("MSIE"))&&!Gp("Edge"),tv=-1!=Hp().toLowerCase().indexOf("webkit")&&!Gp("Edge");function nv(){var e=Sp.document;return e?e.documentMode:void 0}e:{var rv="",iv=function(){var e=Hp();return ev?/rv:([^\);]+)(\)|;)/.exec(e):Jp?/Edge\/([\d\.]+)/.exec(e):Xp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):tv?/WebKit\/(\S+)/.exec(e):$p?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(iv&&(rv=iv?iv[1]:""),Xp){var av=nv();if(null!=av&&av>parseFloat(rv)){Yp=String(av);break e}}Yp=rv}var ov,uv={};function sv(){return function(e){var t=uv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Kp(String(Yp)).split("."),n=Kp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wp(0==a[2].length,0==o[2].length)||Wp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Sp.document&&Xp){var cv=nv();ov=cv||(parseInt(Yp,10)||void 0)}else ov=void 0;var lv=ov;function fv(e,t){if(zp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ev){e:{try{Qp(t.nodeName);var i=!0;break e}catch(ln){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:hv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fv.X.h.call(this)}}Mp(fv,zp);var hv={2:"touch",3:"pen",4:"mouse"};fv.prototype.h=function(){fv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var dv="closure_listenable_"+(1e6*Math.random()|0),pv=0;function vv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++pv,this.ba=this.ea=!1}function mv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function yv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gv(e){var t={};for(var n in e)t[n]=e[n];return t}var kv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<kv.length;a++)n=kv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wv(e){this.src=e,this.g={},this.h=0}function xv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Fp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(mv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _v(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}wv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=_v(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new vv(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Iv="closure_lm_"+(1e6*Math.random()|0),Ev={};function Sv(e,t,n,r,i){if(r&&r.once)return Cv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sv(e,t[a],n,r,i);return null}return n=Lv(n),e&&e[dv]?e.N(t,n,Np(r)?!!r.capture:!!r,i):Tv(e,t,n,!1,r,i)}function Tv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Np(i)?!!i.capture:!!i,u=Rv(e);if(u||(e[Iv]=u=new wv(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ov;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Bp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Cv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cv(e,t[a],n,r,i);return null}return n=Lv(n),e&&e[dv]?e.O(t,n,Np(r)?!!r.capture:!!r,i):Tv(e,t,n,!0,r,i)}function Nv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Nv(e,t[a],n,r,i);else r=Np(r)?!!r.capture:!!r,n=Lv(n),e&&e[dv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_v(a=e.g[t],n,r,i))&&(mv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Rv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_v(t,n,r,i)),(n=-1<e?t[e]:null)&&Av(n))}function Av(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[dv])xv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Rv(t))?(xv(n,e),0==n.h&&(n.src=null,t[Iv]=null)):mv(e)}}}function Pv(e){return e in Ev?Ev[e]:Ev[e]="on"+e}function Ov(e,t){if(e.ba)e=!0;else{t=new fv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Av(e),e=n.call(r,t)}return e}function Rv(e){return(e=e[Iv])instanceof wv?e:null}var Dv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(e){return"function"===typeof e?e:(e[Dv]||(e[Dv]=function(t){return e.handleEvent(t)}),e[Dv])}function Mv(){jp.call(this),this.i=new wv(this),this.P=this,this.I=null}function jv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new zp(t,e);else if(t instanceof zp)t.target=t.target||e;else{var i=t;bv(t=new zp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Fv(o,r,!0,t)&&i}if(i=Fv(o=t.g=e,r,!0,t)&&i,i=Fv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Fv(o=t.g=n[a],r,!1,t)&&i}function Fv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&xv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Mp(Mv,jp),Mv.prototype[dv]=!0,Mv.prototype.removeEventListener=function(e,t,n,r){Nv(this,e,t,n,r)},Mv.prototype.M=function(){if(Mv.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mv(n[r]);delete t.g[e],t.h--}}this.I=null},Mv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Uv=Sp.JSON.stringify;function Vv(){var e=Qv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zv,Bv=function(){function e(){l(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=qv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qv=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Kv}),(function(e){return e.reset()})),Kv=function(){function e(){l(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Wv(e){Sp.setTimeout((function(){throw e}),0)}function Hv(e,t){zv||function(){var e=Sp.Promise.resolve(void 0);zv=function(){e.then(Yv)}}(),Gv||(zv(),Gv=!0),Qv.add(e,t)}var Gv=!1,Qv=new Bv;function Yv(){for(var e;e=Vv();){try{e.h.call(e.g)}catch(fn){Wv(fn)}var t=qv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gv=!1}function $v(e,t){Mv.call(this),this.h=e||1,this.g=t||Sp,this.j=Dp(this.lb,this),this.l=Date.now()}function Xv(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Jv(e,t,n){if("function"===typeof e)n&&(e=Dp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Sp.setTimeout(e,t||0)}function Zv(e){e.g=Jv((function(){e.g=null,e.i&&(e.i=!1,Zv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Mp($v,Mv),(xp=$v.prototype).ca=!1,xp.R=null,xp.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),jv(this,"tick"),this.ca&&(Xv(this),this.start()))}},xp.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xp.M=function(){$v.X.M.call(this),Xv(this),delete this.g};var em=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zv(this)}},{key:"M",value:function(){Qo(y(n.prototype),"M",this).call(this),this.g&&(Sp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(jp);function tm(e){jp.call(this),this.h=e,this.g={}}Mp(tm,jp);var nm=[];function rm(e,t,n,r){Array.isArray(n)||(n&&(nm[0]=n.toString()),n=nm);for(var i=0;i<n.length;i++){var a=Sv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function im(e){yv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Av(e)}),e),e.g={}}function am(){this.g=!0}function om(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Uv(n)}catch(nn){return t}}(e,n)+(r?" "+r:"")}))}tm.prototype.M=function(){tm.X.M.call(this),im(this)},tm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},am.prototype.Aa=function(){this.g=!1},am.prototype.info=function(){};var um={},sm=null;function cm(){return sm=sm||new Mv}function lm(e){zp.call(this,um.Pa,e)}function fm(e){var t=cm();jv(t,new lm(t))}function hm(e,t){zp.call(this,um.STAT_EVENT,e),this.stat=t}function dm(e){var t=cm();jv(t,new hm(t,e))}function pm(e,t){zp.call(this,um.Qa,e),this.size=t}function vm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Sp.setTimeout((function(){e()}),t)}um.Pa="serverreachability",Mp(lm,zp),um.STAT_EVENT="statevent",Mp(hm,zp),um.Qa="timingevent",Mp(pm,zp);var mm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ym={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function gm(){}function km(e){return e.h||(e.h=e.i())}function bm(){}gm.prototype.h=null;var wm,xm={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _m(){zp.call(this,"d")}function Im(){zp.call(this,"c")}function Em(){}function Sm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new tm(this),this.O=Cm,e=Zp?125:void 0,this.T=new $v(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Tm}function Tm(){this.i=null,this.g="",this.h=!1}Mp(_m,zp),Mp(Im,zp),Mp(Em,gm),Em.prototype.g=function(){return new XMLHttpRequest},Em.prototype.i=function(){return{}},wm=new Em;var Cm=45e3,Nm={},Am={};function Pm(e,t,n){e.K=1,e.v=$m(Wm(t)),e.s=n,e.P=!0,Om(e,null)}function Om(e,t){e.F=Date.now(),Mm(e),e.A=Wm(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),cy(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Tm,e.g=cg(e.l,n?t:null,!e.s),0<e.N&&(e.L=new em(Dp(e.La,e,e.g),e.N)),rm(e.S,e.g,"readystatechange",e.ib),t=e.H?gv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),fm(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Rm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Dm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Lm(e,n))==Am){4==t&&(e.o=4,dm(14),i=!1),om(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nm){e.o=4,dm(15),om(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}om(e.j,e.m,r,null),zm(e,r)}Rm(e)&&r!=Am&&r!=Nm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tg(t),t.K=!0,dm(11))):(om(e.j,e.m,n,"[Invalid Chunked Response]"),Vm(e),Um(e))}function Lm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Am:(n=Number(t.substring(n,r)),isNaN(n)?Nm:(r+=1)+n>t.length?Am:(t=t.substr(r,n),e.C=r+n,t))}function Mm(e){e.V=Date.now()+e.O,jm(e,e.O)}function jm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=vm(Dp(e.gb,e),t)}function Fm(e){e.B&&(Sp.clearTimeout(e.B),e.B=null)}function Um(e){0==e.l.G||e.I||ig(e.l,e)}function Vm(e){Fm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xv(e.T),im(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||my(n.h,e)))if(!e.J&&my(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rg(n),Gy(n)}eg(n),dm(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=vm(Dp(n.cb,n),6e3));if(1>=vy(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else og(n,11)}else if((e.J||n.g==e)&&rg(n),!qp(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(yy(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ym(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=sg(r,r.H?r.ka:null,r.V),d.J){gy(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Fm(p),Mm(p)),r.g=d}else Zy(r);0<n.i.length&&Yy(n)}else"stop"!=a[0]&&"close"!=a[0]||og(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?og(n,7):Hy(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}fm()}catch(a){}}function Bm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Cp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Cp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Cp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(xp=Sm.prototype).setTimeout=function(e){this.O=e},xp.ib=function(e){e=e.target;var t=this.L;t&&3==Vy(e)?t.l():this.La(e)},xp.La=function(e){try{if(e==this.g)e:{var t=Vy(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Zp||this.g&&(this.h.h||this.g.fa()||zy(this.g)))){this.I||4!=t||7==n||fm(),Fm(this);var r=this.g.aa();this.Y=r;t:if(Rm(this)){var i=zy(this.g);e="";var a=i.length,o=4==Vy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vm(this),Um(this);var u="";break t}this.h.i=new Sp.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qp(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,dm(12),Vm(this),Um(this);break e}om(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zm(this,r)}this.P?(Dm(this,t,u),Zp&&this.i&&3==t&&(rm(this.S,this.T,"tick",this.hb),this.T.start())):(om(this.j,this.m,u,null),zm(this,u)),4==t&&Vm(this),this.i&&!this.I&&(4==t?ig(this.l,this):(this.i=!1,Mm(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,dm(12)):(this.o=0,dm(13)),Vm(this),Um(this)}}}catch(t){}},xp.hb=function(){if(this.g){var e=Vy(this.g),t=this.g.fa();this.C<t.length&&(Fm(this),Dm(this,e,t),this.i&&4!=e&&Mm(this))}},xp.cancel=function(){this.I=!0,Vm(this)},xp.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(fm(),dm(17)),Vm(this),this.o=2,Um(this)):jm(this,this.V-e)};var qm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Km(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Km){this.h=void 0!==t?t:e.h,Hm(this,e.j),this.s=e.s,this.g=e.g,Gm(this,e.m),this.l=e.l,t=e.i;var n=new ay;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qm(this,n),this.o=e.o}else e&&(n=String(e).match(qm))?(this.h=!!t,Hm(this,n[1]||"",!0),this.s=Xm(n[2]||""),this.g=Xm(n[3]||"",!0),Gm(this,n[4]),this.l=Xm(n[5]||"",!0),Qm(this,n[6]||"",!0),this.o=Xm(n[7]||"")):(this.h=!!t,this.i=new ay(null,this.h))}function Wm(e){return new Km(e)}function Hm(e,t,n){e.j=n?Xm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qm(e,t,n){t instanceof ay?(e.i=t,function(e,t){t&&!e.j&&(oy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uy(this,t),cy(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Jm(t,ry)),e.i=new ay(t,e.h))}function Ym(e,t,n){e.i.set(t,n)}function $m(e){return Ym(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Km.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jm(t,ey,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jm(t,ey,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jm(n,"/"==n.charAt(0)?ny:ty,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jm(n,iy)),e.join("")};var ey=/[#\/\?@]/g,ty=/[#\?:]/g,ny=/[#\?]/g,ry=/[#\?@]/g,iy=/#/g;function ay(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function oy(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uy(e,t){oy(e),t=ly(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sy(e,t){return oy(e),t=ly(e,t),e.g.has(t)}function cy(e,t,n){uy(e,t),0<n.length&&(e.i=null,e.g.set(ly(e,t),Up(n)),e.h+=n.length)}function ly(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xp=ay.prototype).add=function(e,t){oy(this),this.i=null,e=ly(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xp.forEach=function(e,t){oy(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xp.oa=function(){oy(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},xp.W=function(e){oy(this);var t=[];if("string"===typeof e)sy(this,e)&&(t=t.concat(this.g.get(ly(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},xp.set=function(e,t){return oy(this),this.i=null,sy(this,e=ly(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xp.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},xp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var fy=p((function e(t,n){l(this,e),this.h=t,this.g=n}));function hy(e){this.l=e||dy,Sp.PerformanceNavigationTiming?e=0<(e=Sp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Sp.g&&Sp.g.Ga&&Sp.g.Ga()&&Sp.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dy=10;function py(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vy(e){return e.h?1:e.g?e.g.size:0}function my(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yy(e,t){e.g?e.g.add(t):e.h=t}function gy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ky(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Up(e.i)}function by(){}function wy(){this.g=new by}function xy(e,t,n){var r=n||"";try{Bm(e,(function(e,n){var i=e;Np(e)&&(i=Uv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _y(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(ln){}}function Iy(e){this.l=e.ac||null,this.j=e.jb||!1}function Ey(e,t){Mv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hy.prototype.cancel=function(){if(this.i=ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},by.prototype.stringify=function(e){return Sp.JSON.stringify(e,void 0)},by.prototype.parse=function(e){return Sp.JSON.parse(e,void 0)},Mp(Iy,gm),Iy.prototype.g=function(){return new Ey(this.l,this.j)},Iy.prototype.i=function(e){return function(){return e}}({}),Mp(Ey,Mv);var Sy=0;function Ty(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Cy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ny(e)}function Ny(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xp=Ey.prototype).open=function(e,t){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ny(this)},xp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Sp).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},xp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cy(this)),this.readyState=Sy},xp.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ny(this)),this.g&&(this.readyState=3,Ny(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Sp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ty(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},xp.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cy(this):Ny(this),3==this.readyState&&Ty(this)}},xp.Va=function(e){this.g&&(this.response=this.responseText=e,Cy(this))},xp.Ua=function(e){this.g&&(this.response=e,Cy(this))},xp.ga=function(){this.g&&Cy(this)},xp.setRequestHeader=function(e,t){this.v.append(e,t)},xp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ey.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ay=Sp.JSON.parse;function Py(e){Mv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Oy,this.K=this.L=!1}Mp(Py,Mv);var Oy="",Ry=/^https?$/i,Dy=["POST","PUT"];function Ly(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,My(e),Fy(e)}function My(e){e.D||(e.D=!0,jv(e,"complete"),jv(e,"error"))}function jy(e){if(e.h&&"undefined"!=typeof Ep&&(!e.C[1]||4!=Vy(e)||2!=e.aa()))if(e.v&&4==Vy(e))Jv(e.Ha,0,e);else if(jv(e,"readystatechange"),4==Vy(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(qm)[1]||null;if(!a&&Sp.self&&Sp.self.location){var o=Sp.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ry.test(a?a.toLowerCase():"")}t=i}if(t)jv(e,"complete"),jv(e,"success");else{e.m=6;try{var u=2<Vy(e)?e.g.statusText:""}catch(sn){u=""}e.j=u+" ["+e.aa()+"]",My(e)}}finally{Fy(e)}}}function Fy(e,t){if(e.g){Uy(e);var n=e.g,r=e.C[0]?Tp:null;e.g=null,e.C=null,t||jv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Uy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Sp.clearTimeout(e.A),e.A=null)}function Vy(e){return e.g?e.g.readyState:0}function zy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Oy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(kn){return null}}function By(e){var t="";return yv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=By(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ym(e,t,n))}function Ky(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wy(e){this.Ca=0,this.i=[],this.j=new am,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ky("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ky("baseRetryDelayMs",5e3,e),this.bb=Ky("retryDelaySeedMs",1e4,e),this.$a=Ky("forwardChannelMaxRetries",2,e),this.ta=Ky("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new hy(e&&e.concurrentRequestLimit),this.Fa=new wy,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Hy(e){if(Qy(e),3==e.G){var t=e.U++,n=Wm(e.F);Ym(n,"SID",e.I),Ym(n,"RID",t),Ym(n,"TYPE","terminate"),Xy(e,n),(t=new Sm(e,e.j,t,void 0)).K=2,t.v=$m(Wm(n)),n=!1,Sp.navigator&&Sp.navigator.sendBeacon&&(n=Sp.navigator.sendBeacon(t.v.toString(),"")),!n&&Sp.Image&&((new Image).src=t.v,n=!0),n||(t.g=cg(t.l,null),t.g.da(t.v)),t.F=Date.now(),Mm(t)}ug(e)}function Gy(e){e.g&&(tg(e),e.g.cancel(),e.g=null)}function Qy(e){Gy(e),e.u&&(Sp.clearTimeout(e.u),e.u=null),rg(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Sp.clearTimeout(e.m),e.m=null)}function Yy(e){py(e.h)||e.m||(e.m=!0,Hv(e.Ja,e),e.C=0)}function $y(e,t){var n;n=t?t.m:e.U++;var r=Wm(e.F);Ym(r,"SID",e.I),Ym(r,"RID",n),Ym(r,"AID",e.T),Xy(e,r),e.o&&e.s&&qy(r,e.o,e.s),n=new Sm(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Jy(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),yy(e.h,n),Pm(n,r,t)}function Xy(e,t){e.ia&&yv(e.ia,(function(e,n){Ym(t,n,e)})),e.l&&Bm({},(function(e,n){Ym(t,n,e)}))}function Jy(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Dp(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{xy(l,o,"req"+c+"_")}catch(Fn){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Zy(e){e.g||e.u||(e.Z=1,Hv(e.Ia,e),e.A=0)}function eg(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=vm(Dp(e.Ia,e),ag(e,e.A)),e.A++,!0)}function tg(e){null!=e.B&&(Sp.clearTimeout(e.B),e.B=null)}function ng(e){e.g=new Sm(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Wm(e.sa);Ym(t,"RID","rpc"),Ym(t,"SID",e.I),Ym(t,"CI",e.L?"0":"1"),Ym(t,"AID",e.T),Ym(t,"TYPE","xmlhttp"),Xy(e,t),e.o&&e.s&&qy(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=$m(Wm(t)),n.s=null,n.P=!0,Om(n,e)}function rg(e){null!=e.v&&(Sp.clearTimeout(e.v),e.v=null)}function ig(e,t){var n=null;if(e.g==t){rg(e),tg(e),e.g=null;var r=2}else{if(!my(e.h,t))return;n=t.D,gy(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;jv(r=cm(),new pm(r,n)),Yy(e)}else Zy(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(vy(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=vm(Dp(e.Ja,e,t),ag(e,e.C)),e.C++,!0))}(e,t)||2==r&&eg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:og(e,5);break;case 4:og(e,10);break;case 3:og(e,6);break;default:og(e,2)}}function ag(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function og(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Dp(e.kb,e);n||(n=new Km("//www.google.com/images/cleardot.gif"),Sp.location&&"http"==Sp.location.protocol||Hm(n,"https"),$m(n)),function(e,t){var n=new am;if(Sp.Image){var r=new Image;r.onload=Lp(_y,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Lp(_y,n,r,"TestLoadImage: error",!1,t),r.onabort=Lp(_y,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Lp(_y,n,r,"TestLoadImage: timeout",!1,t),Sp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dm(2);e.G=0,e.l&&e.l.va(t),ug(e),Qy(e)}function ug(e){if(e.G=0,e.la=[],e.l){var t=ky(e.h);0==t.length&&0==e.i.length||(Vp(e.la,t),Vp(e.la,e.i),e.h.i.length=0,Up(e.i),e.i.length=0),e.l.ua()}}function sg(e,t,n){var r=n instanceof Km?Wm(n):new Km(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Gm(r,r.m);else{var i=Sp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Km(null,void 0);r&&Hm(a,r),t&&(a.g=t),i&&Gm(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ym(r,n,t),Ym(r,"VER",e.ma),Xy(e,r),r}function cg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Py(new Iy({jb:!0})):new Py(e.ra)).Ka(e.H),t}function lg(){}function fg(){if(Xp&&!(10<=Number(lv)))throw Error("Environmental error: no available transport.")}function hg(e,t){Mv.call(this),this.g=new Wy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!qp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vg(this)}function dg(e){_m.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pg(){Im.call(this),this.status=1}function vg(e){this.g=e}(xp=Py.prototype).Ka=function(e){this.L=e},xp.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wm.g(),this.C=this.u?km(this.u):km(wm),this.g.onreadystatechange=Dp(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Ly(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Sp.FormData&&e instanceof Sp.FormData,!(0<=Fp(Dy,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=T(n);try{for(c.s();!(s=c.n()).done;){var l=_(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uy(this),0<this.B&&((this.K=function(e){return Xp&&sv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dp(this.qa,this)):this.A=Jv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Ly(this,u)}},xp.qa=function(){"undefined"!=typeof Ep&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jv(this,"timeout"),this.abort(8))},xp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jv(this,"complete"),jv(this,"abort"),Fy(this))},xp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fy(this,!0)),Py.X.M.call(this)},xp.Ha=function(){this.s||(this.F||this.v||this.l?jy(this):this.fb())},xp.fb=function(){jy(this)},xp.aa=function(){try{return 2<Vy(this)?this.g.status:-1}catch(cn){return-1}},xp.fa=function(){try{return this.g?this.g.responseText:""}catch(cn){return""}},xp.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ay(t)}},xp.Ea=function(){return this.m},xp.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xp=Wy.prototype).ma=8,xp.G=1,xp.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Sm(this,this.j,e,void 0),n=this.s;if(this.S&&(n?bv(n=gv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jy(this,t,r),Ym(i=Wm(this.F),"RID",e),Ym(i,"CVER",22),this.D&&Ym(i,"X-HTTP-Session-Id",this.D),Xy(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(By(n)))+"&"+r:this.o&&qy(i,this.o,n)),yy(this.h,t),this.Ya&&Ym(i,"TYPE","init"),this.O?(Ym(i,"$req",r),Ym(i,"SID","null"),t.Z=!0,Pm(t,i,null)):Pm(t,i,r),this.G=2}}else 3==this.G&&(e?$y(this,e):0==this.i.length||py(this.h)||$y(this))},xp.Ia=function(){if(this.u=null,ng(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=vm(Dp(this.eb,this),e)}},xp.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,dm(10),Gy(this),ng(this))},xp.cb=function(){null!=this.v&&(this.v=null,Gy(this),eg(this),dm(19))},xp.kb=function(e){e?(this.j.info("Successfully pinged google.com"),dm(2)):(this.j.info("Failed to ping google.com"),dm(1))},(xp=lg.prototype).xa=function(){},xp.wa=function(){},xp.va=function(){},xp.ua=function(){},xp.Ra=function(){},fg.prototype.g=function(e,t){return new hg(e,t)},Mp(hg,Mv),hg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;dm(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=sg(e,null,e.V),Yy(e)},hg.prototype.close=function(){Hy(this.g)},hg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Uv(e),e=n);t.i.push(new fy(t.ab++,e)),3==t.G&&Yy(t)},hg.prototype.M=function(){this.g.l=null,delete this.j,Hy(this.g),delete this.g,hg.X.M.call(this)},Mp(dg,_m),Mp(pg,Im),Mp(vg,lg),vg.prototype.xa=function(){jv(this.g,"a")},vg.prototype.wa=function(e){jv(this.g,new dg(e))},vg.prototype.va=function(e){jv(this.g,new pg)},vg.prototype.ua=function(){jv(this.g,"b")},fg.prototype.createWebChannel=fg.prototype.g,hg.prototype.send=hg.prototype.u,hg.prototype.open=hg.prototype.m,hg.prototype.close=hg.prototype.close,mm.NO_ERROR=0,mm.TIMEOUT=8,mm.HTTP_ERROR=6,ym.COMPLETE="complete",bm.EventType=xm,xm.OPEN="a",xm.CLOSE="b",xm.ERROR="c",xm.MESSAGE="d",Mv.prototype.listen=Mv.prototype.N,Py.prototype.listenOnce=Py.prototype.O,Py.prototype.getLastError=Py.prototype.Oa,Py.prototype.getLastErrorCode=Py.prototype.Ea,Py.prototype.getStatus=Py.prototype.aa,Py.prototype.getResponseJson=Py.prototype.Sa,Py.prototype.getResponseText=Py.prototype.fa,Py.prototype.send=Py.prototype.da,Py.prototype.setWithCredentials=Py.prototype.Ka;var mg=Ip.createWebChannelTransport=function(){return new fg},yg=Ip.getStatEventTarget=function(){return cm()},gg=Ip.ErrorCode=mm,kg=Ip.EventType=ym,bg=Ip.Event=um,wg=Ip.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xg=Ip.FetchXmlHttpFactory=Iy,_g=Ip.WebChannel=bm,Ig=Ip.XhrIo=Py,Eg="@firebase/firestore",Sg=function(){function e(t){l(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Sg.UNAUTHENTICATED=new Sg(null),Sg.GOOGLE_CREDENTIALS=new Sg("google-credentials-uid"),Sg.FIRST_PARTY=new Sg("first-party-uid"),Sg.MOCK_USER=new Sg("mock-user");var Tg="9.20.0",Cg=new Aa("@firebase/firestore");function Ng(){return Cg.logLevel}function Ag(e){if(Cg.logLevel<=_a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rg);Cg.debug.apply(Cg,["Firestore (".concat(Tg,"): ").concat(e)].concat(c(i)))}}function Pg(e){if(Cg.logLevel<=_a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rg);Cg.error.apply(Cg,["Firestore (".concat(Tg,"): ").concat(e)].concat(c(i)))}}function Og(e){if(Cg.logLevel<=_a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rg);Cg.warn.apply(Cg,["Firestore (".concat(Tg,"): ").concat(e)].concat(c(i)))}}function Rg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Tg,") INTERNAL ASSERTION FAILED: ")+e;throw Pg(t),new Error(t)}function Lg(e,t){e||Dg()}function Mg(e,t){return e}var jg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fg=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(na),Ug=p((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Vg=p((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zg=function(){function e(){l(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Bg=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qg=function(){function e(t){l(this,e),this.t=t,this.currentUser=Sg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ug;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ug,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ag("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ag("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ug)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ag("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Lg("string"==typeof n.accessToken),new Vg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Lg(null===e||"string"==typeof e),new Sg(e)}}]),e}(),Kg=function(){function e(t,n,r){l(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Sg.FIRST_PARTY,this.g=new Map}return p(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Wg=function(){function e(t,n,r){l(this,e),this.h=t,this.l=n,this.m=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new Kg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hg=p((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Gg=function(){function e(t){l(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ag("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Ag("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ag("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Ag("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Lg("string"==typeof t.token),e.T=t.token,new Hg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Qg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Yg=function(){function e(){l(this,e)}return p(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Qg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function $g(e,t){return e<t?-1:e>t?1:0}function Xg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Jg(e){return e+"\0"}var Zg=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fg(jg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fg(jg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fg(jg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fg(jg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$g(this.nanoseconds,e.nanoseconds):$g(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ek=function(){function e(t){l(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zg(0,0))}},{key:"max",value:function(){return new e(new Zg(253402300799,999999999))}}]),e}(),tk=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&Dg(),void 0===r?r=t.length-n:r>t.length-n&&Dg(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),nk=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Fg(jg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,c(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tk),rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ik=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return rk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fg(jg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Fg(jg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Fg(jg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Fg(jg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tk),ak=function(){function e(t){l(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===nk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(nk.fromString(t))}},{key:"fromName",value:function(t){return new e(nk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(nk.emptyPath())}},{key:"comparator",value:function(e,t){return nk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new nk(t.slice()))}}]),e}(),ok=p((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function uk(e){return e.fields.find((function(e){return 2===e.kind}))}function sk(e){return e.fields.filter((function(e){return 2!==e.kind}))}ok.UNKNOWN_ID=-1;var ck=p((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var lk=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,dk.min())}}]),e}();function fk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ek.fromTimestamp(1e9===r?new Zg(n+1,0):new Zg(n,r));return new dk(i,ak.empty(),t)}function hk(e){return new dk(e.readTime,e.key,-1)}var dk=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(ek.min(),ak.empty(),-1)}},{key:"max",value:function(){return new e(ek.max(),ak.empty(),-1)}}]),e}();function pk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ak.comparator(e.documentKey,t.documentKey))?n:$g(e.largestBatchId,t.largestBatchId)}var vk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mk=function(){function e(){l(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function yk(e){return gk.apply(this,arguments)}function gk(){return gk=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jg.FAILED_PRECONDITION&&t.message===vk){e.next=2;break}throw t;case 2:Ag("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}var kk=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Dg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),bk=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new Ug,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new _k(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=Ck(e.target.error);r.R.reject(new _k(t,n))}}return p(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(Ag("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ek(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _k(n,t)}}}]),e}(),wk=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S($i())&&Pg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"$",value:function(){var e=ga(ma().mark((function e(t){var n=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ag("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _k(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fg(jg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Fg(jg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new _k(t,n))},i.onupgradeneeded=function(e){Ag("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,i.transaction,e.oldVersion,n.version).next((function(){Ag("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ga(ma().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=ma().mark((function e(){var n,u,s,l;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=bk.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),kk.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Ag("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ag("SimpleDb","Removing database:",e),Sk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!ta())return!1;if(e.C())return!0;var t=$i(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),xk=function(){function e(t){l(this,e),this.L=t,this.q=!1,this.U=null}return p(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Sk(this.L.delete())}}]),e}(),_k=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,jg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(Fg);function Ik(e){return"IndexedDbTransactionError"===e.name}var Ek=function(){function e(t){l(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ag("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ag("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Sk(n)}},{key:"add",value:function(e){return Ag("SimpleDb","ADD",this.store.name,e,e),Sk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Sk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ag("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ag("SimpleDb","DELETE",this.store.name,e),Sk(this.store.delete(e))}},{key:"count",value:function(){return Ag("SimpleDb","COUNT",this.store.name),Sk(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new kk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new kk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Ag("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new kk((function(n,r){t.onerror=function(e){var t=Ck(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new kk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new xk(i),o=t(i.primaryKey,i.value,a);if(o instanceof kk){var u=o.catch((function(e){return a.done(),kk.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return kk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Sk(e){return new kk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ck(e.target.error);n(t)}}))}var Tk=!1;function Ck(e){var t=wk.S($i());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Tk||(Tk=!0,setTimeout((function(){throw r}),0)),r}}return e}var Nk=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return p(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Ag("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ag,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ik(e.t4)){e.next=17;break}Ag("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,yk(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ak=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return p(e,[{key:"nt",value:function(){var e=ga(ma().mark((function e(){var t,n=this,r=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return kk.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ag("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Ag("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=hk(t);pk(r,n)>0&&(n=r)})),new dk(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Pk=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ok(e){return null==e}function Rk(e){return 0===e&&1/e==-1/0}function Dk(e){return"number"==typeof e&&Number.isInteger(e)&&!Rk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Lk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=jk(t)),t=Mk(e.get(n),t);return jk(t)}function Mk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function jk(e){return e+"\x01\x01"}function Fk(e){var t=e.length;if(Lg(t>=2),2===t)return Lg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),nk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Dg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Dg()}a=o+2}return new nk(r)}Pk.ct=-1;var Uk=["userId","batchId"];function Vk(e,t){return[e,Lk(t)]}function zk(e,t,n){return[e,Lk(t),n]}var Bk={},qk=["prefixPath","collectionGroup","readTime","documentId"],Kk=["prefixPath","collectionGroup","documentId"],Wk=["collectionGroup","readTime","prefixPath","documentId"],Hk=["canonicalId","targetId"],Gk=["targetId","path"],Qk=["path","targetId"],Yk=["collectionId","parent"],$k=["indexId","uid"],Xk=["uid","sequenceNumber"],Jk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zk=["indexId","uid","orderedDocumentKey"],eb=["userId","collectionPath","documentId"],tb=["userId","collectionPath","largestBatchId"],nb=["userId","collectionGroup","largestBatchId"],rb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ib=[].concat(c(rb),["documentOverlays"]),ab=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ob=ab,ub=[].concat(ob,["indexConfiguration","indexState","indexEntries"]),sb=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return p(n)}(mk);function cb(e,t){var n=Mg(e);return wk.O(n.at,t)}function lb(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var db=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||vb.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new pb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new pb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new pb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new pb(this.root,e,this.comparator,!0)}}]),e}(),pb=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),vb=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dg();if(this.right.isRed())throw Dg();var e=this.left.check();if(e!==this.right.check())throw Dg();return e+(this.isRed()?0:1)}}]),e}();vb.EMPTY=null,vb.RED=!0,vb.BLACK=!1,vb.EMPTY=new(function(){function e(){l(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw Dg()}},{key:"value",get:function(){throw Dg()}},{key:"color",get:function(){throw Dg()}},{key:"left",get:function(){throw Dg()}},{key:"right",get:function(){throw Dg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var mb=function(){function e(t){l(this,e),this.comparator=t,this.data=new db(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new yb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new yb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),yb=function(){function e(t){l(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function gb(e){return e.hasNext()?e.getNext():void 0}var kb=function(){function e(t){l(this,e),this.fields=t,t.sort(ik.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new mb(ik.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=T(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),bb=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return p(n)}(E(Error));var wb=function(e){function t(e){l(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $g(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bb("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();wb.EMPTY_BYTE_STRING=new wb("");var xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _b(e){if(Lg(!!e),"string"==typeof e){var t=0,n=xb.exec(e);if(Lg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ib(e.seconds),nanos:Ib(e.nanos)}}function Ib(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Eb(e){return"string"==typeof e?wb.fromBase64String(e):wb.fromUint8Array(e)}function Sb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tb(e){var t=e.mapValue.fields.__previous_value__;return Sb(t)?Tb(t):t}function Cb(e){var t=_b(e.mapValue.fields.__local_write_time__.timestampValue);return new Zg(t.seconds,t.nanos)}var Nb=p((function e(t,n,r,i,a,o,u,s){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ab=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Pb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ob={nullValue:"NULL_VALUE"};function Rb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sb(e)?4:Gb(e)?9007199254740991:10:Dg()}function Db(e,t){if(e===t)return!0;var n=Rb(e);if(n!==Rb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cb(e).isEqual(Cb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=_b(e.timestampValue),r=_b(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Eb(e.bytesValue).isEqual(Eb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ib(e.geoPointValue.latitude)===Ib(t.geoPointValue.latitude)&&Ib(e.geoPointValue.longitude)===Ib(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ib(e.integerValue)===Ib(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ib(e.doubleValue),r=Ib(t.doubleValue);return n===r?Rk(n)===Rk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xg(e.arrayValue.values||[],t.arrayValue.values||[],Db);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lb(n)!==lb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Db(n[i],r[i])))return!1;return!0}(e,t);default:return Dg()}}function Lb(e,t){return void 0!==(e.values||[]).find((function(e){return Db(e,t)}))}function Mb(e,t){if(e===t)return 0;var n=Rb(e),r=Rb(t);if(n!==r)return $g(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $g(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ib(e.integerValue||e.doubleValue),r=Ib(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jb(e.timestampValue,t.timestampValue);case 4:return jb(Cb(e),Cb(t));case 5:return $g(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Eb(e),r=Eb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$g(n[i],r[i]);if(0!==a)return a}return $g(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$g(Ib(e.latitude),Ib(t.latitude));return 0!==n?n:$g(Ib(e.longitude),Ib(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Mb(n[i],r[i]);if(a)return a}return $g(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Pb.mapValue&&t===Pb.mapValue)return 0;if(e===Pb.mapValue)return 1;if(t===Pb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=$g(r[o],a[o]);if(0!==u)return u;var s=Mb(n[r[o]],i[a[o]]);if(0!==s)return s}return $g(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Dg()}}function jb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $g(e,t);var n=_b(e),r=_b(t),i=$g(n.seconds,r.seconds);return 0!==i?i:$g(n.nanos,r.nanos)}function Fb(e){return Ub(e)}function Ub(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=_b(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Eb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ak.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ub(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ub(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Dg();var t,n}function Vb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zb(e){return!!e&&"integerValue"in e}function Bb(e){return!!e&&"arrayValue"in e}function qb(e){return!!e&&"nullValue"in e}function Kb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wb(e){return!!e&&"mapValue"in e}function Hb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return fb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Hb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Hb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Gb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qb(e){return"nullValue"in e?Ob:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Vb(Ab.empty(),ak.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Dg()}function Yb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Vb(Ab.empty(),ak.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Pb:Dg()}function $b(e,t){var n=Mb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Xb(e,t){var n=Mb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Jb=function(){function e(t){l(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hb(t)}},{key:"setAll",value:function(e){var t=this,n=ik.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Hb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Db(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){fb(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Hb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Zb(e){var t=[];return fb(e.fields,(function(e,n){var r=new ik([e]);if(Wb(n)){var i=Zb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new kb(t)}var ew=function(){function e(t,n,r,i,a,o,u){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(ek.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Jb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Jb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ek.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ek.min(),ek.min(),ek.min(),Jb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,ek.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ek.min(),ek.min(),Jb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ek.min(),ek.min(),Jb.empty(),2)}}]),e}(),tw=p((function e(t,n){l(this,e),this.position=t,this.inclusive=n}));function nw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ak.comparator(ak.fromName(o.referenceValue),n.key):Mb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Db(e.position[n],t.position[n]))return!1;return!0}var iw=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function aw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ow=p((function e(){l(this,e)})),uw=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Mb(t,this.value)):null!==t&&Rb(this.value)===Rb(t)&&this.matchesComparison(Mb(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dg()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yw(e,t,r):"array-contains"===t?new ww(e,r):"in"===t?new xw(e,r):"not-in"===t?new _w(e,r):"array-contains-any"===t?new Iw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new gw(e,n):new kw(e,n)}}]),n}(ow),sw=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return p(n,[{key:"matches",value:function(e){return cw(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ow);function cw(e){return"and"===e.op}function lw(e){return"or"===e.op}function fw(e){return hw(e)&&cw(e)}function hw(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof sw)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function dw(e){if(e instanceof uw)return e.field.canonicalString()+e.op.toString()+Fb(e.value);if(fw(e))return e.filters.map((function(e){return dw(e)})).join(",");var t=e.filters.map((function(e){return dw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function pw(e,t){return e instanceof uw?function(e,t){return t instanceof uw&&e.op===t.op&&e.field.isEqual(t.field)&&Db(e.value,t.value)}(e,t):e instanceof sw?function(e,t){return t instanceof sw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&pw(n,t.filters[r])}),!0)}(e,t):void Dg()}function vw(e,t){var n=e.filters.concat(t);return sw.create(n,e.op)}function mw(e){return e instanceof uw?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fb(e.value))}(e):e instanceof sw?function(e){return e.op.toString()+" {"+e.getFilters().map(mw).join(" ,")+"}"}(e):"Filter"}var yw=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=ak.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=ak.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(uw),gw=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=bw("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uw),kw=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=bw("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uw);function bw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ak.fromName(e.referenceValue)}))}var ww=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Bb(t)&&Lb(t.arrayValue,this.value)}}]),n}(uw),xw=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Lb(this.value.arrayValue,t)}}]),n}(uw),_w=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(Lb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Lb(this.value.arrayValue,t)}}]),n}(uw),Iw=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Bb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Lb(t.value.arrayValue,e)}))}}]),n}(uw),Ew=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Sw(e){return new Ew(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Tw(e){var t=Mg(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return dw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ok(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fb(e)})).join(",")),t.ft=n}return t.ft}function Cw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!aw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!pw(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rw(e.startAt,t.startAt)&&rw(e.endAt,t.endAt)}function Nw(e){return ak.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Aw(e,t){return e.filters.filter((function(e){return e instanceof uw&&e.field.isEqual(t)}))}function Pw(e,t,n){var r,i=Ob,a=!0,o=T(Aw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ob,c=!0;switch(u.op){case"<":case"<=":s=Qb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ob}$b({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$b({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ow(e,t,n){var r,i=Pb,a=!0,o=T(Aw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Pb,c=!0;switch(u.op){case">=":case">":s=Yb(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Pb}Xb({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Xb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Rw=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt}));function Dw(e,t,n,r,i,a,o,u){return new Rw(e,t,n,r,i,a,o,u)}function Lw(e){return new Rw(e)}function Mw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function jw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Fw(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Uw(e){return null!==e.collectionGroup}function Vw(e){var t=Mg(e);if(null===t.dt){t.dt=[];var n=Fw(t),r=jw(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new iw(n)),t.dt.push(new iw(ik.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new iw(ik.keyField(),s))}}}return t.dt}function zw(e){var t=Mg(e);if(!t.wt)if("F"===t.limitType)t.wt=Sw(t.path,t.collectionGroup,Vw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=T(Vw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new iw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new tw(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tw(t.startAt.position,t.startAt.inclusive):null;t.wt=Sw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Bw(e,t){t.getFirstInequalityField(),Fw(e);var n=e.filters.concat([t]);return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qw(e,t,n){return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kw(e,t){return Cw(zw(e),zw(t))&&e.limitType===t.limitType}function Ww(e){return"".concat(Tw(zw(e)),"|lt:").concat(e.limitType)}function Hw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return mw(e)})).join(", "),"]")),Ok(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fb(e)})).join(",")),"Target(".concat(t,")")}(zw(e)),"; limitType=").concat(e.limitType,")")}function Gw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ak.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(Vw(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=nw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vw(e),t))&&!(e.endAt&&!function(e,t,n){var r=nw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vw(e),t))}(e,t)}function Qw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yw(e){return function(t,n){var r,i=!1,a=T(Vw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=$w(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function $w(e,t,n){var r=e.field.isKeyField()?ak.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mb(r,i):Dg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dg()}}var Xw=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=_(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){fb(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=_(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return hb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Jw=new db(ak.comparator);function Zw(){return Jw}var ex=new db(ak.comparator);function tx(){for(var e=ex,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function nx(e){var t=ex;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function rx(){return ax()}function ix(){return ax()}function ax(){return new Xw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ox=new db(ak.comparator),ux=new mb(ak.comparator);function sx(){for(var e=ux,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cx=new mb($g);function lx(){return cx}function fx(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rk(t)?"-0":t}}function hx(e){return{integerValue:""+e}}function dx(e,t){return Dk(t)?hx(t):fx(e,t)}var px=p((function e(){l(this,e),this._=void 0}));function vx(e,t,n){return e instanceof gx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kx?bx(e,t):e instanceof wx?xx(e,t):function(e,t){var n=yx(e,t),r=Ix(n)+Ix(e._t);return zb(n)&&zb(e._t)?hx(r):fx(e.serializer,r)}(e,t)}function mx(e,t,n){return e instanceof kx?bx(e,t):e instanceof wx?xx(e,t):n}function yx(e,t){return e instanceof _x?zb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var gx=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(px),kx=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return p(n)}(px);function bx(e,t){var n,r=Ex(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Db(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wx=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return p(n)}(px);function xx(e,t){var n,r=Ex(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Db(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _x=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return p(n)}(px);function Ix(e){return Ib(e.integerValue||e.doubleValue)}function Ex(e){return Bb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Sx=p((function e(t,n){l(this,e),this.field=t,this.transform=n}));var Tx=p((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),Cx=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Nx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ax=p((function e(){l(this,e)}));function Px(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qx(e.key,Cx.none()):new Mx(e.key,e.data,Cx.none());var n,r=e.data,i=Jb.empty(),a=new mb(ik.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new jx(e.key,i,new kb(a.toArray()),Cx.none())}function Ox(e,t,n){e instanceof Mx?function(e,t,n){var r=e.value.clone(),i=Ux(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jx?function(e,t,n){if(Nx(e.precondition,t)){var r=Ux(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rx(e,t,n,r){return e instanceof Mx?function(e,t,n,r){if(!Nx(e.precondition,t))return n;var i=e.value.clone(),a=Vx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jx?function(e,t,n,r){if(!Nx(e.precondition,t))return n;var i=Vx(e.fieldTransforms,r,t),a=t.data;return a.setAll(Fx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Nx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dx(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=yx(a.transform,o||null);null!=u&&(null===r&&(r=Jb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Lx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kx&&t instanceof kx||e instanceof wx&&t instanceof wx?Xg(e.elements,t.elements,Db):e instanceof _x&&t instanceof _x?Db(e._t,t._t):e instanceof gx&&t instanceof gx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Mx=function(e){m(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ax),jx=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ax);function Fx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ux(e,t,n){var r=new Map;Lg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,mx(o,u,n[i]))}return r}function Vx(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,vx(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var zx,Bx,qx=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ax),Kx=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ax),Wx=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ox(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Rx(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Rx(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=ix();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Px(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(ek.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sx())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xg(this.mutations,e.mutations,(function(e,t){return Lx(e,t)}))&&Xg(this.baseMutations,e.baseMutations,(function(e,t){return Lx(e,t)}))}}]),e}(),Hx=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){Lg(t.mutations.length===r.length);for(var i=ox,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Gx=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Qx=p((function e(t){l(this,e),this.count=t}));function Yx(e){switch(e){default:return Dg();case jg.CANCELLED:case jg.UNKNOWN:case jg.DEADLINE_EXCEEDED:case jg.RESOURCE_EXHAUSTED:case jg.INTERNAL:case jg.UNAVAILABLE:case jg.UNAUTHENTICATED:return!1;case jg.INVALID_ARGUMENT:case jg.NOT_FOUND:case jg.ALREADY_EXISTS:case jg.PERMISSION_DENIED:case jg.FAILED_PRECONDITION:case jg.ABORTED:case jg.OUT_OF_RANGE:case jg.UNIMPLEMENTED:case jg.DATA_LOSS:return!0}}function $x(e){if(void 0===e)return Pg("GRPC error has no .code"),jg.UNKNOWN;switch(e){case zx.OK:return jg.OK;case zx.CANCELLED:return jg.CANCELLED;case zx.UNKNOWN:return jg.UNKNOWN;case zx.DEADLINE_EXCEEDED:return jg.DEADLINE_EXCEEDED;case zx.RESOURCE_EXHAUSTED:return jg.RESOURCE_EXHAUSTED;case zx.INTERNAL:return jg.INTERNAL;case zx.UNAVAILABLE:return jg.UNAVAILABLE;case zx.UNAUTHENTICATED:return jg.UNAUTHENTICATED;case zx.INVALID_ARGUMENT:return jg.INVALID_ARGUMENT;case zx.NOT_FOUND:return jg.NOT_FOUND;case zx.ALREADY_EXISTS:return jg.ALREADY_EXISTS;case zx.PERMISSION_DENIED:return jg.PERMISSION_DENIED;case zx.FAILED_PRECONDITION:return jg.FAILED_PRECONDITION;case zx.ABORTED:return jg.ABORTED;case zx.OUT_OF_RANGE:return jg.OUT_OF_RANGE;case zx.UNIMPLEMENTED:return jg.UNIMPLEMENTED;case zx.DATA_LOSS:return jg.DATA_LOSS;default:return Dg()}}(Bx=zx||(zx={}))[Bx.OK=0]="OK",Bx[Bx.CANCELLED=1]="CANCELLED",Bx[Bx.UNKNOWN=2]="UNKNOWN",Bx[Bx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bx[Bx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bx[Bx.NOT_FOUND=5]="NOT_FOUND",Bx[Bx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bx[Bx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bx[Bx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bx[Bx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bx[Bx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bx[Bx.ABORTED=10]="ABORTED",Bx[Bx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bx[Bx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bx[Bx.INTERNAL=13]="INTERNAL",Bx[Bx.UNAVAILABLE=14]="UNAVAILABLE",Bx[Bx.DATA_LOSS=15]="DATA_LOSS";var Xx=function(){function e(){l(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return p(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Jx}},{key:"getOrCreateInstance",value:function(){return null===Jx&&(Jx=new e),Jx}}]),e}(),Jx=null,Zx=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,e_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(ek.min(),i,lx(),Zw(),sx())}}]),e}(),e_=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,sx(),sx(),sx())}}]),e}(),t_=p((function e(t,n,r,i){l(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),n_=p((function e(t,n){l(this,e),this.targetId=t,this.Et=n})),r_=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),i_=function(){function e(){l(this,e),this.At=0,this.Rt=u_(),this.vt=wb.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return p(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=sx(),t=sx(),n=sx();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dg()}})),new e_(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=u_()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),a_=function(){function e(t){l(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Zw(),this.qt=o_(),this.Ut=new mb($g)}return p(e,[{key:"Kt",value:function(e){var t,n=T(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Dg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(Nw(a))if(0===r){var o=new ak(a.path);this.Qt(n,o,ew.newNoDocument(o,ek.min()))}else Lg(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Xx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Nw(a.target)){var o=new ak(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,ew.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=sx();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zx(e,n,this.Ut,this.Lt,r);return this.Lt=Zw(),this.qt=o_(),this.Ut=new mb($g),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new i_,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new mb($g),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||Ag("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new i_),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function o_(){return new db(ak.comparator)}function u_(){return new db(ak.comparator)}var s_={asc:"ASCENDING",desc:"DESCENDING"},c_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l_={and:"AND",or:"OR"},f_=p((function e(t,n){l(this,e),this.databaseId=t,this.useProto3Json=n}));function h_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function d_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function p_(e,t){return h_(e,t.toTimestamp())}function v_(e){return Lg(!!e),ek.fromTimestamp(function(e){var t=_b(e);return new Zg(t.seconds,t.nanos)}(e))}function m_(e,t){return function(e){return new nk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function y_(e){var t=nk.fromString(e);return Lg(V_(t)),t}function g_(e,t){return m_(e.databaseId,t.path)}function k_(e,t){var n=y_(t);if(n.get(1)!==e.databaseId.projectId)throw new Fg(jg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fg(jg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ak(__(n))}function b_(e,t){return m_(e.databaseId,t)}function w_(e){var t=y_(e);return 4===t.length?nk.emptyPath():__(t)}function x_(e){return new nk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function __(e){return Lg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function I_(e,t,n){return{name:g_(e,t),fields:n.value.mapValue.fields}}function E_(e,t,n){var r=k_(e,t.name),i=v_(t.updateTime),a=t.createTime?v_(t.createTime):ek.min(),o=new Jb({mapValue:{fields:t.fields}}),u=ew.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function S_(e,t){return"found"in t?function(e,t){Lg(!!t.found),t.found.name,t.found.updateTime;var n=k_(e,t.found.name),r=v_(t.found.updateTime),i=t.found.createTime?v_(t.found.createTime):ek.min(),a=new Jb({mapValue:{fields:t.found.fields}});return ew.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Lg(!!t.missing),Lg(!!t.readTime);var n=k_(e,t.missing),r=v_(t.readTime);return ew.newNoDocument(n,r)}(e,t):Dg()}function T_(e,t){var n;if(t instanceof Mx)n={update:I_(e,t.key,t.value)};else if(t instanceof qx)n={delete:g_(e,t.key)};else if(t instanceof jx)n={update:I_(e,t.key,t.data),updateMask:U_(t.fieldMask)};else{if(!(t instanceof Kx))return Dg();n={verify:g_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _x)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Dg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:p_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dg()}(e,t.precondition)),n}function C_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Cx.updateTime(v_(e.updateTime)):void 0!==e.exists?Cx.exists(e.exists):Cx.none()}(t.currentDocument):Cx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Lg("REQUEST_TIME"===t.setToServerValue),n=new gx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new wx(i)}else"increment"in t?n=new _x(e,t.increment):Dg();var a=ik.fromServerFormat(t.fieldPath);return new Sx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=k_(e,t.update.name),a=new Jb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new kb(t.map((function(e){return ik.fromServerFormat(e)})))}(t.updateMask);return new jx(i,a,o,n,r)}return new Mx(i,a,n,r)}if(t.delete){var u=k_(e,t.delete);return new qx(u,n)}if(t.verify){var s=k_(e,t.verify);return new Kx(s,n)}return Dg()}function N_(e,t){return{documents:[b_(e,t.path)]}}function A_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=b_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=b_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return F_(sw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:M_(e.field),direction:R_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||Ok(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function P_(e){var t=w_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Lg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=O_(e);return t instanceof sw&&fw(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new iw(j_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ok(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new tw(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new tw(n,t)}(n.endAt)),Dw(t,i,u,o,s,"F",c,l)}function O_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=j_(e.unaryFilter.field);return uw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=j_(e.unaryFilter.field);return uw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=j_(e.unaryFilter.field);return uw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=j_(e.unaryFilter.field);return uw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dg()}}(e):void 0!==e.fieldFilter?function(e){return uw.create(j_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sw.create(e.compositeFilter.filters.map((function(e){return O_(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Dg()}}(e.compositeFilter.op))}(e):Dg()}function R_(e){return s_[e]}function D_(e){return c_[e]}function L_(e){return l_[e]}function M_(e){return{fieldPath:e.canonicalString()}}function j_(e){return ik.fromServerFormat(e.fieldPath)}function F_(e){return e instanceof uw?function(e){if("=="===e.op){if(Kb(e.value))return{unaryFilter:{field:M_(e.field),op:"IS_NAN"}};if(qb(e.value))return{unaryFilter:{field:M_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kb(e.value))return{unaryFilter:{field:M_(e.field),op:"IS_NOT_NAN"}};if(qb(e.value))return{unaryFilter:{field:M_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:M_(e.field),op:D_(e.op),value:e.value}}}(e):e instanceof sw?function(e){var t=e.getFilters().map((function(e){return F_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:L_(e.op),filters:t}}}(e):Dg()}function U_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function V_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var z_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ek.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ek.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wb.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),B_=p((function e(t){l(this,e),this.se=t}));function q_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:K_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:g_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:h_(e,t.version.toTimestamp()),createTime:h_(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:W_(t.version)};else{if(!t.isUnknownDocument())return Dg();r.unknownDocument={path:n.path.toArray(),version:W_(t.version)}}return r}function K_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function W_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function H_(e){var t=new Zg(e.seconds,e.nanoseconds);return ek.fromTimestamp(t)}function G_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return C_(e.se,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return C_(e.se,t)})),u=Zg.fromMillis(t.localWriteTimeMs);return new Wx(t.batchId,u,n,o)}function Q_(e){var t,n,r=H_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?H_(e.lastLimboFreeSnapshotVersion):ek.min();return void 0!==e.query.documents?(Lg(1===(n=e.query).documents.length),t=zw(Lw(w_(n.documents[0])))):t=function(e){return zw(P_(e))}(e.query),new z_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,wb.fromBase64String(e.resumeToken))}function Y_(e,t){var n,r=W_(t.snapshotVersion),i=W_(t.lastLimboFreeSnapshotVersion);n=Nw(t.target)?N_(e.se,t.target):A_(e.se,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Tw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function $_(e){var t=P_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qw(t,t.limit,"L"):t}function X_(e,t){return new Gx(t.largestBatchId,C_(e.se,t.overlayMutation))}function J_(e,t){var n=t.path.lastSegment();return[e,Lk(t.path.popLast()),n]}function Z_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:W_(r.readTime),documentKey:Lk(r.documentKey.path),largestBatchId:r.largestBatchId}}var eI=function(){function e(){l(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return tI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:H_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return tI(e).put({bundleId:(n=t).id,createTime:W_(v_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return nI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:$_(t.bundledQuery),readTime:H_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return nI(e).put(function(e){return{name:e.name,readTime:W_(v_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function tI(e){return cb(e,"bundles")}function nI(e){return cb(e,"namedQueries")}var rI=function(){function e(t,n){l(this,e),this.serializer=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return iI(e).get(J_(this.userId,t)).next((function(e){return e?X_(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=rx();return kk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Gx(t,a);i.push(r.re(e,o))})),kk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Lk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(iI(e).J("collectionPathOverlayIndex",i))})),kk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=rx(),a=Lk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return iI(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=X_(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=rx(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return iI(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=X_(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"re",value:function(e,t){return iI(e).put(function(e,t,n){var r=_(J_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:T_(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function iI(e){return cb(e,"documentOverlays")}var aI=function(){function e(){l(this,e)}return p(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Ib(e.integerValue));else if("doubleValue"in e){var n=Ib(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Rk(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Eb(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?Gb(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Dg()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),ak.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function oI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function uI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=oI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}aI.pe=new aI;var sI=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{var a=r.codePointAt(0);this.Te(240|a>>>18),this.Te(128|63&a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=uI(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=uI(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),cI=function(){function e(t){l(this,e),this.Me=t}return p(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),lI=function(){function e(t){l(this,e),this.Me=t}return p(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),fI=function(){function e(){l(this,e),this.Me=new sI,this.Fe=new cI(this.Me),this.Be=new lI(this.Me)}return p(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),hI=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return p(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function dI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=pI(e.arrayValue,t.arrayValue))?n:0!==(n=pI(e.directionalValue,t.directionalValue))?n:ak.comparator(e.documentKey,t.documentKey)}function pI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var vI=function(){function e(t){l(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ge=i:this.Ke.push(i)}}catch(a){r.e(a)}finally{r.f()}}return p(e,[{key:"Qe",value:function(e){Lg(e.collectionGroup===this.collectionId);var t=uk(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=sk(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var a=n[r];if(!this.je(this.Ge,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=T(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function mI(e){var t,n;if(Lg(e instanceof uw||e instanceof sw),e instanceof uw){if(e instanceof xw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return uw.create(e.field,"==",t)})))||[];return sw.create(r,"or")}return e}var i=e.filters.map((function(e){return mI(e)}));return sw.create(i,e.op)}function yI(e){if(0===e.getFilters().length)return[];var t=wI(mI(e));return Lg(bI(t)),gI(t)||kI(t)?[t]:t.getFilters()}function gI(e){return e instanceof uw}function kI(e){return e instanceof sw&&fw(e)}function bI(e){return gI(e)||kI(e)||function(e){if(e instanceof sw&&lw(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!gI(r)&&!kI(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function wI(e){if(Lg(e instanceof uw||e instanceof sw),e instanceof uw)return e;if(1===e.filters.length)return wI(e.filters[0]);var t=e.filters.map((function(e){return wI(e)})),n=sw.create(t,e.op);return bI(n=II(n))?n:(Lg(n instanceof sw),Lg(cw(n)),Lg(n.filters.length>1),n.filters.reduce((function(e,t){return xI(e,t)})))}function xI(e,t){var n;return Lg(e instanceof uw||e instanceof sw),Lg(t instanceof uw||t instanceof sw),n=e instanceof uw?t instanceof uw?function(e,t){return sw.create([e,t],"and")}(e,t):_I(e,t):t instanceof uw?_I(t,e):function(e,t){if(Lg(e.filters.length>0&&t.filters.length>0),cw(e)&&cw(t))return vw(e,t.getFilters());var n=lw(e)?e:t,r=lw(e)?t:e,i=n.filters.map((function(e){return xI(e,r)}));return sw.create(i,"or")}(e,t),II(n)}function _I(e,t){if(cw(t))return vw(t,e.getFilters());var n=t.filters.map((function(t){return xI(e,t)}));return sw.create(n,"or")}function II(e){if(Lg(e instanceof uw||e instanceof sw),e instanceof uw)return e;var t=e.getFilters();if(1===t.length)return II(t[0]);if(hw(e))return e;var n=t.map((function(e){return II(e)})),r=[];return n.forEach((function(t){t instanceof uw?r.push(t):t instanceof sw&&(t.op===e.op?r.push.apply(r,c(t.filters)):r.push(t))})),1===r.length?r[0]:sw.create(r,e.op)}var EI=function(){function e(){l(this,e),this.He=new SI}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),kk.resolve()}},{key:"getCollectionParents",value:function(e,t){return kk.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return kk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return kk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return kk.resolve(null)}},{key:"getIndexType",value:function(e,t){return kk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return kk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return kk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return kk.resolve(dk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return kk.resolve(dk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return kk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return kk.resolve()}}]),e}(),SI=function(){function e(){l(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mb(nk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new mb(nk.comparator)).toArray()}}]),e}(),TI=new Uint8Array(0),CI=function(){function e(t,n){l(this,e),this.user=t,this.databaseId=n,this.Je=new SI,this.Ye=new Xw((function(e){return Tw(e)}),(function(e,t){return Cw(e,t)})),this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Je.add(t)}));var a={collectionId:r,parent:Lk(i)};return NI(e).put(a)}return kk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Jg(t),""],!1,!0);return NI(e).j(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Fk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=PI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=OI(e);return a.next((function(e){o.put(Z_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=PI(e),r=OI(e),i=AI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=AI(e),i=!0,a=new Map;return kk.forEach(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=sx(),o=[];return kk.forEach(a,(function(i,a){var u;Ag("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Tw(t)));var s=function(e,t){var n=uk(t);if(void 0===n)return null;var r,i=T(Aw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=T(sk(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=T(Aw(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(sk(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Pw(e,o.fieldPath,e.startAt):Ow(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tw(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=T(sk(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ow(e,o.fieldPath,e.endAt):Pw(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tw(r,i)}(a,i),h=n.tn(i,a,l),d=n.tn(i,a,f),p=n.en(i,a,c),v=n.nn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return kk.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=ak.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return kk.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:yI(sw.create(e.filters,"and")).map((function(t){return Sw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),f=[],h=function(){var s=t?u.sn(t[d/l]):TI,h=u.rn(e,s,n[d%l],r),p=u.on(e,s,i[d%l],a),v=o.map((function(t){return u.rn(e,s,t,!0)}));f.push.apply(f,c(u.createRange(h,p,v)))},d=0;d<s;++d)h();return f}},{key:"rn",value:function(e,t,n,r){var i=new hI(e,ak.empty(),t,n);return r?i:i.qe()}},{key:"on",value:function(e,t,n,r){var i=new hI(e,ak.empty(),t,n);return r?i.qe():i}},{key:"Xe",value:function(e,t){var n=new vI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Qe(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return kk.forEach(i,(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new mb(ik.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=T(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=T(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"un",value:function(e,t){var n,r=new fI,i=T(sk(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Le(a.kind);aI.pe.oe(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"sn",value:function(e){var t=new fI;return aI.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new fI;return aI.pe.oe(Vb(this.databaseId,t),n.Le(function(e){var t=sk(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new fI);var i,a=0,o=T(sk(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=T(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.an(t,s.fieldPath)&&Bb(c))r=this.hn(r,s,c);else{var h=f.Le(s.kind);aI.pe.oe(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,i=c(e),a=[],o=T(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,l=T(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new fI;h.seed(f.$e()),aI.pe.oe(s,h.Le(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"an",value:function(e,t){return!!e.filters.find((function(e){return e instanceof uw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=PI(e),i=OI(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return kk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new lk(t.sequenceNumber,new dk(H_(t.readTime),new ak(Fk(t.documentKey)),t.largestBatchId)):lk.empty(),r=e.fields.map((function(e){var t=_(e,2),n=t[0],r=t[1];return new ck(ik.fromServerFormat(n),r)}));return new ok(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$g(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=PI(e),a=OI(e);return this.fn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return kk.forEach(t,(function(t){return a.put(Z_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return kk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?kk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),kk.forEach(a,(function(r){return n.dn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?kk.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"mn",value:function(e,t,n,r){return AI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return AI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=AI(e),i=new mb(dI);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},(function(e,r){i=i.add(new hI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new mb(dI),r=this.un(t,e);if(null==r)return n;var i=uk(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Bb(a)){var o,u=T(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new hI(t.indexId,e.key,this.sn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new hI(t.indexId,e.key,TI,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Ag("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=gb(a),s=gb(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=gb(o)):l?(i(u),u=gb(a)):(u=gb(a),s=gb(o))}}(r,i,dI,(function(r){o.push(a.mn(e,t,n,r))}),(function(r){o.push(a.gn(e,t,n,r))})),kk.waitFor(o)}},{key:"fn",value:function(e){var t=1;return OI(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return dI(e,t)})).filter((function(e,t,n){return!t||0!==dI(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=dI(o,e),s=dI(o,t);if(0===u)r[0]=e.qe();else if(u>0&&s<0)r.push(o),r.push(o.qe());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,TI,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,TI,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"yn",value:function(e,t){return dI(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(RI)}},{key:"getMinOffset",value:function(e,t){var n=this;return kk.mapArray(this.Ze(t),(function(t){return n.Xe(e,t).next((function(e){return e||Dg()}))})).next(RI)}}]),e}();function NI(e){return cb(e,"collectionParents")}function AI(e){return cb(e,"indexEntries")}function PI(e){return cb(e,"indexConfiguration")}function OI(e){return cb(e,"indexState")}function RI(e){Lg(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;pk(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new dk(t.readTime,t.documentKey,n)}var DI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LI=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function MI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Lg(1===u)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=zk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return kk.waitFor(a).next((function(){return l}))}function jI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Dg();t=e.noDocument}return JSON.stringify(t).length}LI.DEFAULT_COLLECTION_PERCENTILE=10,LI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LI.DEFAULT=new LI(41943040,LI.DEFAULT_COLLECTION_PERCENTILE,LI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LI.DISABLED=new LI(-1,0,0);var FI=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return VI(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=zI(e),o=VI(e);return o.add({}).next((function(u){Lg("number"==typeof u);var s,c=new Wx(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return T_(e.se,t)})),i=n.mutations.map((function(t){return T_(e.se,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new mb((function(e,t){return $g(e.canonicalString(),t.canonicalString())})),d=T(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=zk(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Bk))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.pn[u]=c.keys()})),kk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return VI(e).get(t).next((function(e){return e?(Lg(e.userId===n.userId),G_(n.serializer,e)):null}))}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?kk.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return VI(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Lg(t.batchId>=r),a=G_(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return VI(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return VI(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return G_(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Vk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return zI(e).Z({range:i},(function(r,i,o){var u=_(r,3),s=u[0],c=u[1],l=u[2],f=Fk(c);if(s===n.userId&&t.path.isEqual(f))return VI(e).get(l).next((function(e){if(!e)throw Dg();Lg(e.userId===n.userId),a.push(G_(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mb($g),i=[];return t.forEach((function(t){var a=Vk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=zI(e).Z({range:o},(function(e,i,a){var o=_(e,3),u=o[0],s=o[1],c=o[2],l=Fk(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),kk.waitFor(i).next((function(){return n.Tn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Vk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new mb($g);return zI(e).Z({range:o},(function(e,t,a){var o=_(e,3),s=o[0],c=o[1],l=o[2],f=Fk(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Tn(e,u)}))}},{key:"Tn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(VI(e).get(t).next((function(e){if(null===e)throw Dg();Lg(e.userId===n.userId),r.push(G_(n.serializer,e))})))})),kk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return MI(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.En(t.batchId)})),kk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return kk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return zI(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Fk(e[1]);i.push(a)}else r.done()})).next((function(){Lg(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return UI(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return BI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ie",value:function(t,n,r,i){return Lg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function UI(e,t,n){var r=Vk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return zI(e).Z({range:a,Y:!0},(function(e,n,r){var a=_(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function VI(e){return cb(e,"mutations")}function zI(e){return cb(e,"documentMutations")}function BI(e){return cb(e,"mutationQueues")}var qI=function(){function e(t){l(this,e),this.Rn=t}return p(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),KI=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.serializer=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next((function(n){var r=new qI(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next((function(e){return ek.fromTimestamp(new Zg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Vn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next((function(){return n.Pn(e).next((function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return WI(e).delete(t.targetId)})).next((function(){return n.Pn(e)})).next((function(t){return Lg(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return WI(e).Z((function(o,u){var s=Q_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return kk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return WI(e).Z((function(e,n){var r=Q_(n);t(r)}))}},{key:"Pn",value:function(e){return HI(e).get("targetGlobalKey").next((function(e){return Lg(null!==e),e}))}},{key:"Vn",value:function(e,t){return HI(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return WI(e).put(Y_(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Tw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return WI(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Q_(n);Cw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=GI(e);return t.forEach((function(t){var o=Lk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),kk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=GI(e);return kk.forEach(t,(function(t){var a=Lk(t.path);return kk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=GI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=GI(e),i=sx();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Fk(e[1]),a=new ak(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Lk(t.path),r=IDBKeyRange.bound([n],[Jg(n)],!1,!0),i=0;return GI(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=_(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return WI(e).get(t).next((function(e){return e?Q_(e):null}))}}]),e}();function WI(e){return cb(e,"targets")}function HI(e){return cb(e,"targetGlobal")}function GI(e){return cb(e,"targetDocuments")}function QI(e,t){var n=_(e,2),r=n[0],i=n[1],a=_(t,2),o=a[0],u=a[1],s=$g(r,o);return 0===s?$g(i,u):s}var YI=function(){function e(t){l(this,e),this.Cn=t,this.buffer=new mb(QI),this.xn=0}return p(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();QI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),$I=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return p(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"$n",value:function(e){var t=this;Ag("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ik(e.t0)){e.next=12;break}Ag("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,yk(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),XI=function(){function e(t,n){l(this,e),this.Mn=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return kk.resolve(Pk.ct);var r=new YI(t);return this.Mn.forEachTarget(e,(function(e){return r.kn(e.sequenceNumber)})).next((function(){return n.Mn.Bn(e,(function(e){return r.kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ag("LruGarbageCollector","Garbage collection skipped; disabled"),kk.resolve(DI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ag("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),DI):n.Ln(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ag("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ng()<=_a.DEBUG&&Ag("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),kk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),JI=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=function(e,t){return new XI(e,t)}(this,n)}return p(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Bn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ZI(e,n)}},{key:"removeReference",value:function(e,t,n){return ZI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ZI(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return BI(e).X((function(r){return UI(e,r,t).next((function(e){return e&&(n=!0),kk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Un(e,(function(o,u){if(u<=t){var s=n.Kn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ek.min()),GI(e).delete([0,Lk(o.path)])}))}));i.push(s)}})).next((function(){return kk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ZI(e,t)}},{key:"Un",value:function(e,t){var n,r=GI(e),i=Pk.ct;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=_(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Pk.ct&&t(new ak(Fk(n)),i),i=s,n=u):i=Pk.ct})).next((function(){i!==Pk.ct&&t(new ak(Fk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ZI(e,t){return GI(e).put(function(e,t){return{targetId:0,path:Lk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var eE=function(){function e(){l(this,e),this.changes=new Xw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ew.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),tE=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return aE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return aE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],K_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Gn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ew.newInvalidDocument(t);return aE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(oE(t))},(function(e,i){r=n.Qn(t,i)})).next((function(){return r}))}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:ew.newInvalidDocument(t)};return aE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(oE(t))},(function(e,i){r={document:n.Qn(t,i),size:jI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Zw();return this.jn(e,t,(function(e,t){var i=n.Qn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r=Zw(),i=new db(ak.comparator);return this.jn(e,t,(function(e,t){var a=n.Qn(e,t);r=r.insert(e,a),i=i.insert(e,jI(t))})).next((function(){return{documents:r,Hn:i}}))}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return kk.resolve();var r=new mb(sE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(oE(r.first()),oE(r.last())),a=r.getIterator(),o=a.getNext();return aE(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ak.fromSegments([].concat(c(t.prefixPath),[t.collectionGroup,t.documentId]));o&&sE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(oE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),K_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aE(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Zw(),o=T(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Qn(ak.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Gw(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Zw(),o=uE(t,n),u=uE(t,dk.max());return aE(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Qn(ak.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new rE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return iE(e).get("remoteDocumentGlobalKey").next((function(e){return Lg(!!e),e}))}},{key:"Gn",value:function(e,t){return iE(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=E_(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ak.fromSegments(t.noDocument.path),i=H_(t.noDocument.readTime);n=ew.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Dg();var a=ak.fromSegments(t.unknownDocument.path),o=H_(t.unknownDocument.version);n=ew.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Zg(e[0],e[1]);return ek.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(ek.min()))return n}return ew.newInvalidDocument(e)}}]),e}();function nE(e){return new tE(e)}var rE=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).Jn=e,i.trackRemovals=r,i.Yn=new Xw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new mb((function(e,t){return $g(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Yn.get(a);if(n.push(t.Jn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=q_(t.Jn.serializer,o);i=i.add(a.path.popLast());var c=jI(s);r+=c-u.size,n.push(t.Jn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=q_(t.Jn.serializer,o.convertToNoDocument(ek.min()));n.push(t.Jn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Jn.updateMetadata(e,r)),kk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next((function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next((function(e){var t=e.documents;return e.Hn.forEach((function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(eE);function iE(e){return cb(e,"remoteDocumentGlobal")}function aE(e){return cb(e,"remoteDocumentsV14")}function oE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uE(e,t){var n=t.documentKey.path.toArray();return[e,K_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=$g(n[a],r[a]))return i;return(i=$g(n.length,r.length))||((i=$g(n[n.length-2],r[r.length-2]))||$g(n[n.length-1],r[r.length-1]))}var cE=p((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),lE=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Rx(r.mutation,e,kb.empty(),Zg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sx()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sx(),i=rx();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=tx();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=rx();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sx())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Zw(),a=ax(),o=ax();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof jx)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Rx(o.mutation,t,o.mutation.getFieldMask(),Zg.now())):a.set(t.key,kb.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new cE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ax(),i=new db((function(e,t){return e-t})),a=sx();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||kb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||sx()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=ix();c.forEach((function(e){if(!a.has(e)){var n=Px(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return kk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ak.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Uw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):kk.resolve(rx()),u=-1,s=a;return o.next((function(t){return kk.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?kk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,sx())})).next((function(e){return{batchId:u,changes:nx(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ak(t)).next((function(e){var t=tx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=tx();return this.indexManager.getCollectionParents(e,i).next((function(o){return kk.forEach(o,(function(o){var u=function(e,t){return new Rw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ew.newInvalidDocument(r)))}));var n=tx();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Rx(a.mutation,i,kb.empty(),Zg.now()),Gw(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),fE=function(){function e(t){l(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return kk.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:v_(n.createTime)}),kk.resolve()}},{key:"getNamedQuery",value:function(e,t){return kk.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:$_(e.bundledQuery),readTime:v_(e.readTime)}}(t)),kk.resolve()}}]),e}(),hE=function(){function e(){l(this,e),this.overlays=new db(ak.comparator),this.ts=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return kk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=rx();return kk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),kk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),kk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=rx(),i=t.length+1,a=new ak(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return kk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new db((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=rx(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=rx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return kk.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Gx(t,n));var a=this.ts.get(t);void 0===a&&(a=sx(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),dE=function(){function e(){l(this,e),this.es=new mb(pE.ns),this.ss=new mb(pE.rs)}return p(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new pE(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new pE(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new ak(new nk([])),r=new pE(n,e),i=new pE(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new ak(new nk([])),n=new pE(t,e),r=new pE(t,e+1),i=sx();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new pE(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),pE=function(){function e(t,n){l(this,e),this.key=t,this.ds=n}return p(e,null,[{key:"ns",value:function(e,t){return ak.comparator(e.key,t.key)||$g(e.ds,t.ds)}},{key:"rs",value:function(e,t){return $g(e.ds,t.ds)||ak.comparator(e.key,t.key)}}]),e}(),vE=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new mb(pE.ns)}return p(e,[{key:"checkEmpty",value:function(e){return kk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Wx(i,t,n,r);this.mutationQueue.push(a);var o,u=T(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new pE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return kk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return kk.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return kk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return kk.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return kk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new pE(t,0),i=new pE(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),kk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mb($g);return t.forEach((function(e){var t=new pE(e,0),i=new pE(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),kk.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ak.isDocumentKey(i)||(i=i.child(""));var a=new pE(new ak(i),0),o=new mb($g);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),kk.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Lg(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return kk.forEach(t.mutations,(function(i){var a=new pE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new pE(t,0),r=this._s.firstAfterOrEqual(n);return kk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,kk.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),mE=function(){function e(t){l(this,e),this.Ts=t,this.docs=new db(ak.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return kk.resolve(n?n.document.mutableCopy():ew.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Zw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ew.newInvalidDocument(e))})),kk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Zw(),a=t.path,o=new ak(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||pk(hk(l),n)<=0||(r.has(l.key)||Gw(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return kk.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Dg()}},{key:"Es",value:function(e,t){return kk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new yE(this)}},{key:"getSize",value:function(e){return kk.resolve(this.size)}}]),e}(),yE=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).Jn=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),kk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(eE),gE=function(){function e(t){l(this,e),this.persistence=t,this.As=new Xw((function(e){return Tw(e)}),Cw),this.lastRemoteSnapshotVersion=ek.min(),this.highestTargetId=0,this.Rs=0,this.vs=new dE,this.targetCount=0,this.bs=qI.vn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),kk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return kk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return kk.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),kk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),kk.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new qI(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,kk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),kk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,kk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),kk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return kk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return kk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),kk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),kk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return kk.resolve(n)}},{key:"containsKey",value:function(e,t){return kk.resolve(this.vs.containsKey(t))}}]),e}(),kE=function(){function e(t,n){var r=this;l(this,e),this.Ps={},this.overlays={},this.Vs=new Pk(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new gE(this),this.indexManager=new EI,this.remoteDocumentCache=new mE((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new B_(n),this.xs=new fE(this.serializer)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new hE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new vE(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Ag("MemoryPersistence","Starting transaction:",e);var i=new bE(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return kk.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),bE=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(mk),wE=function(){function e(t){l(this,e),this.persistence=t,this.$s=new dE,this.Ms=null}return p(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw Dg()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),kk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),kk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),kk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kk.forEach(this.Bs,(function(r){var i=ak.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,ek.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return kk.or([function(){return kk.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),xE=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new bk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uk,{unique:!0}),e.createObjectStore("documentMutations")}(e),_E(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=kk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),_E(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ek.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return kk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Us(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Ks(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Gs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Qs(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:eb});t.createIndex("collectionPathOverlayIndex",tb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",nb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:qk});t.createIndex("documentKeyIndex",Kk),t.createIndex("collectionGroupIndex",Wk)}(e)})).next((function(){return i.zs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:$k}).createIndex("sequenceNumberIndex",Xk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Jk}).createIndex("documentKeyIndex",Zk,{unique:!1})}(e)}))),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=jI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return kk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return kk.forEach(r,(function(r){Lg(r.userId===n.userId);var i=G_(t.serializer,r);return MI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new nk(n),o=function(e){return[0,Lk(e)]}(a);r.push(t.get(o).next((function(n){return n?kk.resolve():function(n){return t.put({targetId:0,path:Lk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return kk.waitFor(r)}))}))}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Yk});var n=t.store("collectionParents"),r=new SI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Lk(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new nk(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=_(e,3),r=(n[0],n[1]),a=(n[2],Fk(r));return i(a.popLast())}))}))}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Q_(r),a=Y_(t.serializer,i);return n.put(a)}))}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ak(nk.fromString(i.document.name).popFirst(5)):i.noDocument?ak.fromSegments(i.noDocument.path):i.unknownDocument?ak.fromSegments(i.unknownDocument.path):Dg()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return kk.waitFor(r)}))}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),i=nE(this.serializer),a=new kE(wE.Fs,this.serializer.se);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:sx();G_(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),kk.forEach(r,(function(e,r){var o=new Sg(r),u=rI.ie(n.serializer,o),s=a.getIndexManager(o),c=FI.ie(o,n.serializer,s,a.referenceDelegate);return new lE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new sb(t,Pk.ct),e).next()}))}))}}]),e}();function _E(e){e.createObjectStore("targetDocuments",{keyPath:Gk}).createIndex("documentTargetsIndex",Qk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hk,{unique:!0}),e.createObjectStore("targetGlobal")}var IE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",EE=function(){function e(t,n,r,i,a,o,u,s,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=a,this.window=o,this.document=u,this.Hs=c,this.Js=f,this.Ys=h,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new Fg(jg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JI(this,i),this.si=n+"main",this.serializer=new B_(s),this.ii=new wk(this.si,this.Ys,new xE(this.serializer)),this.Ds=new KI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nE(this.serializer),this.xs=new eI,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===f&&Pg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.oi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fg(jg.FAILED_PRECONDITION,IE);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ds.getHighestSequenceNumber(t)}))})).then((function(t){e.Vs=new Pk(t,e.Hs)})).then((function(){e.Ss=!0})).catch((function(t){return e.ii&&e.ii.close(),Promise.reject(t)}))}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=ga(ma().mark((function n(r){return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=ga(ma().mark((function t(n){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return TE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.li(t).next((function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable((function(){return e.ni(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.di(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Ik(t))return Ag("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ag("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable((function(){return e.ni(t)})),e.isPrimary=t}))}},{key:"li",value:function(e){var t=this;return SE(e).get("owner").next((function(e){return kk.resolve(t._i(e))}))}},{key:"mi",value:function(e){return TE(e).delete(this.clientId)}},{key:"gi",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i,a=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cb(e,"clientMetadata");return t.j().next((function(e){var n=a.pi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return kk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ri){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ri.removeItem(this.Ii(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.oi().then((function(){return e.gi()})).then((function(){return e.ai()}))}))}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?kk.resolve(!0):SE(e).get("owner").next((function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new Fg(jg.FAILED_PRECONDITION,IE);return!1}}return!(!t.networkEnabled||!t.inForeground)||TE(e).j().next((function(e){return void 0===t.pi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ag("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ga(ma().mark((function e(){var t=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new sb(e,Pk.ct);return t.di(n).next((function(){return t.mi(n)}))}));case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter((function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)}))}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return TE(t).j().next((function(t){return e.pi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ss}},{key:"getMutationQueue",value:function(e,t){return FI.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new CI(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return rI.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Ag("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Ys)?ub:14===i?ob:13===i?ab:12===i?ib:11===i?rb:void Dg();return this.ii.runTransaction(e,o,u,(function(i){return a=new sb(i,r.Vs?r.Vs.next():Pk.ct),"readwrite-primary"===t?r.li(a).next((function(e){return!!e||r.fi(a)})).next((function(t){if(!t)throw Pg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable((function(){return r.ni(!1)})),new Fg(jg.FAILED_PRECONDITION,vk);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Pi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Pi",value:function(e){var t=this;return SE(e).get("owner").next((function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fg(jg.FAILED_PRECONDITION,IE)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return SE(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=SE(e);return n.get("owner").next((function(e){return t._i(e)?(Ag("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):kk.resolve()}))}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Pg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()}))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;!Xi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Ag("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Pg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(an){Pg("Failed to set zombie client id.",an)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(an){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return wk.D()}}]),e}();function SE(e){return cb(e,"owner")}function TE(e){return cb(e,"clientMetadata")}function CE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var NE=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return p(e,null,[{key:"Di",value:function(t,n){var r,i=sx(),a=sx(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),AE=function(){function e(){l(this,e),this.Ci=!1}return p(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(Mw(t))return kk.resolve(null);var r=zw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=qw(t,null,"F"),r=zw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sx.apply(void 0,c(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,qw(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return Mw(t)||r.isEqual(ek.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(Ng()<=_a.DEBUG&&Ag("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hw(t)),i.Fi(e,o,t,fk(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new mb(Yw(e));return t.forEach((function(t,r){Gw(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Ng()<=_a.DEBUG&&Ag("QueryEngine","Using full collection scan to execute query:",Hw(t)),this.xi.getDocumentsMatchingQuery(e,t,dk.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),PE=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new db($g),this.qi=new Xw((function(e){return Tw(e)}),Cw),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return p(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lE(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function OE(e,t,n,r){return new PE(e,t,n,r)}function RE(e,t){return DE.apply(this,arguments)}function DE(){return DE=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=sx(),s=T(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=T(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function LE(e,t){var n=Mg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=kk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Lg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sx(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ME(e){var t=Mg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function jE(e,t){var n=Mg(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(wb.EMPTY_BYTE_STRING,ek.min()).withLastLimboFreeSnapshotVersion(ek.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var u=Zw(),s=sx();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(FE(e,a,t.documentUpdates).next((function(e){u=e.zi,s=e.ji}))),!r.isEqual(ek.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return kk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Li=i,e}))}function FE(e,t,n){var r=sx(),i=sx();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Zw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ek.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ag("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function UE(e,t){var n=Mg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function VE(e,t){var n=Mg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,kk.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new z_(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function zE(e,t,n){return BE.apply(this,arguments)}function BE(){return BE=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mg(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ik(e.t1)){e.next=12;break}throw e.t1;case 12:Ag("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),BE.apply(this,arguments)}function qE(e,t,n){var r=Mg(e),i=ek.min(),a=sx();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Mg(e),i=r.qi.get(n);return void 0!==i?kk.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,zw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:ek.min(),n?a:sx())})).next((function(e){return HE(r,Qw(t),e),{documents:e,Wi:a}}))}))}function KE(e,t){var n=Mg(e),r=Mg(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function WE(e,t){var n=Mg(e),r=n.Ui.get(t)||ek.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ki.getAllFromCollectionGroup(e,t,fk(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return HE(n,t,e),e}))}function HE(e,t,n){var r=e.Ui.get(t)||ek.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}function GE(e,t,n,r){return QE.apply(this,arguments)}function QE(){return QE=ga(ma().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Mg(t),o=sx(),u=Zw(),s=T(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,VE(a,function(e){return zw(Lw(nk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return FE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ds.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ds.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)})).next((function(){return t.zi}))}))})));case 9:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function YE(e,t){return $E.apply(this,arguments)}function $E(){return $E=ga(ma().mark((function e(t,n){var r,i,a,o=arguments;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sx(),e.next=3,VE(t,zw($_(n.bundledQuery)));case 3:return i=e.sent,a=Mg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=v_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.xs.saveNamedQuery(e,n);var o=i.withResumeToken(wb.EMPTY_BYTE_STRING,t);return a.Li=a.Li.insert(o.targetId,o),a.Ds.updateTargetData(e,o).next((function(){return a.Ds.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ds.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.xs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function XE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function JE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ZE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var eS=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Fg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Pg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),tS=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fg(i.error.code,i.error.message))),a?new e(t,i.state,r):(Pg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),nS=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lx(),o=0;i&&o<r.activeTargetIds.length;++o)i=Dk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Pg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),rS=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Pg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),iS=function(){function e(){l(this,e),this.activeTargetIds=lx()}return p(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),aS=function(){function e(t,n,r,i,a){l(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new db($g),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=XE(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new iS),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return p(e,[{key:"start",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(XE(this.persistenceKey,i)))&&(o=nS.Zi(i,a))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(u=this.storage.getItem(this.wr))&&(s=this.gr(u))&&this.yr(s),c=T(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(d){c.e(d)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ZE(this.persistenceKey,e));if(n){var r=tS.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ZE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Tr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ag("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ag("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ag("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ag("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void Pg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(ga(ma().mark((function e(){var r,i,a,o,u,s,c;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(a));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Pk.ct;if(null!=e)try{var n=JSON.parse(e);Lg("number"==typeof n),t=n}catch(e){Pg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Pk.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Er",get:function(){return this.rr.get(this.nr)}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new eS(this.currentUser,e,t,n),i=JE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Tr",value:function(e){var t=JE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=ZE(this.persistenceKey,e),i=new tS(e,t,n);this.setItem(r,i.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return nS.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return eS.Zi(new Sg(i),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return tS.Zi(r,t)}},{key:"gr",value:function(e){return rS.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Ag("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),a=this.pr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.rr=r}))}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=lx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),oS=function(){function e(){l(this,e),this.Br=new iS,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new iS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),uS=function(){function e(){l(this,e)}return p(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),sS=function(){function e(){var t=this;l(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return p(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){Ag("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){Ag("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cS=null;function lS(){return null===cS?cS=268435456+Math.round(2147483648*Math.random()):cS++,"0x"+cS.toString(16)}var fS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},hS=function(){function e(t){l(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return p(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),dS="WebChannelConnection",pS=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"lo",value:function(e,t,n,r){var i=lS();return new Promise((function(a,o){var u=new Ig;u.setWithCredentials(!0),u.listenOnce(kg.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case gg.NO_ERROR:var t=u.getResponseJson();Ag(dS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case gg.TIMEOUT:Ag(dS,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Fg(jg.DEADLINE_EXCEEDED,"Request time out"));break;case gg.HTTP_ERROR:var n=u.getStatus();if(Ag(dS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jg).indexOf(t)>=0?t:jg.UNKNOWN}(s.status);o(new Fg(c,s.message))}else o(new Fg(jg.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Fg(jg.UNAVAILABLE,"Connection failed."));break;default:Dg()}}finally{Ag(dS,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Ag(dS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=lS(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=mg(),o=yg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new xg({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");Ag(dS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new hS({Wr:function(t){f?Ag(dS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Ag(dS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Ag(dS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,_g.EventType.OPEN,(function(){f||Ag(dS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,_g.EventType.CLOSE,(function(){f||(f=!0,Ag(dS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,_g.EventType.ERROR,(function(t){f||(f=!0,Og(dS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new Fg(jg.UNAVAILABLE,"The operation could not be completed")))})),d(c,_g.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Lg(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Ag(dS,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=zx[e];if(void 0!==t)return $x(t)}(u),l=o.message;void 0===s&&(s=jg.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new Fg(s,l)),c.close()}else Ag(dS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,bg.STAT_EVENT,(function(t){t.stat===wg.PROXY?Ag(dS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===wg.NOPROXY&&Ag(dS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=lS(),o=this.ao(e,t);Ag("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then((function(t){return Ag("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Og("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=fS[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function vS(){return"undefined"!=typeof window?window:null}function mS(){return"undefined"!=typeof document?document:null}function yS(e){return new f_(e,!0)}var gS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Ag("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),kS=function(){function e(t,n,r,i,a,o,u,s){l(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new gS(t,n)}return p(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===jg.RESOURCE_EXHAUSTED?(Pg(n.toString()),Pg("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===jg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=_(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new Fg(jg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return Ag("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(Ag("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),bS=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return p(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Lg(void 0===t||"string"==typeof t),wb.fromBase64String(t||"")):(Lg(void 0===t||t instanceof Uint8Array),wb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?jg.UNKNOWN:$x(e.code);return new Fg(t,e.message||"")}(o);n=new r_(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=k_(e,s.document.name),l=v_(s.document.updateTime),f=s.document.createTime?v_(s.document.createTime):ek.min(),h=new Jb({mapValue:{fields:s.document.fields}}),d=ew.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new t_(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=k_(e,m.document),g=m.readTime?v_(m.readTime):ek.min(),k=ew.newNoDocument(y,g),b=m.removedTargetIds||[];n=new t_([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=k_(e,w.document),_=w.removedTargetIds||[];n=new t_([],_,x,null)}else{if(!("filter"in t))return Dg();t.filter;var I=t.filter;I.targetId;var E=I.count||0,S=new Qx(E),T=I.targetId;n=new n_(T,S)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ek.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ek.min():t.readTime?v_(t.readTime):ek.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=x_(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Nw(r)?{documents:N_(e,r)}:{query:A_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=d_(e,t.resumeToken):t.snapshotVersion.compareTo(ek.min())>0&&(n.readTime=h_(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=x_(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(kS),wS=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.Ho=!1,s}return p(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,Qo(y(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Lg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(Lg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?v_(e.updateTime):v_(t);return n.isEqual(ek.min())&&(n=v_(t)),new Tx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=v_(e.commitTime);return this.listener.Zo(n,t)}return Lg(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=x_(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return T_(t.serializer,e)}))};this.Fo(n)}}]),n}(kS),xS=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return p(n,[{key:"nu",value:function(){if(this.eu)throw new Fg(jg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=_(i,2),o=a[0],u=a[1];return r.connection.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fg(jg.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=_(a,2),u=o[0],s=o[1];return i.connection.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Fg(jg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return p((function e(){l(this,e)}))}());var _S=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return p(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(Pg(t),this.ru=!1):Ag("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),IS=p((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=LS(o),!e.t0){e.next=5;break}return Ag("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mg(t)).du.add(4),e.next=4,TS(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,ES(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new _S(r,i)}));function ES(e){return SS.apply(this,arguments)}function SS(){return SS=ga(ma().mark((function e(t){var n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!LS(t)){e.next=18;break}n=T(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),SS.apply(this,arguments)}function TS(e){return CS.apply(this,arguments)}function CS(){return CS=ga(ma().mark((function e(t){var n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),CS.apply(this,arguments)}function NS(e,t){var n=Mg(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),DS(n)?RS(n):lT(n).No()&&PS(n,t))}function AS(e,t){var n=Mg(e),r=lT(n);n.fu.delete(t),r.No()&&OS(n,t),0===n.fu.size&&(r.No()?r.$o():LS(n)&&n.mu.set("Unknown"))}function PS(e,t){e.gu.Ot(t.targetId),lT(e).jo(t)}function OS(e,t){e.gu.Ot(t),lT(e).Wo(t)}function RS(e){e.gu=new a_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),lT(e).start(),e.mu.ou()}function DS(e){return LS(e)&&!lT(e).xo()&&e.fu.size>0}function LS(e){return 0===Mg(e).du.size}function MS(e){e.gu=void 0}function jS(e){return FS.apply(this,arguments)}function FS(){return FS=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){PS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function US(e,t){return VS.apply(this,arguments)}function VS(){return VS=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:MS(t),DS(t)?(t.mu.au(n),RS(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function zS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=ga(ma().mark((function e(t,n,r){var i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof r_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ag("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,qS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof t_?t.gu.Kt(n):n instanceof n_?t.gu.Jt(n):t.gu.zt(n),r.isEqual(ek.min())){e.next=29;break}return e.prev=14,e.next=17,ME(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(wb.EMPTY_BYTE_STRING,n.snapshotVersion)),OS(e,t);var r=new z_(n.target,t,1,n.sequenceNumber);PS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ag("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,qS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),BS.apply(this,arguments)}function qS(e,t,n){return KS.apply(this,arguments)}function KS(){return KS=ga(ma().mark((function e(t,n,r){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ik(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,TS(t);case 5:t.mu.set("Offline"),r||(r=function(){return ME(t.localStore)}),t.asyncQueue.enqueueRetryable(ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ag("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,ES(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function WS(e,t){return t().catch((function(n){return qS(e,n,t)}))}function HS(e){return GS.apply(this,arguments)}function GS(){return GS=ga(ma().mark((function e(t){var n,r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mg(t),r=fT(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!QS(n)){e.next=19;break}return e.prev=3,e.next=6,UE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,YS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,qS(n,e.t0);case 17:e.next=2;break;case 19:$S(n)&&XS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),GS.apply(this,arguments)}function QS(e){return LS(e)&&e.lu.length<10}function YS(e,t){e.lu.push(t);var n=fT(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function $S(e){return LS(e)&&!fT(e).xo()&&e.lu.length>0}function XS(e){fT(e).start()}function JS(e){return ZS.apply(this,arguments)}function ZS(){return ZS=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fT(t).tu();case 1:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=ga(ma().mark((function e(t){var n,r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fT(t),r=T(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t,n){return rT.apply(this,arguments)}function rT(){return rT=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Hx.from(i,n,r),e.next=3,WS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,HS(t);case 5:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=ga(ma().mark((function e(t,n){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fT(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Yx(i=n.code)||i===jg.ABORTED){e.next=7;break}return r=t.lu.shift(),fT(t).Oo(),e.next=5,WS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,HS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$S(t)&&XS(t);case 5:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t){return uT.apply(this,arguments)}function uT(){return uT=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Mg(t)).asyncQueue.verifyOperationInProgress(),Ag("RemoteStore","RemoteStore received new credentials"),i=LS(r),r.du.add(3),e.next=6,TS(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,ES(r);case 12:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mg(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,ES(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,TS(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e){return e.yu||(e.yu=function(e,t,n){var r=Mg(e);return r.nu(),new bS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:jS.bind(null,e),Zr:US.bind(null,e),zo:zS.bind(null,e)}),e.wu.push(function(){var t=ga(ma().mark((function t(n){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),DS(e)?RS(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:MS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function fT(e){return e.pu||(e.pu=function(e,t,n){var r=Mg(e);return r.nu(),new wS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:JS.bind(null,e),Zr:iT.bind(null,e),Xo:eT.bind(null,e),Zo:nT.bind(null,e)}),e.wu.push(function(){var t=ga(ma().mark((function t(n){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,HS(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(Ag("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var hT=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ug,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fg(jg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function dT(e,t){if(Pg("AsyncQueue","".concat(t,": ").concat(e)),Ik(e))return new Fg(jg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var pT=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||ak.comparator(e.key,n.key)}:function(e,t){return ak.comparator(e.key,t.key)},this.keyedMap=tx(),this.sortedSet=new db(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vT=function(){function e(){l(this,e),this.Iu=new db(ak.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Dg():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),mT=function(){function e(t,n,r,i,a,o,u,s,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,pT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),yT=p((function e(){l(this,e),this.Eu=void 0,this.listeners=[]})),gT=p((function e(){l(this,e),this.queries=new Xw((function(e){return Ww(e)}),Kw),this.onlineState="Unknown",this.Au=new Set}));function kT(e,t){return bT.apply(this,arguments)}function bT(){return bT=ga(ma().mark((function e(t,n){var r,i,a,o,u;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new yT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=dT(e.t0,"Initialization of query '".concat(Hw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&ET(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),bT.apply(this,arguments)}function wT(e,t){return xT.apply(this,arguments)}function xT(){return xT=ga(ma().mark((function e(t,n){var r,i,a,o,u;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(e,t){var n,r=Mg(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=T(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&ET(r)}function IT(e,t,n){var r=Mg(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ET(e){e.Au.forEach((function(e){e.next()}))}var ST=function(){function e(t,n,r){l(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new mT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=mT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),TT=function(){function e(t,n){l(this,e),this.Nu=t,this.byteLength=n}return p(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),CT=function(){function e(t){l(this,e),this.serializer=t}return p(e,[{key:"Hi",value:function(e){return k_(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?E_(this.serializer,e.document,!1):ew.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return v_(e)}}]),e}(),NT=function(){function e(t,n,r){l(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AT(t)}return p(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=nk.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new CT(this.serializer),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hi(a.metadata.name),s=T(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||sx()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GE(this.localStore,new CT(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,YE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function AT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var PT=p((function e(t){l(this,e),this.key=t})),OT=p((function e(t){l(this,e),this.key=t})),RT=function(){function e(t,n){l(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=sx(),this.mutatedKeys=sx(),this.Ku=Yw(t),this.Gu=new pT(this.Ku)}return p(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new vT,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Gw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dg()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new mT(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new vT,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=sx(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new OT(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new PT(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=sx();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return mT.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),DT=p((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),LT=p((function e(t){l(this,e),this.key=t,this.ec=!1})),MT=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Xw((function(e){return Ww(e)}),Kw),this.ic=new Map,this.rc=new Set,this.oc=new db(ak.comparator),this.uc=new Map,this.cc=new dE,this.ac={},this.hc=new Map,this.lc=qI.bn(),this.onlineState="Unknown",this.fc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function jT(e,t){return FT.apply(this,arguments)}function FT(){return FT=ga(ma().mark((function e(t,n){var r,i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AC(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,VE(r.localStore,zw(n));case 8:return u=e.sent,r.isPrimaryClient&&NS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,UT(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),FT.apply(this,arguments)}function UT(e,t,n,r,i){return VT.apply(this,arguments)}function VT(){return VT=ga(ma().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=ga(ma().mark((function e(t,n,r,i){var a,o,u;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,qE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(oC(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,qE(t.localStore,n,!0);case 3:return o=e.sent,u=new RT(n,o.Wi),s=u.zu(o.documents),c=e_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),oC(t,r,l.Yu),f=new DT(n,r,u),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function zT(e,t){return BT.apply(this,arguments)}function BT(){return BT=ga(ma().mark((function e(t,n){var r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mg(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Kw(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,zE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),AS(r.remoteStore,i.targetId),iC(r,i.targetId)})).catch(yk);case 9:e.next=14;break;case 11:return iC(r,i.targetId),e.next=14,zE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}function qT(e,t,n){return KT.apply(this,arguments)}function KT(){return KT=ga(ma().mark((function e(t,n,r){var i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Mg(e),a=Zg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sx());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Zw(),s=sx();return i.Ki.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=T(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Dx(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new jx(c.key,l,Zb(l.value.mapValue),Cx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:nx(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new db($g)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,cC(i,a.changes);case 9:return e.next=11,HS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=dT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),KT.apply(this,arguments)}function WT(e,t){return HT.apply(this,arguments)}function HT(){return HT=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),e.prev=1,e.next=4,jE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Lg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Lg(n.ec):e.removedDocuments.size>0&&(Lg(n.ec),n.ec=!1))})),e.next=8,cC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),HT.apply(this,arguments)}function GT(e,t,n){var r=Mg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Mg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ET(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function QT(e,t,n){return YT.apply(this,arguments)}function YT(){return YT=ga(ma().mark((function e(t,n,r){var i,a,o,u,s,c;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Mg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new db(ak.comparator)).insert(o,ew.newNoDocument(o,ek.min())),s=sx().add(o),c=new Zx(ek.min(),new Map,new mb($g),u,s),e.next=9,WT(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),sC(i),e.next=16;break;case 14:return e.next=16,zE(i.localStore,n,!1).then((function(){return iC(i,n,r)})).catch(yk);case 16:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function $T(e,t){return XT.apply(this,arguments)}function XT(){return XT=ga(ma().mark((function e(t,n){var r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),i=n.batch.batchId,e.prev=1,e.next=4,LE(r.localStore,n);case 4:return a=e.sent,rC(r,i,null),nC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,cC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),XT.apply(this,arguments)}function JT(e,t,n){return ZT.apply(this,arguments)}function ZT(){return ZT=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mg(t),e.prev=1,e.next=4,function(e,t){var n=Mg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Lg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,rC(i,n,r),nC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,cC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZT.apply(this,arguments)}function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LS((r=Mg(t)).remoteStore)||Ag("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Mg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=dT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),tC.apply(this,arguments)}function nC(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function rC(e,t,n){var r=Mg(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function iC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||aC(e,t)}))}function aC(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(AS(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),sC(e))}function oC(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof PT?(e.cc.addReference(a.key,t),uC(e,a)):a instanceof OT?(Ag("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||aC(e,a.key)):Dg()}}catch(o){i.e(o)}finally{i.f()}}function uC(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Ag("SyncEngine","New document in limbo: "+n),e.rc.add(r),sC(e))}function sC(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new ak(nk.fromString(t)),r=e.lc.next();e.uc.set(r,new LT(n)),e.oc=e.oc.insert(n,r),NS(e.remoteStore,new z_(zw(Lw(n.path)),r,2,Pk.ct))}}function cC(e,t,n){return lC.apply(this,arguments)}function lC(){return lC=ga(ma().mark((function e(t,n,r){var i,a,o,u;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mg(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=NE.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.zo(a),e.next=9,function(){var e=ga(ma().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kk.forEach(n,(function(t){return kk.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return kk.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ik(e.t0)){e.next=10;break}throw e.t0;case 10:Ag("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Mg(t)).currentUser.isEqual(n)){e.next=11;break}return Ag("SyncEngine","User change. New user:",n.toKey()),e.next=5,RE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Fg(jg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,cC(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){var n=Mg(e),r=n.uc.get(t);if(r&&r.ec)return sx().add(r.key);var i=sx(),a=n.ic.get(t);if(!a)return i;var o,u=T(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function pC(e,t){return vC.apply(this,arguments)}function vC(){return vC=ga(ma().mark((function e(t,n){var r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),e.next=3,qE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Xu(i),e.abrupt("return",(r.isPrimaryClient&&oC(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e,t){return yC.apply(this,arguments)}function yC(){return yC=ga(ma().mark((function e(t,n){var r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),e.abrupt("return",WE(r.localStore,n).then((function(e){return cC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function gC(e,t,n,r){return kC.apply(this,arguments)}function kC(){return kC=ga(ma().mark((function e(t,n,r,i){var a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Mg(t),e.next=3,function(e,t){var n=Mg(e),r=Mg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.In(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):kk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,HS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(rC(a,n,i||null),nC(a,n),function(e,t){Mg(Mg(e).mutationQueue).En(t)}(a.localStore,n)):Dg();case 11:return e.next=13,cC(a,o);case 13:e.next=16;break;case 15:Ag("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function bC(e,t){return wC.apply(this,arguments)}function wC(){return wC=ga(ma().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(AC(r=Mg(t)),PC(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,xC(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,sT(r.remoteStore,!0);case 9:o=T(a);try{for(o.s();!(u=o.n()).done;)s=u.value,NS(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return iC(r,t),zE(r.localStore,t,!0)})),AS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,xC(r,c);case 21:return function(e){var t=Mg(e);t.uc.forEach((function(e,n){AS(t.remoteStore,n)})),t.cc.ls(),t.uc=new Map,t.oc=new db(ak.comparator)}(r),r.fc=!1,e.next=25,sT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function xC(e,t,n){return _C.apply(this,arguments)}function _C(){return _C=ga(ma().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Mg(t),a=[],o=[],u=T(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,VE(i.localStore,zw(f[0]));case 11:l=e.sent,h=T(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,pC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,KE(i.localStore,c);case 36:return y=e.sent,e.next=39,VE(i.localStore,y);case 39:return l=e.sent,e.next=42,UT(i,IC(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),_C.apply(this,arguments)}function IC(e){return Dw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function EC(e){var t=Mg(e);return Mg(Mg(t.localStore).persistence).bi()}function SC(e,t,n,r){return TC.apply(this,arguments)}function TC(){return TC=ga(ma().mark((function e(t,n,r,i){var a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Mg(t)).fc){e.next=3;break}return e.abrupt("return",void Ag("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,WE(a.localStore,Qw(o[0]));case 10:return u=e.sent,s=Zx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,wb.EMPTY_BYTE_STRING),e.next=14,cC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,zE(a.localStore,n,!0);case 17:return iC(a,n,i),e.abrupt("break",20);case 19:Dg();case 20:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t,n){return NC.apply(this,arguments)}function NC(){return NC=ga(ma().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=AC(t)).fc){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return Ag("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,KE(i.localStore,u);case 12:return s=e.sent,e.next=15,VE(i.localStore,s);case 15:return c=e.sent,e.next=18,UT(i,IC(s),c.targetId,!1,c.resumeToken);case 18:NS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=T(r),e.prev=30,h=ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,zE(i.localStore,t,!1).then((function(){AS(i.remoteStore,t),iC(i,t)})).catch(yk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),NC.apply(this,arguments)}function AC(e){var t=Mg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QT.bind(null,t),t.nc.zo=_T.bind(null,t.eventManager),t.nc.wc=IT.bind(null,t.eventManager),t}function PC(e){var t=Mg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$T.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JT.bind(null,t),t}function OC(e,t,n){var r=Mg(e);(function(){var e=ga(ma().mark((function e(t,n,r){var i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Mg(e),r=v_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.xs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(AT(i)),a=new NT(i,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.$u(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,cC(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Mg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.xs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Og("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var RC=function(){function e(){l(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=yS(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return OE(this.persistence,new AE,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new kE(wE.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new oS}},{key:"terminate",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DC=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).mc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=ga(ma().mark((function e(t){var r=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(y(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.mc.initialize(this,t);case 4:return e.next=6,PC(this.mc.syncEngine);case 6:return e.next=8,HS(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return OE(this.persistence,new AE,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new $I(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Ak(t,this.persistence);return new Nk(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=CE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?LI.withCacheSize(this.cacheSizeBytes):LI.DEFAULT;return new EE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,vS(),mS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new oS}}]),n}(RC),LC=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).mc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=ga(ma().mark((function e(t){var r,i=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(y(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof aS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:gC.bind(null,r),Mr:SC.bind(null,r),Fr:CC.bind(null,r),bi:EC.bind(null,r),Or:mC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bC(i.mc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=vS();if(!aS.D(t))throw new Fg(jg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=CE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(DC),MC=function(){function e(){l(this,e)}return p(e,[{key:"initialize",value:function(){var e=ga(ma().mark((function e(t,n){var r=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return GT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,this.syncEngine),e.next=12,sT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gT}},{key:"createDatastore",value:function(e){var t,n=yS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new pS(t));return function(e,t,n,r){return new xS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return GT(o.syncEngine,e,0)},a=sS.D()?new sS:new uS,new IS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new MT(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mg(t),Ag("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,TS(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ga(ma().mark((function r(){var i;return ma().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var FC=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):Pg("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),UC=function(){function e(t,n){var r=this;l(this,e),this.Ic=t,this.serializer=n,this.metadata=new Ug,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then((function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=ga(ma().mark((function e(){var t,n,r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new TT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ac",value:function(){var e=ga(ma().mark((function e(){var t,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=ga(ma().mark((function e(){var t,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VC=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=ga(ma().mark((function e(t){var n,r=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Fg(jg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ga(ma().mark((function e(t,n){var r,i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),i=x_(r.serializer)+"/documents",a={documents:n.map((function(e){return g_(r.serializer,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=S_(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Lg(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new qx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ga(ma().mark((function e(){var t,n=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ak.fromPath(t);n.mutations.push(new Kx(r,n.precondition(r)))})),e.next=7,function(){var e=ga(ma().mark((function e(t,n){var r,i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t),i=x_(r.serializer)+"/documents",a={writes:n.map((function(e){return T_(r.serializer,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dg();t=ek.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fg(jg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ek.min())?Cx.exists(!1):Cx.updateTime(t):Cx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ek.min()))throw new Fg(jg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cx.updateTime(t)}return Cx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),zC=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Vc=r.maxAttempts,this.Co=new gS(this.asyncQueue,"transaction_retry")}return p(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao(ga(ma().mark((function t(){var n,r;return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new VC(e.datastore),(r=e.Dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Cc(t)}))}))})).catch((function(t){e.Cc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!Ok(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Yx(t)}return!1}}]),e}(),BC=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sg.UNAUTHENTICATED,this.clientId=Yg.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ag("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ag("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=ga(ma().mark((function e(){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fg(jg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ug;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ga(ma().mark((function n(){var r;return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=dT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function qC(e,t){return KC.apply(this,arguments)}function KC(){return KC=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ag("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,RE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function WC(e,t){return HC.apply(this,arguments)}function HC(){return HC=ga(ma().mark((function e(t,n){var r,i;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,QC(t);case 3:return r=e.sent,Ag("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return oT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return oT(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function GC(e){return"FirebaseError"===e.name?e.code===jg.FAILED_PRECONDITION||e.code===jg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function QC(e){return YC.apply(this,arguments)}function YC(){return YC=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Ag("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,qC(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),GC(n=e.t0)){e.next=13;break}throw n;case 13:return Og("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,qC(t,new RC);case 16:e.next=21;break;case 18:return Ag("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,qC(t,new RC);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),YC.apply(this,arguments)}function $C(e){return XC.apply(this,arguments)}function XC(){return XC=ga(ma().mark((function e(t){return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Ag("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,WC(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Ag("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,WC(t,new MC);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),XC.apply(this,arguments)}function JC(e){return QC(e).then((function(e){return e.persistence}))}function ZC(e){return QC(e).then((function(e){return e.localStore}))}function eN(e){return $C(e).then((function(e){return e.remoteStore}))}function tN(e){return $C(e).then((function(e){return e.syncEngine}))}function nN(e){return $C(e).then((function(e){return e.datastore}))}function rN(e){return iN.apply(this,arguments)}function iN(){return iN=ga(ma().mark((function e(t){var n,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$C(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jT.bind(null,n.syncEngine),r.onUnlisten=zT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ug;return e.asyncQueue.enqueueAndForget(ga(ma().mark((function i(){return ma().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FC({next:function(a){t.enqueueAndForget((function(){return wT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Fg(jg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Fg(jg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ST(Lw(n.path),a,{includeMetadataChanges:!0,xu:!0});return kT(e,o)},i.next=3,rN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function oN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ug;return e.asyncQueue.enqueueAndForget(ga(ma().mark((function i(){return ma().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FC({next:function(n){t.enqueueAndForget((function(){return wT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Fg(jg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ST(n,a,{includeMetadataChanges:!0,xu:!0});return kT(e,o)},i.next=3,rN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var uN=new Map;function sN(e,t,n){if(!n)throw new Fg(jg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cN(e,t,n,r){if(!0===t&&!0===r)throw new Fg(jg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function lN(e){if(!ak.isDocumentKey(e))throw new Fg(jg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fN(e){if(ak.isDocumentKey(e))throw new Fg(jg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Dg()}function dN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fg(jg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hN(e);throw new Fg(jg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function pN(e,t){if(t<=0)throw new Fg(jg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var vN=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fg(jg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fg(jg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mN=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vN({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new Fg(jg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fg(jg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zg;switch(e.type){case"firstParty":return new Wg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fg(jg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=uN.get(e);t&&(Ag("ComponentProvider","Removing Datastore"),uN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function yN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=dN(e,mN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Og("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Sg.MOCK_USER;else{o=Yi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Fg(jg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sg(s)}e._authCredentials=new Bg(new Vg(o,u))}}var gN=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new bN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kN=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bN=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,Lw(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new gN(this.firestore,null,new ak(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kN);function wN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=va(e),sN("collection","path",t),e instanceof mN){var a=nk.fromString.apply(nk,[t].concat(r));return fN(a),new bN(e,null,a)}if(!(e instanceof gN||e instanceof bN))throw new Fg(jg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nk.fromString.apply(nk,[t].concat(r)));return fN(o),new bN(e.firestore,null,o)}function xN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=va(e),1===arguments.length&&(t=Yg.A()),sN("doc","path",t),e instanceof mN){var a=nk.fromString.apply(nk,[t].concat(r));return lN(a),new gN(e,null,new ak(a))}if(!(e instanceof gN||e instanceof bN))throw new Fg(jg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nk.fromString.apply(nk,[t].concat(r)));return lN(o),new gN(e.firestore,e instanceof bN?e.converter:null,new ak(o))}function _N(e,t){return e=va(e),t=va(t),(e instanceof gN||e instanceof bN)&&(t instanceof gN||t instanceof bN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function IN(e,t){return e=va(e),t=va(t),e instanceof kN&&t instanceof kN&&e.firestore===t.firestore&&Kw(e._query,t._query)&&e.converter===t.converter}var EN=function(){function e(){var t=this;l(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new gS(this,"async_queue_retry"),this.qc=function(){var e=mS();e&&Ag("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=mS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return p(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=mS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new Ug;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=ga(ma().mark((function e(){var t=this;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ik(e.t0)){e.next=12;break}throw e.t0;case 12:Ag("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Pg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=hT.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&Dg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=ga(ma().mark((function e(){var t;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=T(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function SN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var TN=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new Ug,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),CN=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new EN,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||AN(this),this._firestoreClient.terminate()}}]),n}(mN);function NN(e){return e._firestoreClient||AN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function AN(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Nb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new BC(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function PN(e,t,n){var r=new Ug;return e.asyncQueue.enqueue(ga(ma().mark((function i(){var a;return ma().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,qC(e,n);case 3:return i.next=5,WC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),GC(a=i.t0)){i.next=13;break}throw a;case 13:Og("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ON(e){return function(e){return e.asyncQueue.enqueue(ga(ma().mark((function t(){var n,r;return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JC(e);case 2:return n=t.sent,t.next=5,eN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Mg(e);return t.du.delete(0),ES(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(NN(e=dN(e,CN)))}function RN(e){return function(e){return e.asyncQueue.enqueue(ga(ma().mark((function t(){var n,r;return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JC(e);case 2:return n=t.sent,t.next=5,eN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mg(t)).du.add(0),e.next=4,TS(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(NN(e=dN(e,CN)))}function DN(e,t){var n=NN(e=dN(e,CN)),r=new TN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new UC(e,t)}(function(e,t){if(e instanceof Uint8Array)return jC(e,t);if(e instanceof ArrayBuffer)return jC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,yS(t));e.asyncQueue.enqueueAndForget(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OC,t.next=3,tN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function LN(e,t){return function(e,t){return e.asyncQueue.enqueue(ga(ma().mark((function n(){return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Mg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.xs.getNamedQuery(e,t)}))},n.next=3,ZC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(NN(e=dN(e,CN)),t).then((function(t){return t?new kN(e,null,t.query):null}))}function MN(e){if(e._initialized||e._terminated)throw new Fg(jg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jN=function(){function e(t){l(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(wb.fromBase64String(t))}catch(t){throw new Fg(jg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(wb.fromUint8Array(t))}}]),e}(),FN=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fg(jg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ik(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var UN=p((function e(t){l(this,e),this._methodName=t})),VN=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Fg(jg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fg(jg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $g(this._lat,e._lat)||$g(this._long,e._long)}}]),e}(),zN=/^__.*__$/,BN=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new jx(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mx(e,this.data,t,this.fieldTransforms)}}]),e}(),qN=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new jx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function KN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dg()}}var WN=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return fA(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(KN(this.Yc)&&zN.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),HN=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||yS(t)}return p(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new WN({Yc:e,methodName:t,oa:n,path:ik.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function GN(e){var t=e._freezeSettings(),n=yS(e._databaseId);return new HN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);uA("Data must be an object, but it was:",o,r);var u,s,c=aA(r,o);if(a.merge)u=new kb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=sA(t,l.value,n);if(!o.contains(d))throw new Fg(jg.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));hA(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new kb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new BN(new Jb(c),u,s)}var YN=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(UN);function $N(e,t,n){return new WN({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var XN=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new Sx(e.path,new gx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(UN),JN=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).ca=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=$N(this,e,!0),n=this.ca.map((function(e){return iA(e,t)})),r=new kx(n);return new Sx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UN),ZN=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).ca=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=$N(this,e,!0),n=this.ca.map((function(e){return iA(e,t)})),r=new wx(n);return new Sx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UN),eA=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).aa=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new _x(e.serializer,dx(e.serializer,this.aa));return new Sx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UN);function tA(e,t,n,r){var i=e.ua(1,t,n);uA("Data must be an object, but it was:",i,r);var a=[],o=Jb.empty();fb(r,(function(e,r){var u=lA(t,e,n);r=va(r);var s=i.na(u);if(r instanceof YN)a.push(u);else{var c=iA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new kb(a);return new qN(o,u,i.fieldTransforms)}function nA(e,t,n,r,i,a){var o=e.ua(1,t,n),u=[sA(t,r,n)],s=[i];if(a.length%2!=0)throw new Fg(jg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(sA(t,a[c])),s.push(a[c+1]);for(var l=[],f=Jb.empty(),h=u.length-1;h>=0;--h)if(!hA(l,u[h])){var d=u[h],p=s[h];p=va(p);var v=o.na(d);if(p instanceof YN)l.push(d);else{var m=iA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new kb(l);return new qN(f,y,o.fieldTransforms)}function rA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iA(n,e.ua(r?4:3,t))}function iA(e,t){if(oA(e=va(e)))return uA("Unsupported field value:",t,e),aA(e,t);if(e instanceof UN)return function(e,t){if(!KN(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=iA(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=va(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dx(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zg.fromDate(e);return{timestampValue:h_(t.serializer,n)}}if(e instanceof Zg){var r=new Zg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:h_(t.serializer,r)}}if(e instanceof VN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jN)return{bytesValue:d_(t.serializer,e._byteString)};if(e instanceof gN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:m_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(hN(e)))}(e,t)}function aA(e,t){var n={};return hb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fb(e,(function(e,r){var i=iA(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zg||e instanceof VN||e instanceof jN||e instanceof gN||e instanceof UN)}function uA(e,t,n){if(!oA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=hN(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function sA(e,t,n){if((t=va(t))instanceof FN)return t._internalPath;if("string"==typeof t)return lA(e,t);throw fA("Field path arguments must be of type string or ",e,!1,void 0,n)}var cA=new RegExp("[~\\*/\\[\\]]");function lA(e,t,n){if(t.search(cA)>=0)throw fA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(FN,c(t.split(".")))._internalPath}catch(hn){throw fA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Fg(jg.INVALID_ARGUMENT,u+e+s)}function hA(e,t){return e.some((function(e){return e.isEqual(t)}))}var dA=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new gN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(vA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),pA=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Qo(y(n.prototype),"data",this).call(this)}}]),n}(dA);function vA(e,t){return"string"==typeof t?lA(e,t):t instanceof FN?t._internalPath:t._delegate._internalPath}function mA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fg(jg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yA=p((function e(){l(this,e)})),gA=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n)}(yA);function kA(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof yA&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof wA})).length,n=e.filter((function(e){return e instanceof bA})).length;if(t>1||t>0&&n>0)throw new Fg(jg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=T(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var bA=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=this._parse(e);return RA(e._query,t),new kN(e.firestore,e.converter,Bw(e._query,t))}},{key:"_parse",value:function(e){var t=GN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Fg(jg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){OA(o,a);var s,c=[],l=T(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(PA(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=PA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||OA(o,a),u=rA(n,"where",o,"in"===a||"not-in"===a);return uw.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gA);var wA=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return p(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:sw.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;RA(r,a),r=Bw(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new kN(e.firestore,e.converter,Bw(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(yA);var xA=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new iw(t,n);return function(e,t){if(null===jw(e)){var n=Fw(e);null!==n&&DA(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new kN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Rw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gA);var _A=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return p(n,[{key:"_apply",value:function(e){return new kN(e.firestore,e.converter,qw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gA);var IA=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=AA(e,this.type,this._docOrFields,this._inclusive);return new kN(e.firestore,e.converter,function(e,t){return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gA);function EA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return IA._create("startAt",t,!0)}function SA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return IA._create("startAfter",t,!1)}var TA=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=AA(e,this.type,this._docOrFields,this._inclusive);return new kN(e.firestore,e.converter,function(e,t){return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gA);function CA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TA._create("endBefore",t,!1)}function NA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TA._create("endAt",t,!0)}function AA(e,t,n,r){if(n[0]=va(n[0]),n[0]instanceof dA)return function(e,t,n,r,i){if(!r)throw new Fg(jg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=T(Vw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Vb(t,r.key));else{var c=r.data.field(s.field);if(Sb(c))throw new Fg(jg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new tw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=GN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Fg(jg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Uw(e)&&-1!==c.indexOf("/"))throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(nk.fromString(c));if(!ak.isDocumentKey(l))throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ak(l);u.push(Vb(t,f))}else{var h=rA(n,r,c);u.push(h)}}return new tw(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function PA(e,t,n){if("string"==typeof(n=va(n))){if(""===n)throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(t)&&-1!==n.indexOf("/"))throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(nk.fromString(n));if(!ak.isDocumentKey(r))throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Vb(e,new ak(r))}if(n instanceof gN)return Vb(e,n._key);throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(hN(n),"."))}function OA(e,t){if(!Array.isArray(e)||0===e.length)throw new Fg(jg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function RA(e,t){if(t.isInequality()){var n=Fw(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=jw(e);null!==i&&DA(e,r,i)}var a=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Fg(jg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fg(jg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function DA(e,t,n){if(!n.isEqual(t))throw new Fg(jg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LA=function(){function e(){l(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ib(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Eb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return fb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new VN(Ib(e.latitude),Ib(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Tb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Cb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=_b(e);return new Zg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=nk.fromString(e);Lg(V_(n));var r=new Ab(n.get(1),n.get(3)),i=new ak(n.popFirst(5));return r.isEqual(t)||Pg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function MA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jA=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new jN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gN(this.firestore,null,t)}}]),n}(LA);var FA=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),UA=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return p(n,[{key:"exists",value:function(){return Qo(y(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new VA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(vA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(dA),VA=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qo(y(n.prototype),"data",this).call(this,e)}}]),n}(UA),zA=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new FA(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new VA(n._firestore,n._userDataWriter,r.key,r,new FA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fg(jg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new VA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new VA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:BA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function BA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dg()}}function qA(e,t){return e instanceof UA&&t instanceof UA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zA&&t instanceof zA&&e._firestore===t._firestore&&IN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var KA=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new jN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gN(this.firestore,null,t)}}]),n}(LA);function WA(e){e=dN(e,gN);var t=dN(e.firestore,CN),n=NN(t),r=new KA(t);return function(e,t){var n=new Ug;return e.asyncQueue.enqueueAndForget(ga(ma().mark((function r(){return ma().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ga(ma().mark((function e(t,n,r){var i,a;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Mg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Fg(jg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=dT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ZC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new UA(t,r,e._key,n,new FA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function HA(e){e=dN(e,kN);var t=dN(e.firestore,CN),n=NN(t),r=new KA(t);return function(e,t){var n=new Ug;return e.asyncQueue.enqueueAndForget(ga(ma().mark((function r(){return ma().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ga(ma().mark((function e(t,n,r){var i,a,o,u,s;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qE(t,n,!0);case 3:i=e.sent,a=new RT(n,i.Wi),o=a.zu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=dT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ZC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new zA(t,r,e,n)}))}function GA(e,t,n){e=dN(e,gN);var r=dN(e.firestore,CN),i=MA(e.converter,t,n);return XA(r,[QN(GN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cx.none())])}function QA(e,t,n){e=dN(e,gN);for(var r=dN(e.firestore,CN),i=GN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return XA(r,[("string"==typeof(t=va(t))||t instanceof FN?nA(i,"updateDoc",e._key,t,n,o):tA(i,"updateDoc",e._key,t)).toMutation(e._key,Cx.exists(!0))])}function YA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=va(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||SN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(SN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof gN)l=dN(e.firestore,CN),f=Lw(e._key.path),c={next:function(t){n[s]&&n[s](JA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=dN(e,kN);l=dN(p.firestore,CN),f=p._query;var v=new KA(l);c={next:function(e){n[s]&&n[s](new zA(l,v,p,e))},error:n[s+1],complete:n[s+2]},mA(e._query)}return function(e,t,n,r){var i=new FC(r),a=new ST(t,i,n);return e.asyncQueue.enqueueAndForget(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kT,t.next=3,rN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wT,t.next=3,rN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NN(l),f,h,c)}function $A(e,t){return function(e,t){var n=new FC(t);return e.asyncQueue.enqueueAndForget(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mg(e).Au.add(t),t.next()},t.next=3,rN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.yc(),e.asyncQueue.enqueueAndForget(ga(ma().mark((function t(){return ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mg(e).Au.delete(t)},t.next=3,rN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NN(e=dN(e,CN)),SN(t)?t:{next:t})}function XA(e,t){return function(e,t){var n=new Ug;return e.asyncQueue.enqueueAndForget(ga(ma().mark((function r(){return ma().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=qT,r.next=3,tN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(NN(e),t)}function JA(e,t,n){var r=n.docs.get(t._key),i=new KA(e);return new UA(e,i,t._key,r,new FA(n.hasPendingWrites,n.fromCache),t.converter)}var ZA={maxAttempts:5},eP=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=GN(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=tP(e,this._firestore),i=MA(r.converter,t,n),a=QN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Cx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=tP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=va(t))||t instanceof FN?nA(this._dataReader,"WriteBatch.update",i._key,t,n,o):tA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Cx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=tP(e,this._firestore);return this._mutations=this._mutations.concat(new qx(t._key,Cx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Fg(jg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function tP(e,t){if((e=va(e)).firestore!==t)throw new Fg(jg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var nP=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=tP(e,this._firestore),i=new KA(this._firestore);return Qo(y(n.prototype),"get",this).call(this,e).then((function(e){return new UA(t._firestore,i,r._key,e._document,new FA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=GN(t)}return p(e,[{key:"get",value:function(e){var t=this,n=tP(e,this._firestore),r=new jA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Dg();var i=e[0];if(i.isFoundDocument())return new dA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dA(t._firestore,r,n._key,null,n.converter);throw Dg()}))}},{key:"set",value:function(e,t,n){var r=tP(e,this._firestore),i=MA(r.converter,t,n),a=QN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=tP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=va(t))||t instanceof FN?nA(this._dataReader,"Transaction.update",i._key,t,n,o):tA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=tP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function rP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JN("arrayUnion",t)}function iP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Tg=e}(po),oo(new ka("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new CN(new qg(e.getProvider("auth-internal")),new Gg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fg(jg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ab(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),bo(Eg,"3.10.1",e),bo(Eg,"3.10.1","esm2017")}();function aP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function oP(){if("undefined"===typeof Uint8Array)throw new Fg("unimplemented","Uint8Arrays are not available in this environment.")}function uP(){if("undefined"==typeof atob)throw new Fg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var sP=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return uP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return oP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return uP(),new e(jN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return oP(),new e(jN.fromUint8Array(t))}}]),e}();function cP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var lP=function(){function e(){l(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){MN(e=dN(e,CN));var n=NN(e);if(n._uninitializedComponentsProvider)throw new Fg(jg.FAILED_PRECONDITION,"SDK cache is already specified.");Og("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new MC;return PN(n,i,new DC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){MN(e=dN(e,CN));var t=NN(e);if(t._uninitializedComponentsProvider)throw new Fg(jg.FAILED_PRECONDITION,"SDK cache is already specified.");Og("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new MC;return PN(t,r,new LC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Fg(jg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ug;return e._queue.enqueueAndForgetEvenWhileRestricted(ga(ma().mark((function n(){return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ga(ma().mark((function e(t){var n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wk.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(CE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),fP=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ab||(this._appCompat=t)}return p(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Og("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ON(this._delegate)}},{key:"disableNetwork",value:function(){return RN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&cN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ug;return e.asyncQueue.enqueueAndForget(ga(ma().mark((function n(){return ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=eC,n.next=3,tN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(NN(e=dN(e,CN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return $A(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Fg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new EP(this,wN(this._delegate,e))}catch(t){throw yP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new mP(this,xN(this._delegate,e))}catch(t){throw yP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new xP(this,function(e,t){if(e=dN(e,mN),sN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fg(jg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kN(e,null,function(e){return new Rw(nk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw yP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=dN(e,CN);var r=Object.assign(Object.assign({},ZA),n);return function(e){if(e.maxAttempts<1)throw new Fg(jg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ug;return e.asyncQueue.enqueueAndForget(ga(ma().mark((function i(){var a;return ma().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nN(e);case 2:a=i.sent,new zC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(NN(e),(function(n){return t(new nP(e,n))}),r)}(this._delegate,(function(n){return e(new dP(t,n))}))}},{key:"batch",value:function(){var e=this;return NN(this._delegate),new pP(new eP(this._delegate,(function(t){return XA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return DN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return LN(this._delegate,e).then((function(e){return e?new xP(t,e):null}))}}]),e}(),hP=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new sP(new jN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return mP.forKey(t,this.firestore,null)}}]),n}(LA);var dP=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new hP(t)}return p(e,[{key:"get",value:function(e){var t=this,n=SP(e);return this._delegate.get(n).then((function(e){return new bP(t._firestore,new UA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SP(e);return n?(aP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SP(e);return this._delegate.delete(t),this}}]),e}(),pP=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=SP(e);return n?(aP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),vP=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new VA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new hP(t),n),i.set(n,a)),a}}]),e}();vP.INSTANCES=new WeakMap;var mP=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hP(t)}return p(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new EP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new EP(this.firestore,wN(this._delegate,e))}catch(t){throw yP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=va(e))instanceof gN&&_N(this._delegate,e)}},{key:"set",value:function(e,t){t=aP("DocumentReference.set",t);try{return t?GA(this._delegate,e,t):GA(this._delegate,e)}catch(n){throw yP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QA(this._delegate,e):QA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw yP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return XA(dN(e.firestore,CN),[new qx(e._key,Cx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gP(n),a=kP(n,(function(t){return new bP(e.firestore,new UA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return YA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dN(e,gN);var t=dN(e.firestore,CN);return aN(NN(t),e._key,{source:"server"}).then((function(n){return JA(t,e,n)}))}(this._delegate):function(e){e=dN(e,gN);var t=dN(e.firestore,CN);return aN(NN(t),e._key).then((function(n){return JA(t,e,n)}))}(this._delegate),t.then((function(e){return new bP(n.firestore,new UA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Fg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new gN(n._delegate,r,new ak(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new gN(n._delegate,r,t))}}]),e}();function yP(e,t,n){return e.message=e.message.replace(t,n),e}function gP(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!cP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cP(e[0])?e[0]:cP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bP=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new mP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return qA(this._delegate,e._delegate)}}]),e}(),wP=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Dg()}(void 0!==t),t}}]),n}(bP),xP=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hP(t)}return p(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,kA(this._delegate,function(e,t,n){var r=t,i=vA("where",e);return bA._create(i,r,n)}(t,n,r)))}catch(i){throw yP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,kA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vA("orderBy",e);return xA._create(n,t)}(t,n)))}catch(r){throw yP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,kA(this._delegate,function(e){return pN("limit",e),_A._create("limit",e,"F")}(t)))}catch(n){throw yP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,kA(this._delegate,function(e){return pN("limitToLast",e),_A._create("limitToLast",e,"L")}(t)))}catch(n){throw yP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,kA(this._delegate,EA.apply(void 0,arguments)))}catch(t){throw yP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,kA(this._delegate,SA.apply(void 0,arguments)))}catch(t){throw yP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,kA(this._delegate,CA.apply(void 0,arguments)))}catch(t){throw yP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,kA(this._delegate,NA.apply(void 0,arguments)))}catch(t){throw yP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return IN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?HA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dN(e,kN);var t=dN(e.firestore,CN),n=NN(t),r=new KA(t);return oN(n,e._query,{source:"server"}).then((function(n){return new zA(t,r,e,n)}))}(this._delegate):function(e){e=dN(e,kN);var t=dN(e.firestore,CN),n=NN(t),r=new KA(t);return mA(e._query),oN(n,e._query).then((function(n){return new zA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new IP(n.firestore,new zA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gP(n),a=kP(n,(function(t){return new IP(e.firestore,new zA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return YA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),_P=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new wP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),IP=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new xP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new wP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new _P(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new wP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return qA(this._delegate,e._delegate)}}]),e}(),EP=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return p(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new mP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new mP(this.firestore,void 0===e?xN(this._delegate):xN(this._delegate,e))}catch(t){throw yP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=dN(e.firestore,CN),r=xN(e),i=MA(e.converter,t);return XA(n,[QN(GN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Cx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new mP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return _N(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(vP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(xP);function SP(e){return dN(e,gN)}var TP=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(FN,n)}return p(e,[{key:"isEqual",value:function(e){return(e=va(e))instanceof FN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ik.keyField().canonicalString())}}]),e}(),CP=function(){function e(t){l(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new XN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new YN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=rP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=iP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new eA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),NP={Firestore:fP,GeoPoint:VN,Timestamp:Zg,Blob:sP,Transaction:dP,WriteBatch:pP,DocumentReference:mP,DocumentSnapshot:bP,Query:xP,QueryDocumentSnapshot:wP,QuerySnapshot:IP,CollectionReference:EP,FieldPath:TP,FieldValue:CP,setLogLevel:function(e){!function(e){Cg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ka("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},NP)))}(e,(function(e,t){return new fP(e,t,new lP)})),e.registerVersion("@firebase/firestore-compat","0.3.7")}(Ho);var AP,PP="firebasestorage.googleapis.com",OP="storageBucket",RP=function(e){m(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l(this,n),(i=t.call(this,DP(e),"Firebase Storage: ".concat(r," (").concat(DP(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(k(i),n.prototype),i}return p(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return DP(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(na);function DP(e){return"storage/"+e}function LP(){return new RP(AP.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function MP(){return new RP(AP.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jP(){return new RP(AP.CANCELED,"User canceled the upload/download.")}function FP(e){return new RP(AP.INVALID_ARGUMENT,e)}function UP(){return new RP(AP.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(AP||(AP={}));var VP,zP=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return p(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new RP(AP.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===PP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new RP(AP.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),BP=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return p(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function qP(e,t,n,r){if(r<t)throw FP("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw FP("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function KP(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function WP(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(VP||(VP={}));var HP=function(){function e(t,n,r,i,a,o,u,s,c,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return p(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=LP();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?UP():jP());else i(MP())}};this.canceled_?t(0,new GP(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new GP(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===VP.NO_ERROR,a=r.getStatus();if(!n||WP(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===VP.ABORT;t(!1,new GP(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new GP(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),GP=p((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function QP(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var YP=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof zP?n:zP.makeFromUrl(n,t.host)}return p(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new zP(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return QP(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new zP(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new RP(AP.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function $P(e,t){var n=null===t||void 0===t?void 0:t[OP];return null==n?null:zP.makeFromBucketSpec(n,e)}var XP=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=PP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?zP.makeFromBucketSpec(i,this._host):$P(this._host,this.app.options)}return p(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=zP.makeFromBucketSpec(this._url,e):this._bucket=$P(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){qP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){qP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ga(ma().mark((function e(){var t,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ga(ma().mark((function e(){var t,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new YP(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new BP(UP());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=KP(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new HP(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ga(ma().mark((function e(t,n){var r,i,a,o;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=_(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),JP="@firebase/storage",ZP="0.11.2",eO="storage";function tO(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Yi(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function nO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new XP(r,i,a,n,po)}oo(new ka(eO,nO,"PUBLIC").setMultipleInstances(!0)),bo(JP,ZP,""),bo(JP,ZP,"esm2017");var rO=Ho.initializeApp({apiKey:"AIzaSyCu1ei4KeDp0tKPnBeI4z1YuNUc7qZvQBY",authDomain:"spotify-clone-8e736.firebaseapp.com",projectId:"spotify-clone-8e736",storageBucket:"spotify-clone-8e736.appspot.com",messagingSenderId:"143538403328",appId:"1:143538403328:web:a8dfbe31ae04eee0ab40e5"}),iO=rO.firestore(),aO=Ho.auth(),oO=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo(),t=arguments.length>1?arguments[1]:void 0,n=uo(e=va(e),eO).getImmediate({identifier:t}),r=Hi("storage");r&&tO.apply(void 0,[n].concat(c(r)))}(rO),new Ho.auth.GoogleAuthProvider),uO=new Ho.auth.GithubAuthProvider,sO=new Ho.auth.FacebookAuthProvider,cO=new Ho.auth.TwitterAuthProvider,lO=iO,fO=Vr({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),hO=fO.actions,dO=hO.login,pO=hO.logout,vO=function(e){return e.user.user},mO=fO.reducer;var yO=function(){Ht(vO);var e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=function(e){lO.collection("users").doc(null===e||void 0===e?void 0:e.uid).onSnapshot((function(t){t.data()||lO.collection("users").doc(null===e||void 0===e?void 0:e.uid).set({email:null===e||void 0===e?void 0:e.email,username:null===e||void 0===e?void 0:e.displayName,photoURL:null===e||void 0===e?void 0:e.photoURL,mstatus:"NA",uploads:"0",vidUploads:"0",audUploads:"0",favourites:[]})}))};return(0,Ke.jsx)("div",{className:"login__wrapper",children:(0,Ke.jsx)("div",{className:"login__container",children:(0,Ke.jsxs)("div",{className:"login__form__wrapper",children:[(0,Ke.jsx)("img",{className:"login__logo",src:"https://logowik.com/content/uploads/images/674_spotify1.jpg",alt:"SSDC"}),(0,Ke.jsxs)("form",{className:"login__form",children:[(0,Ke.jsx)("span",{children:(0,Ke.jsx)("input",{ref:e,type:"text",placeholder:"E-mail",autoComplete:"on"})}),(0,Ke.jsx)("span",{children:(0,Ke.jsx)("input",{ref:t,type:"password",placeholder:"Password",autoComplete:"on"})})]}),(0,Ke.jsx)("button",{onClick:function(n){n.preventDefault(),aO.signInWithEmailAndPassword(e.current.value,t.current.value).then((function(e){})).catch((function(e){alert(e.message)}))},className:"login__button",children:"Sign In"}),(0,Ke.jsxs)("div",{className:"login__actions",children:[(0,Ke.jsx)(Ct,{to:"/forgotpassword",children:"Forgot Password?"}),(0,Ke.jsx)(Ct,{to:"/register",children:"Sign Up"})]}),(0,Ke.jsxs)("div",{className:"auth__options",children:[(0,Ke.jsx)("p",{children:"or you can sign in with"}),(0,Ke.jsxs)("div",{className:"login__options",children:[(0,Ke.jsx)(Li,{onClick:function(){aO.signInWithPopup(oO).then((function(e){n(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__google login__option__logos",size:"30"}),(0,Ke.jsx)(Di,{onClick:function(){aO.signInWithPopup(uO).then((function(e){n(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__github login__option__logos",size:"30"}),(0,Ke.jsx)(ji,{onClick:function(){aO.signInWithPopup(cO).then((function(e){n(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__linkedin login__option__logos",size:"25",style:{borderRadius:"50%"}}),(0,Ke.jsx)(Mi,{onClick:function(){aO.signInWithPopup(sO).then((function(e){n(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__facebook login__option__logos",size:"25"})]})]}),(0,Ke.jsx)("div",{className:"welcome__note",children:(0,Ke.jsx)("h3",{children:"Welcome to Listenup"})})]})})})};var gO=function(){var e=Ht(vO),t=Se();(0,r.useEffect)((function(){e&&t("/")}),[e]);var n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DEFAULT_PhotoURL,i=(0,r.useRef)(null),a=_((0,r.useState)(null),2),o=a[0],u=a[1],s=_((0,r.useState)(null),2),c=s[0],l=s[1],f=_((0,r.useState)(null),2),h=f[0],d=f[1],p=function(e){lO.collection("users").doc(null===e||void 0===e?void 0:e.uid).onSnapshot((function(t){t.data()||lO.collection("users").doc(null===e||void 0===e?void 0:e.uid).set({email:null===e||void 0===e?void 0:e.email,username:null===e||void 0===e?void 0:e.displayName,photoURL:null===e||void 0===e?void 0:e.photoURL,uploads:"0",vidUploads:"0",audUploads:"0",favourites:[]})}))};return(0,Ke.jsx)("div",{className:"register__wrapper",children:(0,Ke.jsx)("div",{className:"register__container",children:(0,Ke.jsxs)("div",{className:"register__form__wrapper",children:[(0,Ke.jsx)("img",{className:"register__logo",src:"https://logowik.com/content/uploads/images/674_spotify1.jpg",alt:"SSDC"}),(0,Ke.jsxs)("form",{className:"register__form",children:[(0,Ke.jsx)("span",{children:(0,Ke.jsx)("input",{onChange:function(e){u(e.target.value)},type:"text",placeholder:"Username"})}),(0,Ke.jsx)("span",{children:(0,Ke.jsx)("input",{onChange:function(e){l(e.target.value)},type:"password",placeholder:"Password"})}),(0,Ke.jsx)("span",{children:(0,Ke.jsx)("input",{onChange:function(e){d(e.target.value)},type:"password",placeholder:"Confirm password"})}),(0,Ke.jsx)("span",{children:(0,Ke.jsx)("input",{ref:i,type:"email",placeholder:"E-mail"})})]}),(0,Ke.jsx)("button",{disabled:c!==h,onClick:function(){aO.createUserWithEmailAndPassword(i.current.value,h).then((function(e){lO.collection("users").doc(null===e||void 0===e?void 0:e.user.uid).set({email:e.user.email,username:o,photoURL:n,uploads:"0",vidUploads:"0",audUploads:"0",favourites:[]})})).catch((function(e){alert(e.message)}))},className:c!==h?"register__button__disabled":"register__button",children:"Sign Up"}),(0,Ke.jsxs)("div",{className:"register__actions",children:["Have an account?",(0,Ke.jsx)(Ct,{to:"/login",className:"register__signin",children:"Sign In"})]}),(0,Ke.jsxs)("div",{className:"auth__options",children:[(0,Ke.jsx)("p",{children:"or you can sign in with"}),(0,Ke.jsxs)("div",{className:"register__options",children:[(0,Ke.jsx)(Li,{onClick:function(){aO.signInWithPopup(oO).then((function(e){p(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__google register__option__logos",size:"30"}),(0,Ke.jsx)(Di,{onClick:function(){aO.signInWithPopup(uO).then((function(e){p(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__github register__option__logos",size:"30"}),(0,Ke.jsx)(ji,{onClick:function(){aO.signInWithPopup(cO).then((function(e){p(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__linkedin register__option__logos",size:"25",style:{borderRadius:"50%"}}),(0,Ke.jsx)(Mi,{onClick:function(){aO.signInWithPopup(sO).then((function(e){p(e.user)})).catch((function(e){alert(e.message)}))},className:"logo__facebook register__option__logos",size:"25"})]})]}),(0,Ke.jsx)("div",{className:"welcome__note",children:(0,Ke.jsx)("h3",{children:"Welcome to Listenup"})})]})})})};var kO=function(){var e=_((0,r.useState)(null),2),t=e[0],n=e[1],i=_((0,r.useState)(null),2),a=i[0],o=i[1],u=_((0,r.useState)(!1),2),s=u[0],c=u[1],l=_((0,r.useState)(!0),2),f=l[0],h=l[1],d=function(e){e.preventDefault(),aO.sendPasswordResetEmail(t).then((function(){c(!0),h(!1)})).catch((function(e){if("auth/user-not-found"===e.code)o("Please enter your registered email only!");else o("invalid email")})),setTimeout((function(){h(!0)}),5e3)};return(0,Ke.jsx)("div",{className:"forgot__wrapper",children:s?(0,Ke.jsxs)("div",{className:"verify__container",children:[(0,Ke.jsx)("div",{className:"running",children:(0,Ke.jsx)("div",{className:"outer",children:(0,Ke.jsxs)("div",{className:"body",children:[(0,Ke.jsx)("div",{className:"arm behind"}),(0,Ke.jsx)("div",{className:"arm front"}),(0,Ke.jsx)("div",{className:"leg behind"}),(0,Ke.jsx)("div",{className:"leg front"})]})})}),(0,Ke.jsx)("h1",{className:"forgot__sent",children:"Please Check your mail, We have sent a Reset password link in there"}),(0,Ke.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"center"},children:[(0,Ke.jsx)("button",{disabled:!f,className:f?"active":"inactive",onClick:d,children:"Resend"}),(0,Ke.jsx)("button",{className:"active",children:(0,Ke.jsx)(Ct,{to:"/",children:"Cancel"})})]}),!f&&(0,Ke.jsx)("h5",{className:"alert",children:"Kindly wait for 30 seconds"})]}):(0,Ke.jsx)("div",{className:"forgot__container",children:(0,Ke.jsxs)("div",{className:"forgot__form__wrapper",children:[(0,Ke.jsx)("h1",{className:"forgot__logo",children:"Logo"}),(0,Ke.jsxs)("form",{className:"login__form",children:[(0,Ke.jsx)("span",{children:(0,Ke.jsx)("input",{onChange:function(e){o("Invalid email"),n(e.target.value)},type:"text",onKeyUp:function(){var e=null;(function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)})(t)||(e="Invalid email"),o(e)},placeholder:"Enter your email here",autoComplete:"on"})}),(0,Ke.jsx)("span",{style:{color:"red",fontSize:"14px",zIndex:a?"-1":"1",textAlign:"center"},className:a?"showErr":"",children:a||!t?a:"\u2705"})]}),(0,Ke.jsx)("button",{onClick:d,disabled:!(!a&&t),className:a||!t?"register__button__disabled":"login__button",children:"Send Reset Link"})]})})})};var bO=function(e){var t=e.item,n=tn(),r=Ht((function(e){return e.player})),i=r.current,a=r.playing,o=r.controls,u=(null===i||void 0===i?void 0:i.id)===t.id&&a;return(0,Ke.jsxs)(Nt,{to:"/",className:"bg-footer p-4 rounded hover:bg-active group",style:{margin:"7px"},children:[(0,Ke.jsxs)("div",{className:"pt-[100%] relative mb-4",children:[(0,Ke.jsx)("img",{src:t.image,className:"absolute inset-0 object-cover w-full h-full ".concat(function(e){switch(e.type){case"artist":return"rounded-full";case"podcast":return"rounded-xl";default:return"rounded"}}(t))}),(0,Ke.jsx)("button",{onClick:function(){i.id===t.id?a?o.pause():o.play():n(Zr(t))},className:"w-10 h-10 rounded-full bg-primary absolute group-hover:flex group-focus:flex bottom-2 right-2 items-center justify-center ".concat(u?"flex":"hidden"),children:(0,Ke.jsx)(bt,{name:u?"pause":"play",size:16})})]}),(0,Ke.jsx)("h6",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base font-semibold",children:t.title}),(0,Ke.jsx)("p",{className:"line-clamp-2 text-link text-sm mt-1",children:t.description})]},t.id)};var wO=function(e){var t=e.title,n=e.more,r=void 0!==n&&n;return(0,Ke.jsxs)("header",{className:"flex items-center justify-between mb-4",children:[(0,Ke.jsx)(Nt,{to:null!==r&&void 0!==r?r:"#",children:(0,Ke.jsx)("h3",{className:"text-2xl text-white font-semibold tracking-tight hover:underline",children:t})}),r&&(0,Ke.jsx)(Nt,{className:"text-xs hover:underline font-semibold uppercase text-link tracking-wider",to:r,children:"SEE ALL"})]})};var xO=function(e){var t=e.title,n=e.more,r=void 0!==n&&n,i=e.items;return(0,Ke.jsxs)("section",{children:[(0,Ke.jsx)(wO,{title:t,more:r}),(0,Ke.jsx)("div",{className:"grid grid-cols-5 gap-x-6",children:i.map((function(e){return(0,Ke.jsx)(bO,{item:e},e.id)}))})]})},_O=[{id:1,title:"Intouchables - Soundtracks OST",description:"Original Soundtrack",artist:"Tayfun Abi",image:"https://i.scdn.co/image/ab67706c0000da84fcb8b92f2615d3261b8eb146",type:"album",src:"https://freesound.org/data/previews/612/612095_5674468-lq.mp3",isVideo:!0,video:"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4"},{id:2,title:"Peaceful Piano",artist:"Murat Abi",description:"Relax and indulge with beautiful piano pieces",image:"https://i.scdn.co/image/ab67706f00000002ca5a7517156021292e5663a6",type:"album",src:"https://freesound.org/data/previews/612/612092_7037-lq.mp3",isVideo:!0,video:"https://test-vi\tdeos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4"},{id:3,title:"Hang Massive",artist:"Mert Abi",description:"Artist",image:"https://i.scdn.co/image/ab67616100005174802686196d39eb0b7b5cd8b1",type:"artist",src:"https://freesound.org/data/previews/612/612087_1648170-lq.mp3",isVideo:!1},{id:4,title:"Intouchables - Soundtracks OST",artist:"G\xf6khan Abi",description:"Original Soundtrack",image:"https://i.scdn.co/image/d39397d2f6a1525b3fe90369c89ea2d94aac5714",type:"podcast",src:"https://freesound.org/data/previews/612/612085_28867-lq.mp3",isVideo:!1},{id:5,title:"Intouchables - Soundtracks OST",artist:"Mehmet Abi",description:"Original Soundtrack",image:"https://i.scdn.co/image/ab67706c0000da84fcb8b92f2615d3261b8eb146",type:"album",src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",isVideo:!1}],IO=Vr({name:"podcasts",initialState:{podcasts:null,artists:null,genre:null},reducers:{storeAllPodcasts:function(e,t){e.podcasts=t.payload},storeAllArtists:function(e,t){e.artists=t.payload},storeAllGenres:function(e,t){e.genre=t.payload}}}),EO=IO.actions,SO=(EO.storeAllArtists,EO.storeAllGenres,EO.storeAllPodcasts),TO=function(e){return e.podcasts},CO=IO.reducer;var NO=function(){var e=Ht(TO).podcasts,t=Ht(vO);return(0,Ke.jsxs)("div",{className:"grid gap-y-8",children:[(0,Ke.jsx)(xO,{title:"Recently Uploaded",items:e}),(0,Ke.jsx)(xO,{title:"Artists",items:_O}),(0,Ke.jsx)(xO,{title:"Made For ".concat(null===t||void 0===t?void 0:t.username),items:_O})]})};var AO=function(){var e=Se();return(0,Ke.jsxs)("nav",{className:"flex items-center gap-x-4",children:[(0,Ke.jsx)("button",{onClick:function(){return e(-1)},className:"w-8 h-8 flex items-center justify-center rounded-full bg-black bg-opacity-70",children:(0,Ke.jsx)(bt,{size:22,name:"prev"})}),(0,Ke.jsx)("button",{onClick:function(){return e(1)},className:"w-8 h-8 flex items-center justify-center rounded-full bg-black bg-opacity-70",children:(0,Ke.jsx)(bt,{size:22,name:"next"})})]})};function PO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OO(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return"function"==typeof n?n.apply(void 0,i):n}var o=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(o,OO),o}function RO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var DO=["static"],LO=["unmount"],MO=["as","children","refName"],jO=function(e){return e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e}(jO||{}),FO=function(e){return e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e}(FO||{});function UO(e){var t=e.ourProps,n=e.theirProps,r=e.slot,i=e.defaultTag,a=e.features,o=e.visible,u=void 0===o||o,s=e.name,c=zO(n,t);if(u)return VO(c,r,i,s);var l=null!=a?a:0;if(2&l){var f=c.static,h=void 0!==f&&f,d=PO(c,DO);if(h)return VO(d,r,i,s)}if(1&l){var p,v=c.unmount,m=void 0===v||v,y=PO(c,LO);return OO(m?0:1,(ir(p={},0,(function(){return null})),ir(p,1,(function(){return VO(or(or({},y),{},{hidden:!0,style:{display:"none"}}),r,i,s)})),p))}return VO(c,r,i,s)}function VO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=KO(e,["unmount","static"]),o=a.as,u=void 0===o?n:o,s=a.children,c=a.refName,l=void 0===c?"ref":c,f=PO(a,MO),h=void 0!==e.ref?ir({},l,e.ref):{},d="function"==typeof s?s(t):s;"className"in f&&f.className&&"function"==typeof f.className&&(f.className=f.className(t));var p={};if(t){for(var v=!1,m=[],y=0,g=Object.entries(t);y<g.length;y++){var k=_(g[y],2),b=k[0],w=k[1];"boolean"==typeof w&&(v=!0),!0===w&&m.push(b)}v&&(p["data-headlessui-state"]=m.join(" "))}if(u===r.Fragment&&Object.keys(qO(f)).length>0){if(!(0,r.isValidElement)(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(f).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"));var x=d.props,I="function"==typeof(null==x?void 0:x.className)?function(){return RO(null==x?void 0:x.className.apply(x,arguments),f.className)}:RO(null==x?void 0:x.className,f.className),E=I?{className:I}:{};return(0,r.cloneElement)(d,Object.assign({},zO(d.props,qO(KO(f,["ref"]))),p,h,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{ref:t.every((function(e){return null==e}))?void 0:function(e){var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;null!=i&&("function"==typeof i?i(e):i.current=e)}}catch(a){r.e(a)}finally{r.f()}}}}(d.ref,h.ref),E))}return(0,r.createElement)(u,Object.assign({},KO(f,["ref"]),u!==r.Fragment&&h,u!==r.Fragment&&p),d)}function zO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];for(var r={},i={},a=0,o=t;a<o.length;a++){var u=o[a];for(var s in u)s.startsWith("on")&&"function"==typeof u[s]?(null!=i[s]||(i[s]=[]),i[s].push(u[s])):r[s]=u[s]}if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map((function(e){return[e,void 0]}))));var c=function(e){Object.assign(r,ir({},e,(function(t){for(var n=i[e],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var u,s=T(n);try{for(s.s();!(u=s.n()).done;){var c=u.value;if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;c.apply(void 0,[t].concat(a))}}catch(l){s.e(l)}finally{s.f()}})))};for(var l in i)c(l);return r}function BO(e){var t;return Object.assign((0,r.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function qO(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}function KO(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),i=T(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a in r&&delete r[a]}}catch(o){i.e(o)}finally{i.f()}return r}function WO(){var e=[],t={addEventListener:function(e,n,r,i){return e.addEventListener(n,r,i),t.add((function(){return e.removeEventListener(n,r,i)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);return t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.requestAnimationFrame((function(){return t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);return t.add((function(){return clearTimeout(e)}))})),microTask:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i={current:!0};return function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}((function(){i.current&&n[0]()})),t.add((function(){i.current=!1}))},style:function(e,t,n){var r=e.style.getPropertyValue(t);return Object.assign(e.style,ir({},t,n)),this.add((function(){Object.assign(e.style,ir({},t,r))}))},group:function(e){var t=WO();return e(t),this.add((function(){return t.dispose()}))},add:function(t){return e.push(t),function(){var n=e.indexOf(t);if(n>=0){var r,i=T(e.splice(n,1));try{for(i.s();!(r=i.n()).done;){(0,r.value)()}}catch(a){i.e(a)}finally{i.f()}}}},dispose:function(){var t,n=T(e.splice(0));try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}}};return t}function HO(){var e=_((0,r.useState)(WO),1)[0];return(0,r.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}var GO=Object.defineProperty,QO=function(e,t,n){return function(e,t,n){t in e?GO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},YO=function(){function e(){l(this,e),QO(this,"current",this.detect()),QO(this,"handoffState","pending"),QO(this,"currentId",0)}return p(e,[{key:"set",value:function(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}},{key:"reset",value:function(){this.set(this.detect())}},{key:"nextId",value:function(){return++this.currentId}},{key:"isServer",get:function(){return"server"===this.current}},{key:"isClient",get:function(){return"client"===this.current}},{key:"detect",value:function(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}},{key:"handoff",value:function(){"pending"===this.handoffState&&(this.handoffState="complete")}},{key:"isHandoffComplete",get:function(){return"complete"===this.handoffState}}]),e}(),$O=new YO,XO=function(e,t){$O.isServer?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)};function JO(e){var t=(0,r.useRef)(e);return XO((function(){t.current=e}),[e]),t}var ZO,eR=function(e){var t=JO(e);return r.useCallback((function(){return t.current.apply(t,arguments)}),[t])},tR=Symbol();function nR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=(0,r.useRef)(t);(0,r.useEffect)((function(){i.current=t}),[t]);var a=eR((function(e){var t,n=T(i.current);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!=r&&("function"==typeof r?r(e):r.current=e)}}catch(a){n.e(a)}finally{n.f()}}));return t.every((function(e){return null==e||(null==e?void 0:e[tR])}))?void 0:a}var rR=null!=(ZO=r.useId)?ZO:function(){var e=function(){var e=_((0,r.useState)($O.isHandoffComplete),2),t=e[0],n=e[1];return t&&!1===$O.isHandoffComplete&&n(!1),(0,r.useEffect)((function(){!0!==t&&n(!0)}),[t]),(0,r.useEffect)((function(){return $O.handoff()}),[]),t}(),t=_(r.useState(e?function(){return $O.nextId()}:null),2),n=t[0],i=t[1];return XO((function(){null===n&&i($O.nextId())}),[n]),null!=n?""+n:void 0},iR=function(e){return e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e}(iR||{});var aR=function(e){return e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e}(aR||{});function oR(e,t){var n=t.resolveItems();if(n.length<=0)return null;var r=t.resolveActiveIndex(),i=null!=r?r:-1,a=function(){switch(e.focus){case 0:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case 1:var r=n.slice().reverse().findIndex((function(e,n,r){return!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)}));return-1===r?r:n.length-1-r;case 2:return n.findIndex((function(e,n){return!(n<=i)&&!t.resolveDisabled(e)}));case 3:var a=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===a?a:n.length-1-a;case 4:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===a?r:a}function uR(e){for(var t=e.parentElement,n=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;var r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}function sR(e){return $O.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}var cR=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(","),lR=function(e){return e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e}(lR||{}),fR=function(e){return e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e}(fR||{}),hR=function(e){return e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e}(hR||{});function dR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(cR)).sort((function(e,t){return Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))}))}var pR=function(e){return e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e}(pR||{});function vR(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(n=sR(e))?void 0:n.body)&&OO(r,(ir(t={},0,(function(){return e.matches(cR)})),ir(t,1,(function(){for(var t=e;null!==t;){if(t.matches(cR))return!0;t=t.parentElement}return!1})),t))}function mR(e){var t=sR(e);WO().nextFrame((function(){t&&!vR(t.activeElement,0)&&function(e){null==e||e.focus({preventScroll:!0})}(e)}))}var yR=function(e){return e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e}(yR||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(function(e){1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));var gR=["textarea","input"].join(",");function kR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.slice().sort((function(e,n){var r=t(e),i=t(n);if(null===r||null===i)return 0;var a=r.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function bR(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sorted,i=void 0===r||r,a=n.relativeTo,o=void 0===a?null:a,u=n.skipElements,s=void 0===u?[]:u,c=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?i?kR(e):e:dR(e);s.length>0&&l.length>1&&(l=l.filter((function(e){return!s.includes(e)}))),o=null!=o?o:c.activeElement;var f,h=function(){if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),d=function(){if(1&t)return 0;if(2&t)return Math.max(0,l.indexOf(o))-1;if(4&t)return Math.max(0,l.indexOf(o))+1;if(8&t)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),p=32&t?{preventScroll:!0}:{},v=0,m=l.length;do{if(v>=m||v+m<=0)return 0;var y=d+v;if(16&t)y=(y+m)%m;else{if(y<0)return 3;if(y>=m)return 1}null==(f=l[y])||f.focus(p),v+=h}while(f!==c.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,gR))&&n}(f)&&f.select(),2}(dR(),t,{relativeTo:e})}function wR(e,t,n){var i=JO(t);(0,r.useEffect)((function(){function t(e){i.current(e)}return document.addEventListener(e,t,n),function(){return document.removeEventListener(e,t,n)}}),[e,n])}var xR=(0,r.createContext)(null);xR.displayName="OpenClosedContext";var _R=function(e){return e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e}(_R||{});function IR(e){var t=e.value,n=e.children;return r.createElement(xR.Provider,{value:t},n)}function ER(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function SR(e,t){var n=_((0,r.useState)((function(){return ER(e)})),2),i=n[0],a=n[1];return XO((function(){a(ER(e))}),[e.type,e.as]),XO((function(){i||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&a("button")}),[i,t]),i}function TR(e){return[e.screenX,e.screenY]}var CR,NR=["id"],AR=["id"],PR=["id","disabled"],OR=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(OR||{}),RR=function(e){return e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e}(RR||{}),DR=function(e){return e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e}(DR||{});function LR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=kR(t(e.items.slice()),(function(e){return e.dataRef.current.domRef.current})),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}var MR=(ir(CR={},1,(function(e){return 1===e.menuState?e:or(or({},e),{},{activeItemIndex:null,menuState:1})})),ir(CR,0,(function(e){return 0===e.menuState?e:or(or({},e),{},{menuState:0})})),ir(CR,2,(function(e,t){var n,r=LR(e),i=oR(t,{resolveItems:function(){return r.items},resolveActiveIndex:function(){return r.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return or(or(or({},e),r),{},{searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1})})),ir(CR,3,(function(e,t){var n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),a=i?e.items.indexOf(i):-1;return-1===a||a===e.activeItemIndex?or(or({},e),{},{searchQuery:r}):or(or({},e),{},{searchQuery:r,activeItemIndex:a,activationTrigger:1})})),ir(CR,4,(function(e){return""===e.searchQuery?e:or(or({},e),{},{searchQuery:"",searchActiveItemIndex:null})})),ir(CR,5,(function(e,t){var n=LR(e,(function(e){return[].concat(c(e),[{id:t.id,dataRef:t.dataRef}])}));return or(or({},e),n)})),ir(CR,6,(function(e,t){var n=LR(e,(function(e){var n=e.findIndex((function(e){return e.id===t.id}));return-1!==n&&e.splice(n,1),e}));return or(or(or({},e),n),{},{activationTrigger:1})})),CR),jR=(0,r.createContext)(null);function FR(e){var t=(0,r.useContext)(jR);if(null===t){var n=new Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,FR),n}return t}function UR(e,t){return OO(t.type,MR,e,t)}jR.displayName="MenuContext";var VR=r.Fragment;var zR=jO.RenderStrategy|jO.Static;var BR=r.Fragment;var qR=BO((function(e,t){var n,i=(0,r.useReducer)(UR,{menuState:1,buttonRef:(0,r.createRef)(),itemsRef:(0,r.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),a=_(i,2),o=a[0],u=o.menuState,s=o.itemsRef,c=o.buttonRef,l=a[1],f=nR(t);!function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,r.useRef)(!1);function a(n,r){if(i.current&&!n.defaultPrevented){var a=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),o=r(n);if(null!==o&&o.getRootNode().contains(o)){var u,s=T(a);try{for(s.s();!(u=s.n()).done;){var c=u.value;if(null!==c){var l=c instanceof HTMLElement?c:c.current;if(null!=l&&l.contains(o)||n.composed&&n.composedPath().includes(l))return}}}catch(f){s.e(f)}finally{s.f()}return!vR(o,pR.Loose)&&-1!==o.tabIndex&&n.preventDefault(),t(n,o)}}}(0,r.useEffect)((function(){requestAnimationFrame((function(){i.current=n}))}),[n]);var o=(0,r.useRef)(null);wR("mousedown",(function(e){var t,n;i.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),wR("click",(function(e){o.current&&(a(e,(function(){return o.current})),o.current=null)}),!0),wR("blur",(function(e){return a(e,(function(){return window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null}))}),!0)}([c,s],(function(e,t){var n;l({type:1}),vR(t,pR.Loose)||(e.preventDefault(),null==(n=c.current)||n.focus())}),0===u);var h=eR((function(){l({type:1})})),d=(0,r.useMemo)((function(){return{open:0===u,close:h}}),[u,h]),p=e,v={ref:f};return r.createElement(jR.Provider,{value:i},r.createElement(IR,{value:OO(u,(n={},ir(n,0,_R.Open),ir(n,1,_R.Closed),n))},UO({ourProps:v,theirProps:p,slot:d,defaultTag:VR,name:"Menu"})))})),KR=BO((function(e,t){var n,i=rR(),a=e.id,o=void 0===a?"headlessui-menu-button-".concat(i):a,u=PO(e,NR),s=_(FR("Menu.Button"),2),c=s[0],l=s[1],f=nR(c.buttonRef,t),h=HO(),d=eR((function(e){switch(e.key){case iR.Space:case iR.Enter:case iR.ArrowDown:e.preventDefault(),e.stopPropagation(),l({type:0}),h.nextFrame((function(){return l({type:2,focus:aR.First})}));break;case iR.ArrowUp:e.preventDefault(),e.stopPropagation(),l({type:0}),h.nextFrame((function(){return l({type:2,focus:aR.Last})}))}})),p=eR((function(e){if(e.key===iR.Space)e.preventDefault()})),v=eR((function(t){if(uR(t.currentTarget))return t.preventDefault();e.disabled||(0===c.menuState?(l({type:1}),h.nextFrame((function(){var e;return null==(e=c.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),l({type:0})))})),m=(0,r.useMemo)((function(){return{open:0===c.menuState}}),[c]);return UO({ourProps:{ref:f,id:o,type:SR(e,c.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=c.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===c.menuState,onKeyDown:d,onKeyUp:p,onClick:v},theirProps:u,slot:m,defaultTag:"button",name:"Menu.Button"})})),WR=BO((function(e,t){var n,i,a=rR(),o=e.id,u=void 0===o?"headlessui-menu-items-".concat(a):o,s=PO(e,AR),c=_(FR("Menu.Items"),2),l=c[0],f=c[1],h=nR(l.itemsRef,t),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((function(){return sR.apply(void 0,t)}),[].concat(t))}(l.itemsRef),p=HO(),v=(0,r.useContext)(xR),m=null!==v?(v&_R.Open)===_R.Open:0===l.menuState;(0,r.useEffect)((function(){var e=l.itemsRef.current;e&&0===l.menuState&&e!==(null==d?void 0:d.activeElement)&&e.focus({preventScroll:!0})}),[l.menuState,l.itemsRef,d]),function(e){var t=e.container,n=e.accept,i=e.walk,a=e.enabled,o=void 0===a||a,u=(0,r.useRef)(n),s=(0,r.useRef)(i);(0,r.useEffect)((function(){u.current=n,s.current=i}),[n,i]),XO((function(){if(t&&o){var e=sR(t);if(e)for(var n=u.current,r=s.current,i=Object.assign((function(e){return n(e)}),{acceptNode:n}),a=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,i,!1);a.nextNode();)r(a.currentNode)}}),[t,o,u,s])}({container:l.itemsRef.current,enabled:0===l.menuState,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var y=eR((function(e){var t,n;switch(p.dispose(),e.key){case iR.Space:if(""!==l.searchQuery)return e.preventDefault(),e.stopPropagation(),f({type:3,value:e.key});case iR.Enter:if(e.preventDefault(),e.stopPropagation(),f({type:1}),null!==l.activeItemIndex)null==(n=null==(t=l.items[l.activeItemIndex].dataRef.current)?void 0:t.domRef.current)||n.click();mR(l.buttonRef.current);break;case iR.ArrowDown:return e.preventDefault(),e.stopPropagation(),f({type:2,focus:aR.Next});case iR.ArrowUp:return e.preventDefault(),e.stopPropagation(),f({type:2,focus:aR.Previous});case iR.Home:case iR.PageUp:return e.preventDefault(),e.stopPropagation(),f({type:2,focus:aR.First});case iR.End:case iR.PageDown:return e.preventDefault(),e.stopPropagation(),f({type:2,focus:aR.Last});case iR.Escape:e.preventDefault(),e.stopPropagation(),f({type:1}),WO().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case iR.Tab:e.preventDefault(),e.stopPropagation(),f({type:1}),WO().nextFrame((function(){bR(l.buttonRef.current,e.shiftKey?lR.Previous:lR.Next)}));break;default:1===e.key.length&&(f({type:3,value:e.key}),p.setTimeout((function(){return f({type:4})}),350))}})),g=eR((function(e){if(e.key===iR.Space)e.preventDefault()})),k=(0,r.useMemo)((function(){return{open:0===l.menuState}}),[l]);return UO({ourProps:{"aria-activedescendant":null===l.activeItemIndex||null==(n=l.items[l.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(i=l.buttonRef.current)?void 0:i.id,id:u,onKeyDown:y,onKeyUp:g,role:"menu",tabIndex:0,ref:h},theirProps:s,slot:k,defaultTag:"div",features:zR,visible:m,name:"Menu.Items"})})),HR=BO((function(e,t){var n=rR(),i=e.id,a=void 0===i?"headlessui-menu-item-".concat(n):i,o=e.disabled,u=void 0!==o&&o,s=PO(e,PR),c=_(FR("Menu.Item"),2),l=c[0],f=c[1],h=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===a,d=(0,r.useRef)(null),p=nR(t,d);XO((function(){if(0===l.menuState&&h&&0!==l.activationTrigger){var e=WO();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=d.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[d,h,l.menuState,l.activationTrigger,l.activeItemIndex]);var v=(0,r.useRef)({disabled:u,domRef:d});XO((function(){v.current.disabled=u}),[v,u]),XO((function(){var e,t;v.current.textValue=null==(t=null==(e=d.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[v,d]),XO((function(){return f({type:5,id:a,dataRef:v}),function(){return f({type:6,id:a})}}),[v,a]);var m=eR((function(){f({type:1})})),y=eR((function(e){if(u)return e.preventDefault();f({type:1}),mR(l.buttonRef.current)})),g=eR((function(){if(u)return f({type:2,focus:aR.Nothing});f({type:2,focus:aR.Specific,id:a})})),k=function(){var e=(0,r.useRef)([-1,-1]);return{wasMoved:function(t){var n=TR(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update:function(t){e.current=TR(t)}}}(),b=eR((function(e){return k.update(e)})),w=eR((function(e){k.wasMoved(e)&&(u||h||f({type:2,focus:aR.Specific,id:a,trigger:0}))})),x=eR((function(e){k.wasMoved(e)&&(u||h&&f({type:2,focus:aR.Nothing}))})),I=(0,r.useMemo)((function(){return{active:h,disabled:u,close:m}}),[h,u,m]);return UO({ourProps:{id:a,ref:p,role:"menuitem",tabIndex:!0===u?void 0:-1,"aria-disabled":!0===u||void 0,disabled:void 0,onClick:y,onFocus:g,onPointerEnter:b,onMouseEnter:b,onPointerMove:w,onMouseMove:w,onPointerLeave:x,onMouseLeave:x},theirProps:s,slot:I,defaultTag:BR,name:"Menu.Item"})})),GR=Object.assign(qR,{Button:KR,Items:WR,Item:HR});var QR=function(){var e=Ht(vO),t=function(e){aO.signOut()};return(0,Ke.jsx)(GR,{as:"nav",className:"relative",children:function(n){var r=n.open;return(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsxs)(GR.Button,{className:"flex items-center h-8 rounded-3xl pr-2 ".concat(r?"bg-active":"bg-black"," hover:bg-active"),children:[(0,Ke.jsx)("img",{src:e.photoURL,className:"w-8 h-8 rounded-full p-0.5 mr-2"}),(0,Ke.jsx)("span",{className:"text-sm font-semibold mr-2",children:e.username}),(0,Ke.jsx)("span",{className:r?"rotate-180":"",children:(0,Ke.jsx)(bt,{size:16,name:"downDir"})})]}),(0,Ke.jsxs)(GR.Items,{className:"absolute p-1 top-full right-0 w-48 bg-active rounded translate-y-2",children:[(0,Ke.jsx)(GR.Item,{children:function(e){var t=e.active;return(0,Ke.jsxs)("a",{className:"h-10 flex justify-between items-center px-2 text-sm rounded ".concat(t?"bg-white bg-opacity-10":""),href:"#",children:["Account",(0,Ke.jsx)(bt,{size:16,name:"external"})]})}}),(0,Ke.jsx)(GR.Item,{children:function(e){var t=e.active;return(0,Ke.jsx)("a",{className:"h-10 flex items-center px-2 text-sm rounded ".concat(t?"bg-white bg-opacity-10":""),href:"#",children:"Profile"})}}),(0,Ke.jsx)(GR.Item,{children:function(e){var n=e.active;return(0,Ke.jsx)(Ct,{onClick:t,className:"h-10 flex items-center px-2 text-sm rounded ".concat(n?"bg-white bg-opacity-10":""),to:"/",children:"Log out"})}})]})]})}})};var YR=function(){var e=_((0,r.useState)(""),2),t=e[0],n=e[1],i=tn(),a=Ht((function(e){return e.player})),o=a.current,u=(a.playing,a.controls,Ht(TO).podcasts).filter((function(e){return""===t?null:e.title.toLowerCase().includes(t)}));return(0,Ke.jsx)(Ke.Fragment,{children:(0,Ke.jsxs)("div",{className:"mr-auto ml-4 relative",children:[(0,Ke.jsx)("label",{htmlFor:"search-input",className:"text-black w-12 h-10 flex items-center justify-center absolute top-0 left-0",children:(0,Ke.jsx)(bt,{size:24,name:"search"})}),(0,Ke.jsx)("input",{autoFocus:!0,onChange:function(e){var t=e.target.value.toLowerCase();n(t)},value:t,type:"text",id:"search-input",className:"h-10 pl-12 outline-none text-black font-medium bg-white rounded-3xl text-sm placeholder-black/50 max-w-full w-[22.75rem]",placeholder:"Search for your fav podcast here"}),(0,Ke.jsx)("div",{className:"searchres",children:(0,Ke.jsx)("div",{className:"searchres__wrapper",children:(0,Ke.jsx)("ul",{className:"searchres__list",children:u.map((function(e){return(0,Ke.jsxs)("li",{onClick:function(){return function(e){n(""),o.id===e.id||i(Zr(e))}(e)},className:"seacrchres__item",children:[(0,Ke.jsx)("img",{className:"search__img",src:e.image,alt:""}),(0,Ke.jsx)("span",{children:(t=e.title,t.length>35?t.substring(0,35)+"...":t)})]},e.id);var t}))})})})]})})};var $R,XR=function(){var e=function(e){Ie()||P(!1);var t=Ee().pathname;return r.useMemo((function(){return $(e,t)}),[t,e])}("/search");return(0,Ke.jsxs)("nav",{className:"h-[3.75rem] flex items-center justify-between px-8 relative z-10",children:[(0,Ke.jsx)(AO,{}),e&&(0,Ke.jsx)(YR,{}),(0,Ke.jsx)(QR,{})]})},JR=[{id:1,title:"Podcasts",cover:"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5",color:"#27856a"},{id:2,title:"Classical Indian",cover:"https://t.scdn.co/images/ea364e99656e46a096ea1df50f581efe",color:"#1e3164"},{id:3,title:"Valentine Specials",cover:"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg",color:"#8c67ab"},{id:4,title:"Party all Night",cover:"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112",color:"#e8105b"},{id:5,title:"Indi-Pop",cover:"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg",color:"#ba5d08"},{id:1,title:"Podcasts",cover:"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5",color:"#27856a"},{id:2,title:"Classical Indian",cover:"https://t.scdn.co/images/ea364e99656e46a096ea1df50f581efe",color:"#1e3164"},{id:3,title:"Valentine Specials",cover:"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg",color:"#8c67ab"},{id:4,title:"Party all Night",cover:"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112",color:"#e8105b"},{id:5,title:"Indi-Pop",cover:"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg",color:"#ba5d08"},{id:1,title:"Podcasts",cover:"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5",color:"#27856a"},{id:2,title:"Classical Indian",cover:"https://t.scdn.co/images/ea364e99656e46a096ea1df50f581efe",color:"#1e3164"},{id:3,title:"Valentine Specials",cover:"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg",color:"#8c67ab"},{id:4,title:"Party all Night",cover:"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112",color:"#e8105b"},{id:5,title:"Indi-Pop",cover:"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg",color:"#ba5d08"},{id:1,title:"Podcasts",cover:"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5",color:"#27856a"},{id:2,title:"Classical Indian",cover:"https://t.scdn.co/images/ea364e99656e46a096ea1df50f581efe",color:"#1e3164"},{id:3,title:"Valentine Specials",cover:"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg",color:"#8c67ab"},{id:4,title:"Party all Night",cover:"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112",color:"#e8105b"},{id:5,title:"Indi-Pop",cover:"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg",color:"#ba5d08"}],ZR=[{id:1,title:"Pop",cover:"https://t.scdn.co/images/0a74d96e091a495bb09c0d83210910c3",color:"#79559f"},{id:2,title:"Hip hop",cover:"https://t.scdn.co/images/ea364e99656e46a096ea1df50f581efe",color:"#ba5d08"},{id:3,title:"Rock",cover:"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg",color:"#e51d32"},{id:4,title:"Dans ve Elektronik",cover:"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112",color:"#dc148b"}],eD=function(e,t){return(eD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},tD=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)&&i.length){var o=n.apply(null,i);o&&e.push(o)}else if("object"===a)for(var u in i)t.call(i,u)&&i[u]&&e.push(u)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}($R={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&$R.path)}},$R.exports),$R.exports);function nD(e,t,n){var r,i,a,o,u;function s(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(s,t-c):(r=null,n||(u=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(u=e.apply(a,i),a=i=null),u};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(u=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}nD.debounce=nD;var rD=nD;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var iD,aD=(iD="indiana-scroll-container",function(e,t){if(!e)return iD;var n;"string"==typeof e?n=e:t=e;var r=iD;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var i=t[n];return i&&(e+=" "+("boolean"==typeof i?r+"--"+n:r+"--"+n+"_"+i)),e}),""):"")}),oD=function(e){function t(t){var n=e.call(this,t)||this;return n.onEndScroll=function(){n.scrolling=!1,!n.pressed&&n.started&&n.processEnd()},n.onScroll=function(e){var t=n.container.current;t.scrollLeft===n.scrollLeft&&t.scrollTop===n.scrollTop||(n.scrolling=!0,n.processScroll(e),n.onEndScroll())},n.onTouchStart=function(e){var t=n.props.nativeMobileScroll;if(n.isDraggable(e.target))if(n.internal=!0,t&&n.scrolling)n.pressed=!0;else{var r=e.touches[0];n.processClick(e,r.clientX,r.clientY),!t&&n.props.stopPropagation&&e.stopPropagation()}},n.onTouchEnd=function(e){var t=n.props.nativeMobileScroll;n.pressed&&(!n.started||n.scrolling&&t?n.pressed=!1:n.processEnd(),n.forceUpdate())},n.onTouchMove=function(e){var t=n.props.nativeMobileScroll;if(n.pressed&&(!t||!n.isMobile)){var r=e.touches[0];r&&n.processMove(e,r.clientX,r.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()}},n.onMouseDown=function(e){n.isDraggable(e.target)&&n.isScrollable()&&(n.internal=!0,-1!==n.props.buttons.indexOf(e.button)&&(n.processClick(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()))},n.onMouseMove=function(e){n.pressed&&(n.processMove(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.onMouseUp=function(e){n.pressed&&(n.started?n.processEnd():(n.internal=!1,n.pressed=!1,n.forceUpdate(),n.props.onClick&&n.props.onClick(e)),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.container=r.createRef(),n.onEndScroll=rD(n.onEndScroll,300),n.scrolling=!1,n.started=!1,n.pressed=!1,n.internal=!1,n.getRef=n.getRef.bind(n),n}return function(e,t){function n(){this.constructor=e}eD(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},t.prototype.getElement=function(){return this.container.current},t.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},t.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},t.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},t.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},t.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},t.prototype.processMove=function(e,t,n){var r=this.props,i=r.horizontal,a=r.vertical,o=r.activationDistance,u=r.onScroll,s=this.container.current;this.started?(i&&(s.scrollLeft-=t-this.clientX),a&&(s.scrollTop-=n-this.clientY),u&&u({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=s.scrollLeft,this.scrollTop=s.scrollTop):(i&&Math.abs(t-this.clientX)>o||a&&Math.abs(n-this.clientY)>o)&&(this.clientX=t,this.clientY=n,this.processStart())},t.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},t.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggingClassName,i=e.className,a=e.style,o=e.hideScrollbars,u=e.component;return r.createElement(u,{className:tD(i,this.pressed&&n,aD({dragging:this.pressed,"hide-scrollbars":o,"native-scroll":this.isMobile})),style:a,ref:this.getRef,onScroll:this.onScroll},t)},t.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},t}(r.PureComponent),uD=oD;var sD=function(e){var t=e.category;return(0,Ke.jsx)("div",{style:{background:t.color},className:"rounded-md before:pt-[100%] before:block relative",children:(0,Ke.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Ke.jsx)("h3",{className:"p-4 text-2xl\ttracking-tighter font-semibold",children:t.title}),(0,Ke.jsx)("img",{src:t.cover,className:"shadow-spotify w-[6.25rem] h-[6.25rem] rotate-[25deg] translate-x-[18%] translate-y-[5%] absolute bottom-0 right-0"})]})})};var cD=function(e){var t=e.category;return(0,Ke.jsx)("div",{style:{background:t.color},className:"rounded-lg flex-shrink-0 relative w-[27.375rem] h-[13.75rem]",children:(0,Ke.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Ke.jsx)("h3",{className:"p-4 text-[2.5rem]\ttracking-tighter font-semibold",children:t.title}),(0,Ke.jsx)("img",{src:t.cover,className:"shadow-spotify w-32 h-32 rotate-[25deg] translate-x-[18%] translate-y-[5%] absolute bottom-0 right-0"})]})})};var lD=function(){var e=(0,r.useRef)(),t=_((0,r.useState)(!1),2),n=t[0],i=t[1],a=_((0,r.useState)(!1),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){if(e.current){var t=function(){var t=e.current.scrollLeft+e.current.offsetWidth===e.current.scrollWidth,n=0===e.current.scrollLeft;i(!n),u(!t)};return t(),e.current.addEventListener("scroll",t),function(){var n;null===e||void 0===e||null===(n=e.current)||void 0===n||n.removeEventListener("scroll",t)}}}),[e]),(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsxs)("section",{className:"mb-8",children:[(0,Ke.jsx)(wO,{title:"Top Podcasts"}),(0,Ke.jsxs)("div",{className:"relative",children:[n&&(0,Ke.jsx)("button",{className:"w-12 absolute -left-6 hover:scale-[1.06] z-10 top-1/2 -translate-y-1/2 h-12 rounded-full bg-white text-black flex items-center justify-center",onClick:function(){e.current.scrollLeft-=e.current.offsetWidth-300},children:(0,Ke.jsx)(bt,{name:"prev",size:24})}),o&&(0,Ke.jsx)("button",{className:"w-12 absolute -right-6 hover:scale-[1.06] z-10 top-1/2 -translate-y-1/2 h-12 rounded-full bg-white text-black flex items-center justify-center",onClick:function(){e.current.scrollLeft+=e.current.offsetWidth-300},children:(0,Ke.jsx)(bt,{name:"next",size:24})}),(0,Ke.jsx)(uD,{innerRef:e,className:"flex scrollable overflow-x gap-x-6",children:ZR.map((function(e,t){return(0,Ke.jsx)(cD,{category:e},t)}))})]})]}),(0,Ke.jsxs)("section",{children:[(0,Ke.jsx)(wO,{title:"Browse all"}),(0,Ke.jsx)("div",{className:"grid grid-cols-5 gap-6",children:JR.map((function(e,t){return(0,Ke.jsx)(sD,{category:e},t)}))})]})]})};var fD=function(){return(0,Ke.jsx)("div",{children:"Collection"})};var hD=function(){var e=Ht(vO),t=tn();return(0,r.useEffect)((function(){return aO.onAuthStateChanged((function(e){lO.collection("podcasts").onSnapshot((function(e){t(SO(e.docs.map((function(e){var t,n,r,i,a,o,u,s;return{title:null===(t=e.data())||void 0===t?void 0:t.title,id:null===e||void 0===e?void 0:e.id,description:null===(n=e.data())||void 0===n?void 0:n.description,genre:null===(r=e.data())||void 0===r?void 0:r.genre,src:null===(i=e.data())||void 0===i?void 0:i.src,video:null===(a=e.data())||void 0===a?void 0:a.src,image:null===(o=e.data())||void 0===o?void 0:o.thumbnail,artist:null===(u=e.data())||void 0===u?void 0:u.artist,isVideo:"video"===(null===(s=e.data())||void 0===s?void 0:s.type)}}))))})),e?lO.collection("users").doc(null===e||void 0===e?void 0:e.uid).onSnapshot((function(n){var r,i,a,o,u,s,c;t(dO({uid:null===e||void 0===e?void 0:e.uid,photoURL:null===(r=n.data())||void 0===r?void 0:r.photoURL,username:null===(i=n.data())||void 0===i?void 0:i.username,email:null===(a=n.data())||void 0===a?void 0:a.email,uploads:null===(o=n.data())||void 0===o?void 0:o.uploads,vidUploads:null===(u=n.data())||void 0===u?void 0:u.vidUploads,audUploads:null===(s=n.data())||void 0===s?void 0:s.audUploads,favourites:null===(c=n.data())||void 0===c?void 0:c.favourites}))})):t(pO())}))}),[]),(0,Ke.jsx)(Ke.Fragment,{children:e?(0,Ke.jsxs)(Ve,{children:[(0,Ke.jsx)(Fe,{path:"/",element:(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsxs)("div",{className:"wrapper",children:[(0,Ke.jsx)(ai,{}),(0,Ke.jsxs)("main",{className:"flex-auto overflow-auto",children:[(0,Ke.jsx)(XR,{}),(0,Ke.jsx)("div",{className:"px-8 py-5",children:(0,Ke.jsx)(NO,{})})]})]}),(0,Ke.jsx)(Si,{})]})}),(0,Ke.jsx)(Fe,{path:"/search",element:(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsxs)("div",{className:"wrapper",children:[(0,Ke.jsx)(ai,{}),(0,Ke.jsxs)("main",{className:"flex-auto overflow-auto",children:[(0,Ke.jsx)(XR,{}),(0,Ke.jsx)("div",{className:"px-8 py-5",children:(0,Ke.jsx)(lD,{})})]})]}),(0,Ke.jsx)(Si,{})]})}),(0,Ke.jsx)(Fe,{path:"/collection",element:(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsxs)("div",{className:"wrapper",children:[(0,Ke.jsx)(ai,{}),(0,Ke.jsxs)("main",{className:"flex-auto overflow-auto",children:[(0,Ke.jsx)(XR,{}),(0,Ke.jsx)("div",{className:"px-8 py-5",children:(0,Ke.jsx)(fD,{})})]})]}),(0,Ke.jsx)(Si,{})]})}),(0,Ke.jsx)(Fe,{path:"*",element:(0,Ke.jsx)(je,{to:"/"})})]}):(0,Ke.jsxs)(Ve,{children:[(0,Ke.jsx)(Fe,{path:"/",element:(0,Ke.jsx)(yO,{})}),(0,Ke.jsx)(Fe,{path:"/login",element:(0,Ke.jsx)(yO,{})}),(0,Ke.jsx)(Fe,{path:"/register",element:(0,Ke.jsx)(gO,{})}),(0,Ke.jsx)(Fe,{path:"/forgot",element:(0,Ke.jsx)(kO,{})}),(0,Ke.jsx)(Fe,{path:"*",element:(0,Ke.jsx)(je,{to:"/"})})]})})},dD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},pD=function(e){var t,n=jr(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Rr(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=dr(a)}var p=u;"function"===typeof p&&(p=p(n));var v=vr.apply(void 0,p),m=pr;c&&(m=Or(Nr({trace:!1},"object"===typeof c&&c)));var y=new Lr(v),g=y;return Array.isArray(d)?g=wr([v],d):"function"===typeof d&&(g=d(y)),hr(t,f,m.apply(void 0,g))}({reducer:{player:ri,user:mO,podcasts:CO}});a.createRoot(document.getElementById("root")).render((0,Ke.jsx)(r.StrictMode,{children:(0,Ke.jsx)($t,{store:pD,children:(0,Ke.jsx)(Et,{children:(0,Ke.jsx)(hD,{})})})})),dD()}()}();
//# sourceMappingURL=main.f98a05e6.js.map